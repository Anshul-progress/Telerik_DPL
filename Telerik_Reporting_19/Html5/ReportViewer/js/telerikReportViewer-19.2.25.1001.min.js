var telerikReportViewer=function(e){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t,i,r={exports:{}};function n(){if(i)return t;i=1;const{entries:e,setPrototypeOf:r,isFrozen:n,getPrototypeOf:a,getOwnPropertyDescriptor:o}=Object;let{freeze:s,seal:l,create:c}=Object,{apply:h,construct:d}="undefined"!=typeof Reflect&&Reflect;s||(s=function(e){return e}),l||(l=function(e){return e}),h||(h=function(e,t,i){return e.apply(t,i)}),d||(d=function(e,t){return new e(...t)});const u=I(Array.prototype.forEach),p=I(Array.prototype.lastIndexOf),m=I(Array.prototype.pop),g=I(Array.prototype.push),f=I(Array.prototype.splice),v=I(String.prototype.toLowerCase),b=I(String.prototype.toString),P=I(String.prototype.match),E=I(String.prototype.replace),S=I(String.prototype.indexOf),w=I(String.prototype.trim),C=I(Object.prototype.hasOwnProperty),y=I(RegExp.prototype.test),A=(T=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return d(T,t)});var T;function I(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return h(e,t,r)}}function R(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;r&&r(e,null);let a=t.length;for(;a--;){let r=t[a];if("string"==typeof r){const e=i(r);e!==r&&(n(t)||(t[a]=e),r=e)}e[r]=!0}return e}function _(e){for(let t=0;t<e.length;t++){C(e,t)||(e[t]=null)}return e}function M(t){const i=c(null);for(const[r,n]of e(t)){C(t,r)&&(Array.isArray(n)?i[r]=_(n):n&&"object"==typeof n&&n.constructor===Object?i[r]=M(n):i[r]=n)}return i}function D(e,t){for(;null!==e;){const i=o(e,t);if(i){if(i.get)return I(i.get);if("function"==typeof i.value)return I(i.value)}e=a(e)}return function(){return null}}const L=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),O=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$=s(["#text"]),F=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=l(/<%[\w\W]*|[\w\W]*%>/gm),W=l(/\$\{[\w\W]*/gm),q=l(/^data-[\-\w.\u00B7-\uFFFF]+$/),j=l(/^aria-[\-\w]+$/),K=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=l(/^(?:\w+script|data):/i),X=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=l(/^html$/i),Z=l(/^[a-z][.\w]*(-[.\w]+)+$/i);var Q=Object.freeze({__proto__:null,ARIA_ATTR:j,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:Z,DATA_ATTR:q,DOCTYPE_NAME:J,ERB_EXPR:G,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:Y,MUSTACHE_EXPR:H,TMPLIT_EXPR:W});const ee=1,te=3,ie=7,re=8,ne=9,ae=function(){return"undefined"==typeof window?null:window};var oe=function t(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae();const r=e=>t(e);if(r.version="3.2.6",r.removed=[],!i||!i.document||i.document.nodeType!==ne||!i.Element)return r.isSupported=!1,r;let{document:n}=i;const a=n,o=a.currentScript,{DocumentFragment:l,HTMLTemplateElement:h,Node:d,Element:T,NodeFilter:I,NamedNodeMap:_=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:H,DOMParser:G,trustedTypes:W}=i,q=T.prototype,j=D(q,"cloneNode"),Y=D(q,"remove"),X=D(q,"nextSibling"),Z=D(q,"childNodes"),oe=D(q,"parentNode");if("function"==typeof h){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let se,le="";const{implementation:ce,createNodeIterator:he,createDocumentFragment:de,getElementsByTagName:ue}=n,{importNode:pe}=a;let me={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof e&&"function"==typeof oe&&ce&&void 0!==ce.createHTMLDocument;const{MUSTACHE_EXPR:ge,ERB_EXPR:fe,TMPLIT_EXPR:ve,DATA_ATTR:be,ARIA_ATTR:Pe,IS_SCRIPT_OR_DATA:Ee,ATTR_WHITESPACE:Se,CUSTOM_ELEMENT:we}=Q;let{IS_ALLOWED_URI:Ce}=Q,ye=null;const Ae=R({},[...L,...k,...N,...V,...$]);let Te=null;const Ie=R({},[...F,...B,...U,...z]);let Re=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,Me=null,De=!0,Le=!0,ke=!1,Ne=!0,xe=!1,Ve=!0,Oe=!1,$e=!1,Fe=!1,Be=!1,Ue=!1,ze=!1,He=!0,Ge=!1,We=!0,qe=!1,je={},Ke=null;const Ye=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xe=null;const Je=R({},["audio","video","img","source","image","track"]);let Ze=null;const Qe=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml";let rt=it,nt=!1,at=null;const ot=R({},[et,tt,it],b);let st=R({},["mi","mo","mn","ms","mtext"]),lt=R({},["annotation-xml"]);const ct=R({},["title","style","font","a","script"]);let ht=null;const dt=["application/xhtml+xml","text/html"];let ut=null,pt=null;const mt=n.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!pt||pt!==e){if(e&&"object"==typeof e||(e={}),e=M(e),ht=-1===dt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ut="application/xhtml+xml"===ht?b:v,ye=C(e,"ALLOWED_TAGS")?R({},e.ALLOWED_TAGS,ut):Ae,Te=C(e,"ALLOWED_ATTR")?R({},e.ALLOWED_ATTR,ut):Ie,at=C(e,"ALLOWED_NAMESPACES")?R({},e.ALLOWED_NAMESPACES,b):ot,Ze=C(e,"ADD_URI_SAFE_ATTR")?R(M(Qe),e.ADD_URI_SAFE_ATTR,ut):Qe,Xe=C(e,"ADD_DATA_URI_TAGS")?R(M(Je),e.ADD_DATA_URI_TAGS,ut):Je,Ke=C(e,"FORBID_CONTENTS")?R({},e.FORBID_CONTENTS,ut):Ye,_e=C(e,"FORBID_TAGS")?R({},e.FORBID_TAGS,ut):M({}),Me=C(e,"FORBID_ATTR")?R({},e.FORBID_ATTR,ut):M({}),je=!!C(e,"USE_PROFILES")&&e.USE_PROFILES,De=!1!==e.ALLOW_ARIA_ATTR,Le=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,xe=e.SAFE_FOR_TEMPLATES||!1,Ve=!1!==e.SAFE_FOR_XML,Oe=e.WHOLE_DOCUMENT||!1,Be=e.RETURN_DOM||!1,Ue=e.RETURN_DOM_FRAGMENT||!1,ze=e.RETURN_TRUSTED_TYPE||!1,Fe=e.FORCE_BODY||!1,He=!1!==e.SANITIZE_DOM,Ge=e.SANITIZE_NAMED_PROPS||!1,We=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,Ce=e.ALLOWED_URI_REGEXP||K,rt=e.NAMESPACE||it,st=e.MATHML_TEXT_INTEGRATION_POINTS||st,lt=e.HTML_INTEGRATION_POINTS||lt,Re=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Re.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(Le=!1),Ue&&(Be=!0),je&&(ye=R({},$),Te=[],!0===je.html&&(R(ye,L),R(Te,F)),!0===je.svg&&(R(ye,k),R(Te,B),R(Te,z)),!0===je.svgFilters&&(R(ye,N),R(Te,B),R(Te,z)),!0===je.mathMl&&(R(ye,V),R(Te,U),R(Te,z))),e.ADD_TAGS&&(ye===Ae&&(ye=M(ye)),R(ye,e.ADD_TAGS,ut)),e.ADD_ATTR&&(Te===Ie&&(Te=M(Te)),R(Te,e.ADD_ATTR,ut)),e.ADD_URI_SAFE_ATTR&&R(Ze,e.ADD_URI_SAFE_ATTR,ut),e.FORBID_CONTENTS&&(Ke===Ye&&(Ke=M(Ke)),R(Ke,e.FORBID_CONTENTS,ut)),We&&(ye["#text"]=!0),Oe&&R(ye,["html","head","body"]),ye.table&&(R(ye,["tbody"]),delete _e.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');se=e.TRUSTED_TYPES_POLICY,le=se.createHTML("")}else void 0===se&&(se=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}}(W,o)),null!==se&&"string"==typeof le&&(le=se.createHTML(""));s&&s(e),pt=e}},vt=R({},[...k,...N,...x]),bt=R({},[...V,...O]),Pt=function(e){g(r.removed,{element:e});try{oe(e).removeChild(e)}catch(t){Y(e)}},Et=function(e,t){try{g(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Be||Ue)try{Pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},St=function(e){let t=null,i=null;if(Fe)e="<remove></remove>"+e;else{const t=P(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===ht&&rt===it&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=se?se.createHTML(e):e;if(rt===it)try{t=(new G).parseFromString(r,ht)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(rt,"template",null);try{t.documentElement.innerHTML=nt?le:r}catch(e){}}const a=t.body||t.documentElement;return e&&i&&a.insertBefore(n.createTextNode(i),a.childNodes[0]||null),rt===it?ue.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:a},wt=function(e){return he.call(e.ownerDocument||e,e,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT|I.SHOW_PROCESSING_INSTRUCTION|I.SHOW_CDATA_SECTION,null)},Ct=function(e){return e instanceof H&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof _)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof d&&e instanceof d};function At(e,t,i){u(e,(e=>{e.call(r,t,i,pt)}))}const Tt=function(e){let t=null;if(At(me.beforeSanitizeElements,e,null),Ct(e))return Pt(e),!0;const i=ut(e.nodeName);if(At(me.uponSanitizeElement,e,{tagName:i,allowedTags:ye}),Ve&&e.hasChildNodes()&&!yt(e.firstElementChild)&&y(/<[/\w!]/g,e.innerHTML)&&y(/<[/\w!]/g,e.textContent))return Pt(e),!0;if(e.nodeType===ie)return Pt(e),!0;if(Ve&&e.nodeType===re&&y(/<[/\w]/g,e.data))return Pt(e),!0;if(!ye[i]||_e[i]){if(!_e[i]&&Rt(i)){if(Re.tagNameCheck instanceof RegExp&&y(Re.tagNameCheck,i))return!1;if(Re.tagNameCheck instanceof Function&&Re.tagNameCheck(i))return!1}if(We&&!Ke[i]){const t=oe(e)||e.parentNode,i=Z(e)||e.childNodes;if(i&&t){for(let r=i.length-1;r>=0;--r){const n=j(i[r],!0);n.__removalCount=(e.__removalCount||0)+1,t.insertBefore(n,X(e))}}}return Pt(e),!0}return e instanceof T&&!function(e){let t=oe(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});const i=v(e.tagName),r=v(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===it?"svg"===i:t.namespaceURI===et?"svg"===i&&("annotation-xml"===r||st[r]):Boolean(vt[i]):e.namespaceURI===et?t.namespaceURI===it?"math"===i:t.namespaceURI===tt?"math"===i&&lt[r]:Boolean(bt[i]):e.namespaceURI===it?!(t.namespaceURI===tt&&!lt[r])&&!(t.namespaceURI===et&&!st[r])&&!bt[i]&&(ct[i]||!vt[i]):!("application/xhtml+xml"!==ht||!at[e.namespaceURI]))}(e)?(Pt(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!y(/<\/no(script|embed|frames)/i,e.innerHTML)?(xe&&e.nodeType===te&&(t=e.textContent,u([ge,fe,ve],(e=>{t=E(t,e," ")})),e.textContent!==t&&(g(r.removed,{element:e.cloneNode()}),e.textContent=t)),At(me.afterSanitizeElements,e,null),!1):(Pt(e),!0)},It=function(e,t,i){if(He&&("id"===t||"name"===t)&&(i in n||i in mt))return!1;if(Le&&!Me[t]&&y(be,t));else if(De&&y(Pe,t));else if(!Te[t]||Me[t]){if(!(Rt(e)&&(Re.tagNameCheck instanceof RegExp&&y(Re.tagNameCheck,e)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(e))&&(Re.attributeNameCheck instanceof RegExp&&y(Re.attributeNameCheck,t)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(t))||"is"===t&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&y(Re.tagNameCheck,i)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(i))))return!1}else if(Ze[t]);else if(y(Ce,E(i,Se,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(i,"data:")||!Xe[e]){if(ke&&!y(Ee,E(i,Se,"")));else if(i)return!1}else;return!0},Rt=function(e){return"annotation-xml"!==e&&P(e,we)},_t=function(e){At(me.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ct(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te,forceKeepAttr:void 0};let n=t.length;for(;n--;){const a=t[n],{name:o,namespaceURI:s,value:l}=a,c=ut(o),h=l;let d="value"===o?h:w(h);if(i.attrName=c,i.attrValue=d,i.keepAttr=!0,i.forceKeepAttr=void 0,At(me.uponSanitizeAttribute,e,i),d=i.attrValue,!Ge||"id"!==c&&"name"!==c||(Et(o,e),d="user-content-"+d),Ve&&y(/((--!?|])>)|<\/(style|title)/i,d)){Et(o,e);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr){Et(o,e);continue}if(!Ne&&y(/\/>/i,d)){Et(o,e);continue}xe&&u([ge,fe,ve],(e=>{d=E(d,e," ")}));const p=ut(e.nodeName);if(It(p,c,d)){if(se&&"object"==typeof W&&"function"==typeof W.getAttributeType)if(s);else switch(W.getAttributeType(p,c)){case"TrustedHTML":d=se.createHTML(d);break;case"TrustedScriptURL":d=se.createScriptURL(d)}if(d!==h)try{s?e.setAttributeNS(s,o,d):e.setAttribute(o,d),Ct(e)?Pt(e):m(r.removed)}catch(t){Et(o,e)}}else Et(o,e)}At(me.afterSanitizeAttributes,e,null)},Mt=function e(t){let i=null;const r=wt(t);for(At(me.beforeSanitizeShadowDOM,t,null);i=r.nextNode();)At(me.uponSanitizeShadowNode,i,null),Tt(i),_t(i),i.content instanceof l&&e(i.content);At(me.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,n=null,o=null,s=null;if(nt=!e,nt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!r.isSupported)return e;if($e||ft(t),r.removed=[],"string"==typeof e&&(qe=!1),qe){if(e.nodeName){const t=ut(e.nodeName);if(!ye[t]||_e[t])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)i=St("\x3c!----\x3e"),n=i.ownerDocument.importNode(e,!0),n.nodeType===ee&&"BODY"===n.nodeName||"HTML"===n.nodeName?i=n:i.appendChild(n);else{if(!Be&&!xe&&!Oe&&-1===e.indexOf("<"))return se&&ze?se.createHTML(e):e;if(i=St(e),!i)return Be?null:ze?le:""}i&&Fe&&Pt(i.firstChild);const c=wt(qe?e:i);for(;o=c.nextNode();)Tt(o),_t(o),o.content instanceof l&&Mt(o.content);if(qe)return e;if(Be){if(Ue)for(s=de.call(i.ownerDocument);i.firstChild;)s.appendChild(i.firstChild);else s=i;return(Te.shadowroot||Te.shadowrootmode)&&(s=pe.call(a,s,!0)),s}let h=Oe?i.outerHTML:i.innerHTML;return Oe&&ye["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&y(J,i.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+h),xe&&u([ge,fe,ve],(e=>{h=E(h,e," ")})),se&&ze?se.createHTML(h):h},r.setConfig=function(){ft(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$e=!0},r.clearConfig=function(){pt=null,$e=!1},r.isValidAttribute=function(e,t,i){pt||ft({});const r=ut(e),n=ut(t);return It(r,n,i)},r.addHook=function(e,t){"function"==typeof t&&g(me[e],t)},r.removeHook=function(e,t){if(void 0!==t){const i=p(me[e],t);return-1===i?void 0:f(me[e],i,1)[0]}return m(me[e])},r.removeHooks=function(e){me[e]=[]},r.removeAllHooks=function(){me={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();return t=oe}!function(e,t){!function(e,t){function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=i(t);function n(e,t,i,r){return new(i||(i=Promise))((function(n,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}class a{constructor(){this.BasePath="",this.ImmediatePrint=!1,this.ContentOnly=!1,this.UseSVG=!1,this.enableSearch=!1,this.enableAccessibility=!1,this.contentTabIndex=0}}class o{constructor(){this.from="",this.to="",this.cc="",this.subject="",this.format="",this.body=""}}class s{constructor(e,t){this.cancel=!1,this.element=e,this.action=t}}class l{constructor(e,t){this.id="",this.type="",this.id=e,this.type=t}}class c{constructor(e,t){this.isCancelled=!1,this.format="",this.deviceInfo=e,this.format=t}}class h{constructor(e,t,i){this.handled=!1,this.url=e,this.format=t,this.windowOpenTarget=i}}class d{constructor(e,t){this._responseText=e,this._error=t;try{this._responseJSON=JSON.parse(e)}catch(e){this._responseJSON=null}}get responseText(){return this._responseText}get responseJSON(){return this._responseJSON}get error(){return this._error}get exceptionMessage(){var e,t;return(null===(e=this.responseJSON)||void 0===e?void 0:e.exceptionMessage)||(null===(t=this.responseJSON)||void 0===t?void 0:t.ExceptionMessage)}}function u(e,t=!1,i=!1){let r={Accept:"application/json, text/javascript, */*; q=0.01"};return t&&(r["Content-Type"]=i?"application/x-www-form-urlencoded; charset=UTF-8":"application/json; charset=UTF-8"),e&&(r.authorization="Bearer "+e),r}function p(e){return n(this,void 0,void 0,(function*(){if(!e.ok){let t=yield e.text(),i=new d(t,e.statusText);return Promise.reject(i)}return 204==e.status?Promise.resolve():(e.headers.get("content-type")||"").includes("application/json")?e.json():e.text()}))}function m(e,t={},i="",r=!1){return fetch(e,{method:"POST",headers:u(i,!0,r),body:r?t:JSON.stringify(t)}).then(p)}function g(){}function f(){f.init.call(this)}function v(e){return void 0===e._maxListeners?f.defaultMaxListeners:e._maxListeners}function b(e,t,i,r){var n,a,o,s;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]):(a=e._events=new g,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),!o.warned&&(n=v(e))&&n>0&&o.length>n){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,"function"==typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=i,++e._eventsCount;return e}function P(e,t,i){var r=!1;function n(){e.removeListener(t,n),r||(r=!0,i.apply(e,arguments))}return n.listener=i,n}function E(e){var t=this._events;if(t){var i=t[e];if("function"==typeof i)return 1;if(i)return i.length}return 0}function S(e,t){for(var i=new Array(t);t--;)i[t]=e[t];return i}g.prototype=Object.create(null),f.EventEmitter=f,f.usingDomains=!1,f.prototype.domain=void 0,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.init=function(){this.domain=null,f.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new g,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},f.prototype.getMaxListeners=function(){return v(this)},f.prototype.emit=function(e){var t,i,r,n,a,o,s,l="error"===e;if(o=this._events)l=l&&null==o.error;else if(!l)return!1;if(s=this.domain,l){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(i=o[e]))return!1;var h="function"==typeof i;switch(r=arguments.length){case 1:!function(e,t,i){if(t)e.call(i);else for(var r=e.length,n=S(e,r),a=0;a<r;++a)n[a].call(i)}(i,h,this);break;case 2:!function(e,t,i,r){if(t)e.call(i,r);else for(var n=e.length,a=S(e,n),o=0;o<n;++o)a[o].call(i,r)}(i,h,this,arguments[1]);break;case 3:!function(e,t,i,r,n){if(t)e.call(i,r,n);else for(var a=e.length,o=S(e,a),s=0;s<a;++s)o[s].call(i,r,n)}(i,h,this,arguments[1],arguments[2]);break;case 4:!function(e,t,i,r,n,a){if(t)e.call(i,r,n,a);else for(var o=e.length,s=S(e,o),l=0;l<o;++l)s[l].call(i,r,n,a)}(i,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(r-1),a=1;a<r;a++)n[a-1]=arguments[a];!function(e,t,i,r){if(t)e.apply(i,r);else for(var n=e.length,a=S(e,n),o=0;o<n;++o)a[o].apply(i,r)}(i,h,this,n)}return!0},f.prototype.addListener=function(e,t){return b(this,e,t,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(e,t){return b(this,e,t,!0)},f.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,P(this,e,t)),this},f.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,P(this,e,t)),this},f.prototype.removeListener=function(e,t){var i,r,n,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(i=r[e]))return this;if(i===t||i.listener&&i.listener===t)0==--this._eventsCount?this._events=new g:(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(n=-1,a=i.length;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=i[a].listener,n=a;break}if(n<0)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new g,this;delete r[e]}else!function(e,t){for(var i=t,r=i+1,n=e.length;r<n;i+=1,r+=1)e[i]=e[r];e.pop()}(i,n);r.removeListener&&this.emit("removeListener",e,o||t)}return this},f.prototype.off=function(e,t){return this.removeListener(e,t)},f.prototype.removeAllListeners=function(e){var t,i;if(!(i=this._events))return this;if(!i.removeListener)return 0===arguments.length?(this._events=new g,this._eventsCount=0):i[e]&&(0==--this._eventsCount?this._events=new g:delete i[e]),this;if(0===arguments.length){for(var r,n=Object.keys(i),a=0;a<n.length;++a)"removeListener"!==(r=n[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new g,this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},f.prototype.listeners=function(e){var t,i=this._events;return i&&(t=i[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(t):[]},f.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},f.prototype.listenerCount=E,f.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};const w="function"==typeof Symbol?Symbol.for("--[[await-event-emitter]]--"):"--[[await-event-emitter]]--";function C(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("type is not type of string or symbol!")}function y(e){if("function"!=typeof e)throw new TypeError("fn is not type of Function!")}function A(e){return{[w]:"always",fn:e}}function T(e){return{[w]:"once",fn:e}}class I{constructor(){this._events={}}addListener(e,t){return this.on(e,t)}on(e,t){return C(e),y(t),this._events[e]=this._events[e]||[],this._events[e].push(A(t)),this}prependListener(e,t){return this.prepend(e,t)}prepend(e,t){return C(e),y(t),this._events[e]=this._events[e]||[],this._events[e].unshift(A(t)),this}prependOnceListener(e,t){return this.prependOnce(e,t)}prependOnce(e,t){return C(e),y(t),this._events[e]=this._events[e]||[],this._events[e].unshift(T(t)),this}listeners(e){return(this._events[e]||[]).map((e=>e.fn))}once(e,t){return C(e),y(t),this._events[e]=this._events[e]||[],this._events[e].push(T(t)),this}removeAllListeners(){this._events={}}off(e,t){return this.removeListener(e,t)}removeListener(e,t){C(e);const i=this.listeners(e);if("function"==typeof t){let r=-1,n=!1;for(;(r=i.indexOf(t))>=0;)i.splice(r,1),this._events[e].splice(r,1),n=!0;return n}return delete this._events[e]}emit(e,...t){return n(this,void 0,void 0,(function*(){C(e);const i=this.listeners(e),r=[];if(i&&i.length){for(let n=0;n<i.length;n++){const a=i[n],o=a.apply(this,t);o instanceof Promise&&(yield o),this._events[e]&&this._events[e][n]&&"once"===this._events[e][n][w]&&r.push(a)}return r.forEach((t=>this.removeListener(e,t))),!0}return!1}))}emitSync(e,...t){C(e);const i=this.listeners(e),r=[];if(i&&i.length){for(let n=0;n<i.length;n++){const a=i[n];a.apply(this,t),this._events[e]&&this._events[e][n]&&"once"===this._events[e][n][w]&&r.push(a)}return r.forEach((t=>this.removeListener(e,t))),!0}return!1}}class R{constructor(){this.eventEmitter=new f,this.awaitEventEmitter=new I}on(e,t){return this.eventEmitter.on(e,t),this}emit(e,...t){this.eventEmitter.emit(e,...t)}onAsync(e,t){return this.awaitEventEmitter.on(e,t),this}emitAsync(e,...t){return n(this,void 0,void 0,(function*(){yield this.awaitEventEmitter.emit(e,...t)}))}}class _{hasPdfPlugin(){let e=["AcroPDF.PDF.1","PDF.PdfCtrl.6","PDF.PdfCtrl.5"];for(let t of e)try{let e=new ActiveXObject(t);if(e)return null!==e}catch(e){}return!1}}class M{hasPdfPlugin(){let e=/Firefox[/\s](\d+\.\d+)/.exec(navigator.userAgent);if(null!==e&&e.length>1&&parseFloat(e[1])>=19)return!1;let t=navigator.mimeTypes["application/pdf"],i=null!==t?t.enabledPlugin:null;if(i){let e=i.description;return-1!==e.indexOf("Adobe")&&(-1===e.indexOf("Version")||parseFloat(e.split("Version")[1])>=6)}return!1}}class D{constructor(e){this.defaultPlugin=e}hasPdfPlugin(){for(let e of navigator.plugins)if(e.name===this.defaultPlugin||"Adobe Acrobat"===e.name)return!0;return!1}}class L{hasPdfPlugin(){return!1}}function k(){return window.navigator&&window.navigator.msSaveOrOpenBlob}class N{constructor(){this.hasPdfPlugin=!1,this.iframe=null,this.hasPdfPlugin=function(){if(window.navigator){let e=window.navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf("mozilla")>-1&&e.indexOf("trident")>-1?new _:e.indexOf("firefox")>-1?new M:e.indexOf("edg/")>-1?new D("Microsoft Edge PDF Plugin"):e.indexOf("chrome")>-1?new D("Chrome PDF Viewer"):e.indexOf("safari")>-1?new D("WebKit built-in PDF"):new L}return new L}().hasPdfPlugin(),this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}destroy(){this.iframe=null}printDesktop(e){let t=null;if(this.iframe||(this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.iframe.onload=()=>{var e,i;try{null===(i=null===(e=this.iframe)||void 0===e?void 0:e.contentDocument)||void 0===i||i.execCommand("print",!0)}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}),function(e){let t=window.location,i=document.createElement("a");return i.setAttribute("href",e),""==i.host&&(i.href=i.href),t.hostname===i.hostname&&t.protocol===i.protocol&&t.port===i.port}(e)&&k())return this.iframe.src=e,void document.body.appendChild(this.iframe);let i=new XMLHttpRequest,r=this;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){if(200===this.status){let e=new Blob([this.response],{type:"application/pdf"});k()?window.navigator.msSaveOrOpenBlob(e):(t=(window.URL||window.webkitURL).createObjectURL(e),null!=r.iframe&&(r.iframe.src=t,document.body.appendChild(r.iframe)))}else console.log("Could not retrieve remote PDF document.")},i.send()}printMobile(e){window.open(e,"_self")}print(e){this.isMobile?this.printMobile(e):this.printDesktop(e)}getDirectPrintState(){return this.hasPdfPlugin}}function x(e){return 1e3*e}class V{constructor(e,t,i){if(this.pingMilliseconds=0,!e)throw"Error";this.serviceClient=e,this.clientID=t,this.initSessionTimeout(i)}initSessionTimeout(e){if(!isFinite(e))throw"sessionTimeoutSeconds must be finite";this.pingMilliseconds=e<=120?x(e)/2:x(e-60)}start(){this.pingMilliseconds<=0||(this.interval=setInterval((()=>{this.serviceClient.keepClientAlive(this.clientID)}),this.pingMilliseconds))}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}}var O,$,F,B,U;function z(e,t="",i=""){let r=document.createElement(e);return t&&(r.id=t),H(r,i),r}function H(e,t){if(""===t||!e)return;let i=t.trim().split(" ");i=i.filter((e=>""!==e.trim())),e.classList.add(...i)}function G(e,t){if(""===t||!e)return;let i=t.trim().split(" ");i=i.filter((e=>""!==e.trim())),e.classList.remove(...i)}function W(e,t){return e.classList.contains(t)}function q(e){return e.offsetParent}function j(e){return parseInt(e,10)||0}function K(e,t,i,r=0,n=0){let a=`${r=r||0} ${n=n||0}`;var o,s;s=`scale(${t=t||1}, ${i=i||1})`,(o=e).style.setProperty("transform",s),o.style.setProperty("-moz-transform",s),o.style.setProperty("-ms-transform",s),o.style.setProperty("-webkit-transform",s),o.style.setProperty("-o-transform",s),function(e,t){e.style.setProperty("transform-origin",t),e.style.setProperty("-moz-transform-origin",t),e.style.setProperty("-ms-transform-origin",t),e.style.setProperty("-webkit-transform-origin",t),e.style.setProperty("-o-transform-origin",t)}(e,a)}function Y(e){let t=z("div");return t.textContent=e,t.innerHTML}function X(e){if(e&&e.length<6){let t=1,i=e.split("");for("#"!==i[0]&&(t=0);t<i.length;t++)i[t]=i[t]+i[t];e=i.join("")}let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null}function J(e){return!!e&&e.indexOf(",")>-1}function Z(e){if("transparent"===e.toLowerCase())return 0;if(!J(e))return 1;if(-1!==e.indexOf("#")){let t=X(e);if(null===t)return 1;e=t}let t=e.split(",").map((function(e){return e.trim()}));return 4===t.length?parseFloat((parseFloat(t[3].replace(/[()]/g,""))/255).toFixed(2)):1}function Q(e,t){let i=z("div");for(i.innerHTML=t;i.childNodes.length;)e.appendChild(i.childNodes[0])}function ee(e,t){let i=z("div");for(i.innerHTML=t;i.childNodes.length;)e.prepend(i.childNodes[i.childNodes.length-1])}function te(e,t){return null===e?null:e.querySelector(t)}function ie(e,t){var i;return e&&e.attributes&&(null===(i=e.attributes[t])||void 0===i?void 0:i.value)||""}function re(e){let t=e.parentElement;return t?t.clientHeight!=t.scrollHeight?t:re(t):null}function ne(e,t=300){let i;return function(...r){clearTimeout(i),i=setTimeout((()=>e.apply(this,r)),t)}}function ae(e,t){let i=null;return function(r,...n){i||(i=setTimeout((function(){e.apply(r,n),i=null}),t))}}function oe(e,t){return!!e.responseJSON&&e.responseJSON.exceptionType===t}function se(e){return oe(e,"Telerik.Reporting.Services.Engine.InvalidClientException")}function le(e){return oe(e,"Telerik.Reporting.Services.Engine.InvalidParameterException")}function ce(e){return!!e&&"internalservererror"===e.split(" ").join("").toLowerCase()}function he(e,...t){return e.replace(/{(\d+)}/g,((e,i)=>t[i]||""))}function de(e,t){let i,r;if(ue(e))for(i=e.length,r=0;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e}function ue(e){return!!Array.isArray(e)||"number"==typeof(!!e&&"length"in e&&e.length)}function pe(e){return/^(\-|\+)?([0-9]+)$/.test(e)?Number(e):NaN}function me(e){return/^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(e)?Number(e):NaN}function ge(e){return e instanceof Date?e:(/Z|[\+\-]\d\d:?\d\d/i.test(e)||(e+="Z"),new Date(e))}e.PageMode=void 0,(O=e.PageMode||(e.PageMode={}))[O.ContinuousScroll=0]="ContinuousScroll",O[O.SinglePage=1]="SinglePage",e.PrintMode=void 0,($=e.PrintMode||(e.PrintMode={}))[$.AutoSelect=0]="AutoSelect",$[$.ForcePDFPlugin=1]="ForcePDFPlugin",$[$.ForcePDFFile=2]="ForcePDFFile",e.ScaleMode=void 0,(F=e.ScaleMode||(e.ScaleMode={}))[F.FitPageWidth=0]="FitPageWidth",F[F.FitPage=1]="FitPage",F[F.Specific=2]="Specific",e.ServiceType=void 0,(B=e.ServiceType||(e.ServiceType={}))[B.REST=0]="REST",B[B.ReportServer=1]="ReportServer",e.ViewMode=void 0,(U=e.ViewMode||(e.ViewMode={}))[U.Interactive=0]="Interactive",U[U.PrintPreview=1]="PrintPreview";class fe{constructor(e){this.handled=!1,this.deviceInfo=e}}class ve{constructor(e){this.handled=!1,this.url=e}}class be{constructor(e,t){this.handled=!1,this.deviceInfo=e,this.format=t}}class Pe{constructor(e,t){this.handled=!1,this.deviceInfo=e,this.format=t}}class Ee extends o{constructor(e,t,i){super(),this.handled=!1,this.body=e.body,this.cc=e.cc,this.format=e.format,this.from=e.from,this.subject=e.subject,this.to=e.to,this.deviceInfo=t,this.url=i}}const Se="System.Int64",we="System.Double",Ce="System.String",ye="System.DateTime",Ae="System.Boolean";var Te=function(){var e={};function t(e,t,i,r){var n=[].concat(t).map((function(t){return function(e,t,i){if(e.availableValues){var r=!1;if(de(e.availableValues,(function(e,n){return!(r=i(t,n.value))})),!r){if(e.allowNull&&!t)return t;throw"Please input a valid value."}}return t}(e,i(t),r)}));if(e.multivalue){if(null==t||0==t.length){if(e.allowNull)return t;throw"Please input a valid value."}return n}return n[0]}function i(e,t){return e.allowNull&&-1!=[null,"",void 0].indexOf(t)}return e[Ce]={validate:function(e,i){return t(e,i,(function(t){if(!t){if(e.allowNull)return null;if(e.allowBlank)return"";throw"Parameter value cannot be empty."}return t}),(function(e,t){return e==t}))}},e[we]={validate:function(e,r){return t(e,r,(function(t){var r=me(t);if(isNaN(r)){if(i(e,t))return null;throw"Parameter value cannot be empty."}return r}),(function(e,t){return me(e)==me(t)}))}},e[Se]={validate:function(e,r){return t(e,r,(function(t){var r=pe(t);if(isNaN(r)){if(i(e,t))return null;throw"Parameter value cannot be empty."}return r}),(function(e,t){return pe(e)==me(t)}))}},e[ye]={validate:function(e,i){return t(e,i,(function(t){if(e.allowNull&&(null===t||""===t||void 0===t))return null;if(!isNaN(Date.parse(t)))return e.availableValues?t:ge(t);throw"Please input a valid date."}),(function(e,t){return e=ge(e),t=ge(t),e.getTime()==t.getTime()}))}},e[Ae]={validate:function(e,r){return t(e,r,(function(t){if(-1!=["true","false"].indexOf(String(t).toLowerCase()))return Boolean(t);if(i(e,t))return null;throw"Parameter value cannot be empty."}),(function(e,t){return Boolean(e)==Boolean(t)}))}},{validate:function(t,i){var r=e[t.type];if(!r)throw he("Cannot validate parameter of type {type}.",t);return r.validate(t,i)}}}();function Ie(e,t,i){try{const r=e.availableValues.find((e=>e.value===t));if(!r)throw new Error(`The available values of parameter ${i} do not contain Value property that equals ${t}`);return{valueMember:t,displayMember:r.name}}catch(e){return}}function Re(e,t,i){const r=[];for(let n in t)r.push(Ie(e,t[n],i));return r}class _e{constructor(e="",t={}){this.report=e,this.parameters=t}}class Me{constructor(e,t,i,r=null){this.element=e,this.text=t,this.title=i,this.eventArgs=r}}class De extends R{constructor(e){super(),this.resizeObserver=null,this.element=e,this.initResizeObserver()}destroy(){this.destroyResizeObserver()}initResizeObserver(){this.debounceResize=ne(this.onResize.bind(this),50),this.resizeObserver=new ResizeObserver(this.debounceResize),this.resizeObserver.observe(this.element)}destroyResizeObserver(){this.resizeObserver&&this.resizeObserver.unobserve(this.element),this.resizeObserver=this.debounceResize=null}onResize(e){e[0].target===this.element&&this.emit("resize")}}const Le='<div class="trv-report-page trv-skeleton-page trv-skeleton-{0}" style="{1}" data-page="{0}"><div class="trv-skeleton-wrapper" style="{2}"></div></div>';class ke{constructor(t,i,r){this.enabled=!1,this.viewMode=e.ViewMode.Interactive,this.scrollInProgress=!1,this.additionalTopOffset=130,this.onClickHandler=null,this.debounceScroll=null,this.throttleScroll=null,this.oldScrollTopPosition=0,this.lastLoadedPage=null,this.placeholder=t,this.pageContainer=t.querySelector(".trv-page-container"),this.pageWrapper=t.querySelector(".trv-page-wrapper"),this.contentArea=i,this.controller=r,this.controller.getPageMode()===e.PageMode.ContinuousScroll&&this.enable(),this.controller.on("loadedReportChange",this.disable.bind(this)).on("viewModeChanged",this.disable.bind(this)).on("scaleChanged",this.onScaleChanged.bind(this)).on("interactiveActionExecuting",this.onInteractiveActionExecuting.bind(this)).on("pageLoaded",this.onPageLoaded.bind(this))}onPageLoaded(){this.currentPageNumber()>0&&!this.scrollInProgress&&setTimeout((()=>{this.loadMorePages()}),100)}onScaleChanged(){this.enabled&&setTimeout((()=>{this.loadMorePages(),this.keepCurrentPageInToView()}),100)}onInteractiveActionExecuting(e){const t=e.action.Type;!this.enabled||"sorting"!==t&&"toggleVisibility"!==t||this.disable()}getEnabled(){return this.enabled}enable(){this.enabled=!0,H(this.placeholder,"scrollable"),this.initEvents()}disable(){this.enabled&&(this.lastLoadedPage=null,this.pageWrapper.innerHTML="",this.enabled=!1,G(this.placeholder,"scrollable"),this.unbind())}renderPage(e){let t=this.controller.getViewMode(),i=this.findPageElement(e.pageNumber);this.enabled?(t===this.viewMode&&i?this.navigateToPage(e,i):this.updatePageArea(e),this.viewMode=this.controller.getViewMode()):(this.enable(),t===this.viewMode&&i?(this.render(e,!0),this.pageContainer.scrollTop=3,this.setCurrentPage(e.pageNumber)):this.updatePageArea(e),this.viewMode=this.controller.getViewMode(),this.loadMorePages())}navigateToElement(e,t){this.scrollInProgress=!0,this.isSkeletonScreen(null,t)?this.getAndRenderPage(t).then((()=>{this.scrollToPage(e,t)})):this.scrollToPage(e,t)}updatePageDimensionsReady(){this.enabled&&this.currentPageNumber()>0&&this.keepCurrentPageInToView()}setCurrentPage(e){e!==this.currentPageNumber()&&this.controller.setCurrentPageNumber(e),this.controller.getPageCount()>1&&(G(this.findElement(".k-state-default"),"k-state-default"),H(this.findPageElement(e),"k-state-default")),this.loadNextPreviousPage(e)}updatePageArea(e){var t;let i=0,r=e.pageNumber;this.scrollInProgress=!0,r>1&&this.generateSkeletonScreens(r),this.render(e,!1),this.setCurrentPage(e.pageNumber),i=r>1&&(null===(t=this.findPageElement(r))||void 0===t?void 0:t.offsetTop)||0,this.animateScroll(i,0,(()=>{this.scrollInProgress=!1}))}navigateToPage(e,t){this.scrollInProgress=!0;let i=t.offsetTop,r=e.pageNumber;this.isSkeletonScreen(t,r)?this.getAndRenderPage(r).then((()=>{this.scrollToPage(i,r)})):(this.updatePageContent(e,t),this.scrollToPage(i,r))}updatePageContent(e,t){this.contentArea.updatePageStyle(e);let i=this.contentArea.renderPageElement(e);t.after(i),t.remove(),this.contentArea.setScrollablePage(i,e),this.controller.applySearchColors()}currentPageNumber(){return this.controller.getCurrentPageNumber()}isSkeletonScreen(e,t){return!(!e&&!(e=this.findPageElement(t)))&&W(e,"trv-skeleton-"+t)}addSkeletonScreen(e,t){let i=e+(t?1:-1),r=this.findPageElement(i),n=ie(r,"style"),a=ie(null==r?void 0:r.querySelector("sheet"),"style"),o=he(Le,e,n,a);t?ee(this.pageWrapper,o):Q(this.pageWrapper,o)}generateSkeletonScreens(e){var t;let i="",r=this.findPageElement(1),n=ie(r,"style"),a=ie(null==r?void 0:r.querySelector("sheet"),"style"),o=null===(t=this.findLastElement(".trv-report-page"))||void 0===t?void 0:t.dataset.page,s=o?parseInt(o)+1:1;for(;s<e;s++)i+=he(Le,s,n,a);Q(this.pageWrapper,i)}loadMorePages(){var e;let t=this.controller.getPageCount(),i=this.pageContainer.offsetHeight>this.pageWrapper.offsetHeight;if(t>1)if(i){this.scrollInProgress=!0;let i=null===(e=this.findLastElement(".trv-report-page"))||void 0===e?void 0:e.dataset.page,r=i?parseInt(i)+1:1;r<=t&&this.getAndRenderPage(r).then((()=>{this.loadMorePages(),this.scrollInProgress=!1}))}else this.loadVisiblePages(),this.scrollInProgress=!1}loadVisiblePages(){this.placeholder.querySelectorAll(".trv-report-page").forEach((e=>{let t=e,i=parseInt(t.dataset.page||"");this.scrolledInToView(t)&&this.isSkeletonScreen(t,i)&&this.getAndRenderPage(i)}))}scrolledInToView(e){if(!e)return!1;let t=e.getBoundingClientRect(),i=e.closest(".trv-pages-pane");if(!i)return!1;let r=i.getBoundingClientRect(),n=r.top,a=r.bottom,o=t.top,s=t.bottom,l=this.additionalTopOffset+n;return o>0&&o<a||s<a&&s>l}render(e,t){let i=e.pageNumber,r=this.findPageElement(i);if(!t&&r&&!this.isSkeletonScreen(r,i))return;(null==this.lastLoadedPage||this.lastLoadedPage.pageNumber<e.pageNumber)&&(this.lastLoadedPage=e),this.contentArea.updatePageStyle(this.lastLoadedPage);let n=this.contentArea.renderPageElement(e);t&&(this.pageWrapper.innerHTML=""),this.pageWrapper.dataset.pageNumber=i.toString();let a=this.findElement(".trv-skeleton-"+i);a?(a.after(n),a.remove()):this.pageWrapper.append(n),this.contentArea.setScrollablePage(n,e),this.controller.applySearchColors()}loadNextPreviousPage(e){if(e<this.controller.getPageCount()){let t=e+1,i=this.findPageElement(t);i&&this.isSkeletonScreen(i,t)&&this.getAndRenderPage(t)}if(e>1){let t=e-1,i=this.findPageElement(t);i&&this.isSkeletonScreen(i,t)}}initEvents(){this.onClickHandler=this.clickPage.bind(this),this.debounceScroll=ne((()=>{let e=this.placeholder.querySelectorAll(".trv-report-page"),t=Math.round(this.pageContainer.scrollTop+this.pageContainer.offsetHeight);!this.scrollInProgress&&e.length&&this.oldScrollTopPosition!==t&&this.advanceCurrentPage(Array.from(e))}),250),this.throttleScroll=ae((()=>{let e=this.placeholder.querySelectorAll(".trv-report-page"),t=Math.round(this.pageContainer.scrollTop+this.pageContainer.offsetHeight);this.scrollInProgress||this.oldScrollTopPosition===t||(this.oldScrollTopPosition>t?this.scrollUp(Array.from(e)):this.scrollDown(Array.from(e),t)),this.oldScrollTopPosition=t}),250),this.pageContainer.addEventListener("click",this.onClickHandler),this.pageContainer.addEventListener("scroll",this.debounceScroll),this.pageContainer.addEventListener("scroll",this.throttleScroll)}unbind(){this.pageContainer.removeEventListener("click",this.onClickHandler),this.pageContainer.removeEventListener("scroll",this.debounceScroll),this.pageContainer.removeEventListener("scroll",this.throttleScroll)}clickPage(e){var t;let i=null===(t=e.target)||void 0===t?void 0:t.closest(".trv-report-page");if(!i)return;let r=this.currentPageNumber(),n=parseInt(i.dataset.page||"");r!==n&&(this.isSkeletonScreen(i,n)?this.getAndRenderPage(n).then((e=>{this.setCurrentPage(e.pageNumber)})):this.setCurrentPage(n))}advanceCurrentPage(e){let t=this.findNewCurrentPage(e);if(t){let e=parseInt(t.dataset.page||"-1"),i=this.currentPageNumber(),r=this.scrolledInToView(this.findPageElement(i));i===e||r||(this.isSkeletonScreen(t,e)?this.getAndRenderPage(e).then((e=>{this.setCurrentPage(e.pageNumber)})):this.setCurrentPage(e))}else console.log("Page not found - ",t)}findNewCurrentPage(e){let t=Math.floor(e.length/2),i=this.findPageInViewPort(t,e);return 1===e.length?e[0]:0===i?e[t]:i<0&&e.length>1?this.findNewCurrentPage(e.splice(t,Number.MAX_VALUE)):i>0&&e.length>1?this.findNewCurrentPage(e.splice(0,t)):null}findPageInViewPort(e,t){let i=t[e],r=i.getBoundingClientRect(),n=i.closest(".trv-pages-pane");if(!n)return-1;let a=n.getBoundingClientRect().top,o=r.top,s=r.bottom,l=this.additionalTopOffset+a;return o<=l&&l<s?0:s<l?-1:1}scrollDown(e,t){if(t>=this.pageContainer.scrollHeight-5){let t=parseInt(e[e.length-1].dataset.page||"")+1;this.currentPageNumber()<t&&t<=this.controller.getPageCount()&&(this.addSkeletonScreen(t,!1),this.getAndRenderPage(t))}else this.advanceCurrentPage(e),this.loadVisiblePages()}scrollUp(e){if(0===this.pageContainer.scrollTop){let t=parseInt(e[0].dataset.page||"")-1;this.currentPageNumber()>t&&t>=1&&(this.addSkeletonScreen(t,!0),this.getAndRenderPage(t).then((()=>{this.pageContainer.scrollTop=3})))}else this.advanceCurrentPage(e),this.loadVisiblePages()}keepCurrentPageInToView(){let e=this.findPageElement(this.currentPageNumber());if(!e)return;let t=e.offsetTop,i=e.offsetHeight,r=this.pageContainer.offsetHeight;this.scrollInProgress=!0,i<r&&(t-=(r-i)/2),this.animateScroll(t,0,(()=>{setTimeout((()=>{this.scrollInProgress=!1}),100)}))}getAndRenderPage(e){return this.controller.getPageData(e).then((e=>(this.render(e,!1),e)))}scrollToPage(e,t){this.animateScroll(e,500,(()=>{setTimeout((()=>{this.setCurrentPage(t),this.scrollInProgress=!1}))}))}animateScroll(e,t,i){this.pageContainer.scrollTop=e,i.call(this)}findPageElement(e){return this.findElement('[data-page="'+e+'"]')}findElement(e){var t;return null===(t=this.placeholder)||void 0===t?void 0:t.querySelector(e)}findLastElement(e){var t;let i=null===(t=this.placeholder)||void 0===t?void 0:t.querySelectorAll(e);return i&&i.length?i[i.length-1]:null}}class Ne{constructor(){this.scaleFactor=0,this.placeholder=null,this.scrollableContainer=null,this.itemsInitialState={},this.xFrozenAreasBounds={},this.yFrozenAreasBounds={},this.freezeMaxZIndex={},this.freezeBGColor={},this.currentlyFrozenContainer={vertical:{},horizontal:{}},this.zIndex=1}init(e){this.reset(e),this.attachToScrollEvent()}reset(e){this.placeholder=e,this.scrollableContainer=te(e,".trv-page-container"),this.itemsInitialState={},this.xFrozenAreasBounds={},this.yFrozenAreasBounds={},this.currentlyFrozenContainer={vertical:{},horizontal:{}}}setScaleFactor(e){this.scaleFactor=e}attachToScrollEvent(){var e;null===(e=this.scrollableContainer)||void 0===e||e.addEventListener("scroll",(()=>{if(this.scrollableContainer){let e=this.scrollableContainer.querySelectorAll("div[data-sticky-id]");if(e.length){const t=new Set(Array.from(e).map((e=>e.dataset.stickyId||"")));let i=this.scrollableContainer.scrollTop,r=this.scrollableContainer.scrollLeft;t.forEach((e=>{this.itemsInitialState[e]||this.saveFreezeItemsInitialState(e),this.updateFreezeItemsOnScroll(e,i,r)}))}}}))}saveFreezeItemsInitialState(e){var t,i,r;let n=null===(t=this.placeholder)||void 0===t?void 0:t.querySelectorAll("[data-sticky-direction][data-sticky-id='"+e+"']"),a=null===(i=this.placeholder)||void 0===i?void 0:i.querySelectorAll("[data-reporting-action][data-sticky-id='"+e+"']"),o=null,s=null,l=null,c=null;this.itemsInitialState[e]={},this.freezeBGColor[e]=(null===(r=te(this.placeholder,"[data-id='"+e+"']"))||void 0===r?void 0:r.dataset.stickyBgColor)||"",n.forEach((t=>{var i;let r=t.dataset.stickyDirection,n=(null===(i=t.dataset.id)||void 0===i?void 0:i.toString())||"",a=t.offsetLeft/this.scaleFactor,h=t.offsetLeft+t.offsetWidth*this.scaleFactor,d=t.offsetTop/this.scaleFactor,u=t.offsetTop+t.offsetHeight*this.scaleFactor,p=(e,t)=>null===e||t<e?t:e,m=(e,t)=>null===e||t>e?t:e;switch(r){case"Vertical":s=p(s,d),c=m(c,u);break;case"Horizontal":o=p(o,a),l=m(l,h)}this._saveFreezeItemInitialState(e,t,n)})),this.freezeMaxZIndex[e]=(null==a?void 0:a.length)?parseInt(getComputedStyle(a[0]).zIndex):this.zIndex,this.yFrozenAreasBounds[e]=(c||0)-(s||0),this.xFrozenAreasBounds[e]=(l||0)-(o||0)}_saveFreezeItemInitialState(e,t,i){const r=getComputedStyle(t);let n=this.hasSetBgColor(r.backgroundColor),a=r.zIndex;"auto"!==a&&(a=parseFloat(a));let o={top:t.offsetTop,left:t.offsetLeft,zIndex:a,hasBgColor:n};this.itemsInitialState[e][i]=o}updateFreezeItemsOnScroll(e,t,i){var r,n;let a=te(this.placeholder,"div[data-id='"+e+"']");if(!a)return;let o=null===(r=this.placeholder)||void 0===r?void 0:r.querySelectorAll("[data-sticky-direction*='Horizontal'][data-sticky-id='"+e+"']"),s=null===(n=this.placeholder)||void 0===n?void 0:n.querySelectorAll("[data-sticky-direction*='Vertical'][data-sticky-id='"+e+"']");if(this.isInScrollVisibleArea(a)){let r=a.closest(".trv-report-page"),n=getComputedStyle(r),l=parseFloat(n.marginLeft),c=parseFloat(n.paddingTop),h=parseFloat(n.paddingLeft),d=parseFloat(n.borderTopWidth),u=parseFloat(n.borderLeftWidth),p=o.length>0,m=s.length>0,g=a.offsetTop+((null==r?void 0:r.offsetTop)||0)+l+c+d,f=a.offsetLeft+((null==r?void 0:r.offsetLeft)||0)+h+u,v=t-g,b=i-f;m&&v>0?t<=a.offsetHeight*this.scaleFactor+g-this.yFrozenAreasBounds[e]&&(this.currentlyFrozenContainer.vertical[e]=!0,this.updateUIElementsPosition(s,"top",v/this.scaleFactor,e)):this.currentlyFrozenContainer.vertical[e]&&(delete this.currentlyFrozenContainer.vertical[e],this.updateUIElementsPosition(s,"top",-1,e)),p&&b>0?i<=a.offsetWidth*this.scaleFactor+f-this.xFrozenAreasBounds[e]&&(this.currentlyFrozenContainer.horizontal[e]=!0,this.updateUIElementsPosition(o,"left",b/this.scaleFactor,e)):this.currentlyFrozenContainer.horizontal[e]&&(delete this.currentlyFrozenContainer.horizontal[e],this.updateUIElementsPosition(o,"left",-1,e))}else(this.currentlyFrozenContainer.horizontal[e]||this.currentlyFrozenContainer.vertical[e])&&this.resetToDefaultPosition(e,o,s)}resetToDefaultPosition(e,t,i){this.updateUIElementsPosition(i,"top",-1,e),this.updateUIElementsPosition(t,"left",-1,e),delete this.currentlyFrozenContainer.horizontal[e],delete this.currentlyFrozenContainer.vertical[e]}updateUIElementsPosition(e,t,i,r){e.forEach((e=>{let n=(e.dataset.stickyDirection||"").indexOf(",")>0,a=e.dataset.id||"",o=this.itemsInitialState[r][a],s="top"==t?o.top:o.left,l=o.zIndex,c=o.hasBgColor,h=1,d=this.freezeMaxZIndex[r]?this.freezeMaxZIndex[r]:h;h=n?"auto"!==l?l:d+2:"auto"!==l?l+1:d;let u={zIndex:h};i>=0?s+=i:u.zIndex=l,c||this.applyBgColorOnScroll(e,n,c,i>=0,r),u[t]=s+"px",Object.assign(e.style,u)}))}applyBgColorOnScroll(e,t,i,r,n){"IMG"!==e.tagName&&(t&&this.isFrozen(n)&&!i?e.style.backgroundColor=this.freezeBGColor[n]:e.style.backgroundColor=r?this.freezeBGColor[n]:"initial")}hasSetBgColor(e){return Z(e)>0}isFrozen(e){return this.currentlyFrozenContainer.horizontal[e]||this.currentlyFrozenContainer.vertical[e]}isInScrollVisibleArea(e){if(!this.scrollableContainer)return!1;const t=e.getBoundingClientRect(),i=this.scrollableContainer.getBoundingClientRect();return this.isVisibleVertically(t,this.scrollableContainer,i)&&this.isVisibleHorizontally(t,this.scrollableContainer,i)}isVisibleVertically(e,t,i){let r=e.width;return e.left>t.scrollLeft-r&&e.left<t.scrollLeft+r+i.width}isVisibleHorizontally(e,t,i){let r=e.height;return e.top>t.scrollTop-r&&e.top<t.scrollTop+r+i.height}}const xe=/{(\w+?)}/g,Ve="trv-initial-image-styles";function Oe(e,t){let i=Array.isArray(t);return e?e.replace(xe,(function(e,r){return t[i?parseInt(r):r]})):""}const $e="trv-search-dialog-shaded-result",Fe="trv-search-dialog-highlighted-result";e.BookmarkNode=class{constructor(){this.id="",this.text="",this.page=0,this.items=null}},e.ContentArea=class{constructor(e,t,i,r={}){this.actions=[],this.pendingElement=null,this.documentReady=!0,this.reportPageIsLoaded=!1,this.navigateToPageOnDocReady=0,this.navigateToElementOnDocReady=null,this.onClickHandler=null,this.onMouseEnterHandler=null,this.onMouseLeaveHandler=null,this.isNewReportSource=!1,this.uiFreezeCoordinator=null,this.initialPageAreaImageUrl="",this.showPageAreaImage=!1,this.placeholder=e.querySelector(".trv-pages-pane, .trv-pages-area"),this.pageContainer=e.querySelector(".trv-page-container"),this.pageWrapper=e.querySelector(".trv-page-wrapper"),this.parametersContainer=e.querySelector(".trv-parameters-area"),this.notification=e.querySelector(".trv-notification, .trv-error-pane"),this.scrollManager=new ke(this.placeholder,this,t),this.resizeService=new De(this.pageContainer),this.resizeService.on("resize",this.onResize.bind(this)),this.controller=t,this.controller.on("pageReady",this.onPageReady.bind(this)).on("navigateToPage",this.navigateToPage.bind(this)).on("serverActionStarted",this.onServerActionStarted.bind(this)).on("reportSourceChanged",this.onReportSourceChanged.bind(this)).on("scaleChanged",this.updatePageDimensions.bind(this)).on("scaleModeChanged",this.updatePageDimensions.bind(this)).on("printStarted",this.onPrintStarted.bind(this)).on("printDocumentReady",this.onPrintDocumentReady.bind(this)).on("exportStarted",this.onExportStarted.bind(this)).on("exportDocumentReady",this.onExportDocumentReady.bind(this)).onAsync("beforeLoadReport",this.onBeforeLoadReport.bind(this)).on("beginLoadReport",this.onBeginLoadReport.bind(this)).on("reportLoadProgress",this.onReportLoadProgress.bind(this)).onAsync("reportLoadComplete",this.onReportLoadComplete.bind(this)).onAsync("reportAutoRunOff",this.onReportAutoRunOff.bind(this)).on("renderingStopped",this.onRenderingStopped.bind(this)).on("missingOrInvalidParameters",this.onMissingOrInvalidParameters.bind(this)).on("noReport",this.onNoReport.bind(this)).on("error",this.onError.bind(this)),this.messages=i,this.enableAccessibility=r.enableAccessibility||!1,this.initialPageAreaImageUrl=r.initialPageAreaImageUrl||""}destroy(){this.resizeService&&this.resizeService.destroy()}onResize(){this.shouldAutosizePage()&&this.updatePageDimensions()}onPageReady(t){this.controller.getPageMode()===e.PageMode.SinglePage?(this.scrollManager.getEnabled()&&this.scrollManager.disable(),this.setPageContent(t)):this.scrollManager.renderPage(t),this.navigateToElement(this.pendingElement,t.pageNumber),this.reportPageIsLoaded||(this.reportPageIsLoaded=!0),this.showPageAreaImage&&this.clearPageAreaImage(),this.controller.getViewMode()===e.ViewMode.Interactive&&null!==this.uiFreezeCoordinator&&this.uiFreezeCoordinator.init(this.placeholder),this.disablePagesArea(!1)}onServerActionStarted(){this.disablePagesArea(!0),this.disableParametersArea(!0),this.showNotification(this.messages.ReportViewer_LoadingReport)}onReportSourceChanged(){this.isNewReportSource=!0,this.navigateToPageOnDocReady=0,this.navigateToElementOnDocReady=null,this.documentReady=!1}onNoReport(){this.disablePagesArea(!1),this.disableParametersArea(!1),this.clearPage(),this.showNotification(this.messages.ReportViewer_NoReport)}onBeforeLoadReport(){this.documentReady=!1,this.navigateToPageOnDocReady||(this.navigateToPageOnDocReady=1),this.clearPendingTimeoutIds(),this.clear(),this.disablePagesArea(!0),this.disableParametersArea(!0),this.showNotification(this.messages.ReportViewer_LoadingReport)}onBeginLoadReport(){this.documentReady=!0,this.invalidateCurrentlyLoadedPage()}onReportLoadProgress(e){this.navigateWhenPageAvailable(this.navigateToPageOnDocReady,e.pageCount),this.showNotification(Oe(this.messages.ReportViewer_LoadingReportPagesInProgress,[e.pageCount]))}onReportLoadComplete(t){0===t.pageCount?(this.clearPage(),this.showNotification(this.messages.ReportViewer_NoPageToDisplay)):(this.navigateOnLoadComplete(this.navigateToPageOnDocReady,t.pageCount),this.showNotification(Oe(this.messages.ReportViewer_LoadedReportPagesComplete,[t.pageCount])),this.showNotificationTimeoutId=window.setTimeout(this.hideNotification.bind(this),2e3),this.disableParametersArea(!1),this.enableInteractivity()),t.containsFrozenContent&&null===this.uiFreezeCoordinator&&(this.uiFreezeCoordinator=new Ne,this.controller.getViewMode()===e.ViewMode.Interactive&&this.uiFreezeCoordinator.init(this.placeholder))}onReportAutoRunOff(){this.disableParametersArea(!1),this.showNotification(this.messages.ReportViewer_AutoRunDisabled||"Please validate the report parameter values and press Preview to generate the report.")}onRenderingStopped(){this.clear(!0),this.disableParametersArea(!1),this.showError(this.messages.ReportViewer_RenderingCancelled)}onMissingOrInvalidParameters(){this.initialPageAreaImageUrl&&!this.reportPageIsLoaded&&(this.clearPage(),this.setPageAreaImage())}onError(e,t=!0){t&&(this.disablePagesArea(!1),this.disableParametersArea(!1),this.clearPage()),this.showError(e)}clearPendingTimeoutIds(){this.showNotificationTimeoutId&&window.clearTimeout(this.showNotificationTimeoutId)}invalidateCurrentlyLoadedPage(){let e=this.findPage(this.navigateToPageOnDocReady);e&&this.setPageNo(e,-1)}navigateWhenPageAvailable(e,t){e&&e<=t&&this.navigateToPage(e,this.navigateToElementOnDocReady)}navigateOnLoadComplete(e,t){e&&(e=Math.min(e,t),this.navigateToPage(e,this.navigateToElementOnDocReady))}clearPage(){this.clear(this.isNewReportSource),this.isNewReportSource=!1}shouldAutosizePage(){let t=this.controller.getScaleMode();return t===e.ScaleMode.FitPage||t===e.ScaleMode.FitPageWidth}onPrintStarted(){this.showNotification(this.messages.ReportViewer_PreparingPrint)}onPrintDocumentReady(){this.hideNotification()}onExportStarted(){this.showNotification(this.messages.ReportViewer_PreparingDownload)}onExportDocumentReady(){this.hideNotification()}updatePageDimensions(){let e=this.pageContainer.querySelectorAll(".trv-report-page");for(let t of Array.from(e)){let e=t,i=parseInt(e.dataset.page||"");this.setPageDimensions(e,i)}this.scrollManager.updatePageDimensionsReady()}clear(e=!1){this.disableInteractivity(),this.pendingElement=null,e&&(this.pageWrapper.innerHTML=""),this.hideNotification()}findPage(t){let i=this.pageContainer.querySelectorAll(".trv-report-page");if(this.controller.getPageMode()===e.PageMode.SinglePage)for(let e of Array.from(i)){let i=e;if(this.pageNo(i)===t)return i}else for(let e of Array.from(i)){let i=e;if(parseInt((null==i?void 0:i.dataset.page)||"-1")===t)return i}return null}navigateToPage(e,t){this.documentReady?this.navigateToPageCore(e,t):this.navigateToPageOnDocumentReady(e,t)}navigateToPageOnDocumentReady(e,t){this.navigateToPageOnDocReady=e,this.navigateToElementOnDocReady=t}navigateToPageCore(e,t){let i=this.findPage(e);i?(t&&this.navigateToElement(t,e),this.scrollManager.getEnabled()&&!t&&this.scrollManager.navigateToElement(i.offsetTop,e)):(this.pendingElement=t,this.beginLoadPage(e))}navigateToElement(e,t=0){var i;if(e){let r=this.pageContainer.querySelector(`[data-${e.type}-id='${e.id}']`);if(r){if(this.enableAccessibility){let e=this.findNextFocusableElement(r);e&&e.focus()}let e=0,i=0;for(;r&&r!==this.pageContainer;){if(W(r,"trv-page-wrapper")){let t=r.dataset.pageScale;if("string"==typeof t){let r=parseFloat(t);e*=r,i*=r}}e+=r.offsetTop,i+=r.offsetLeft,r=q(r)}this.scrollManager.getEnabled()&&t?this.scrollManager.navigateToElement(e,t):(this.pageContainer.scrollTop=e,this.pageContainer.scrollLeft=i)}else this.scrollManager.getEnabled()&&t&&this.scrollManager.navigateToElement((null===(i=this.placeholder)||void 0===i?void 0:i.querySelector('[data-page="'+t+'"]')).offsetTop,t)}}findNextFocusableElement(e){if(!e)return null;let t=e.tabIndex;return!isNaN(t)&&t>-1?e:this.findNextFocusableElement(e.nextElementSibling)}disablePagesArea(e){e?H(this.placeholder,"trv-loading"):G(this.placeholder,"trv-loading")}disableParametersArea(e){var t,i;e?null===(t=this.parametersContainer)||void 0===t||t.setAttribute("disabled",""):null===(i=this.parametersContainer)||void 0===i||i.removeAttribute("disabled")}showError(e=""){this.showNotification(e,"error")}showNotification(e="",t="info"){this.notification.dataset.type=t||"info";let i=this.notification.querySelector(".k-notification-content, .trv-error-message"),r=null==e?void 0:e.split(/\r?\n/);i.innerHTML=r&&r.length?`${r.join("<br>")}`:"Notification message not found.",H(this.notification,`k-notification-${t}`),G(this.notification,"k-hidden")}hideNotification(){let e=String(this.notification.dataset.type);delete this.notification.dataset.type,G(this.notification,`k-notification-${e}`),H(this.notification,"k-hidden")}pageNo(e){var t;return parseInt((null===(t=e.parentElement)||void 0===t?void 0:t.dataset.pageNumber)||"0")}setPageNo(e,t){e.parentElement&&(e.parentElement.dataset.pageNumber=t.toString())}beginLoadPage(e){this.disablePagesArea(!0),window.setTimeout(this.controller.getReportPage.bind(this.controller,e),1),this.navigateToPageOnDocReady=0}setPageDimensions(t,i=0){let r=i?t:t.querySelector("div.trv-report-page");if(!r)return;let n,a=r.querySelector("div.sheet"),o=r.querySelector("div.trv-skeleton-wrapper");if(a=a||o,!a)return;if(r.dataset.box)n=JSON.parse(r.dataset.box);else{let e=getComputedStyle(r),i=getComputedStyle(t);n={padLeft:j(i.marginLeft)+j(e.borderLeftWidth)+j(e.paddingLeft),padRight:j(i.marginRight)+j(e.borderRightWidth)+j(e.paddingRight),padTop:j(i.marginTop)+j(e.borderTopWidth)+j(e.paddingTop),padBottom:j(i.marginBottom)+j(e.borderBottomWidth)+j(e.paddingBottom)},r.dataset.box=JSON.stringify(n)}let s=a.offsetWidth,l=a.offsetHeight;if(0===s){const e=getComputedStyle(a);s=parseInt(e.width),l=parseInt(e.height)}const c=this.controller.getScaleMode(),h=l>s&&c===e.ScaleMode.FitPageWidth?20:0,d=(this.pageContainer.clientWidth-h-n.padLeft-n.padRight)/s,u=(this.pageContainer.clientHeight-1-n.padTop-n.padBottom)/l;let p=this.controller.getScale();c===e.ScaleMode.FitPageWidth?p=d:p&&c!==e.ScaleMode.FitPage||(p=Math.min(d,u)),null!==this.uiFreezeCoordinator&&this.uiFreezeCoordinator.setScaleFactor(p),t.dataset.pageScale=p.toString(),r.dataset.pageScale=p.toString(),o||K(a,p,p),r.style.height=p*l+"px",r.style.width=p*s+"px",this.controller.setScale(p,!0)}enableInteractivity(){this.onClickHandler=this.onClick.bind(this),this.onMouseEnterHandler=this.onMouseEnter.bind(this),this.onMouseLeaveHandler=this.onMouseLeave.bind(this),this.pageContainer.addEventListener("click",this.onClickHandler),this.pageContainer.addEventListener("mouseenter",this.onMouseEnterHandler,!0),this.pageContainer.addEventListener("mouseleave",this.onMouseLeaveHandler,!0)}disableInteractivity(){this.pageContainer.removeEventListener("click",this.onClickHandler),this.pageContainer.removeEventListener("mouseenter",this.onMouseEnterHandler),this.pageContainer.removeEventListener("mouseleave",this.onMouseLeaveHandler)}onClick(e){let t=e.target.closest("[data-reporting-action]");t&&this.onInteractiveItemClick(t,e)}onMouseEnter(e){let t=e.target,i=t.dataset;i.reportingAction&&this.onInteractiveItemEnter(t),(i.tooltipTitle||i.tooltipText)&&this.onToolTipItemEnter(t,e)}onMouseLeave(e){let t=e.target,i=t.dataset;i.reportingAction&&this.onInteractiveItemLeave(t),(i.tooltipTitle||i.tooltipText)&&this.onToolTipItemLeave(t)}onInteractiveItemClick(e,t){var i;let r=(null===(i=e.dataset.reportingAction)||void 0===i?void 0:i.toString())||"",n=this.getAction(r);n&&(this.navigateToPageOnDocReady=this.getNavigateToPageOnDocReady(t,n.Type),this.controller.executeReportAction(new s(e,n))),t.stopPropagation()}onInteractiveItemEnter(e){var t;let i=(null===(t=e.dataset.reportingAction)||void 0===t?void 0:t.toString())||"",r=this.getAction(i);r&&this.controller.reportActionEnter(new s(e,r))}onInteractiveItemLeave(e){var t;let i=(null===(t=e.dataset.reportingAction)||void 0===t?void 0:t.toString())||"",r=this.getAction(i);r&&this.controller.reportActionLeave(new s(e,r))}onToolTipItemEnter(e,t){let i=e.dataset.tooltipTitle,r=e.dataset.tooltipText;(i||r)&&this.controller.reportTooltipOpening(new Me(e,r||"",i||"",t))}onToolTipItemLeave(e){this.controller.reportTooltipClosing(new Me(e,"","",null))}getNavigateToPageOnDocReady(e,t){var i;return!this.scrollManager.getEnabled()||"sorting"!==t&&"toggleVisibility"!==t?this.controller.getCurrentPageNumber():(null===(i=e.target.closest(".trv-report-page"))||void 0===i?void 0:i.dataset.page)||this.controller.getCurrentPageNumber()}getAction(e){if(this.actions){let t=this.actions.find((t=>t.Id===e));if(t)return t}return null}updatePageStyle(e){var t;let i="trv-"+this.controller.getClientId()+"-styles";null===(t=document.getElementById(i))||void 0===t||t.remove();let r=z("style",i);r.innerHTML=e.pageStyles,document.head.appendChild(r)}setPageContent(e){this.actions=e.pageActions,this.updatePageStyle(e);let t=this.renderPageElement(e);this.pageWrapper.dataset.pageNumber=e.pageNumber.toString(),this.pageWrapper.innerHTML="",this.pageWrapper.append(t),this.controller.setCurrentPageNumber(e.pageNumber),this.controller.applySearchColors(),this.applyPlaceholderViewModeClass(),this.setPageDimensions(this.pageWrapper),this.pageContainer.scrollTop=0,this.pageContainer.scrollLeft=0}setScrollablePage(e,t){this.actions&&this.actions.length?this.actions=this.actions.concat(t.pageActions):this.actions=t.pageActions,this.applyPlaceholderViewModeClass(),this.setPageDimensions(e,t.pageNumber)}renderPageElement(e){let t=z("div");t.innerHTML=e.pageContent;let i=t.querySelector("div.sheet");i.style.margin="0";let r=z("div","","trv-report-page");return r.dataset.page=e.pageNumber.toString(),r.append(i),r.append(z("div","","k-overlay trv-overlay trv-page-overlay")),r}applyPlaceholderViewModeClass(){this.controller.getViewMode()===e.ViewMode.Interactive?(G(this.placeholder,"printpreview"),H(this.placeholder,"interactive")):(G(this.placeholder,"interactive"),H(this.placeholder,"printpreview"))}setPageAreaImage(){this.clearPageAreaImage();let e=z("style",Ve);e.innerHTML=Oe('.trv-page-container {background: #ffffff url("{0}") no-repeat center 50px}',[this.initialPageAreaImageUrl]),document.head.appendChild(e),this.showPageAreaImage=!0}clearPageAreaImage(){var e;null===(e=document.getElementById(Ve))||void 0===e||e.remove()}},e.DeviceInfo=a,e.DocumentInfo=class{constructor(){this.documentReady=!1,this.documentMapAvailable=!1,this.containsFrozenContent=!1,this.pageCount=0,this.documentMapNodes=[],this.bookmarkNodes=[],this.renderingExtensions=[],this.autoRunEnabled=!0}},e.DocumentMapNode=class{constructor(){this.id="",this.isExpanded=!1,this.label="",this.text="",this.page=0,this.items=[]}},e.EmailInfo=o,e.ExportDocumentReadyEventArgs=h,e.ExportStartEventArgs=c,e.KeepClientAliveSentinel=V,e.PageAction=class{constructor(){this.Id="",this.ReportItemName="",this.Type="",this.Value={}}},e.PageActionEventArgs=s,e.PageInfo=class{constructor(){this.pageNumber=0,this.pageReady=!1,this.pageStyles="",this.pageContent="",this.pageActions=[]}},e.PageTargetElement=l,e.ParameterInfo=class{constructor(){this.name="",this.type="",this.text="",this.multivalue=!1,this.allowNull=!1,this.allowBlank=!1,this.isVisible=!1,this.autoRefresh=!1,this.hasChildParameters=!1,this.childParameters=[],this.availableValues=[],this.value="",this.id="",this.label=""}},e.ParameterValidators=Te,e.ParameterValue=class{constructor(){this.name="",this.value=null}},e.RenderingExtension=class{constructor(){this.name="",this.localizedName=""}},e.ReportController=class extends R{constructor(e,t){super(),this.configurationInfo=null,this.keepClientAliveSentinel=null,this.registerClientPromise=null,this.registerInstancePromise=null,this.documentFormatsPromise=null,this.clientId="",this.reportInstanceId="",this.documentId="",this.threadId="",this.parameterValues={},this.bookmarkNodes=[],this.renderingExtensions=null,this.pageCount=0,this.currentPageNumber=0,this.clientHasExpired=!1,this.cancelLoad=!1,this.searchInitiated=!1,this.aiPromptInitiated=!1,this.contentTabIndex=0,this.respectAutoRun=!0,this.processedParameterValues={},this.options=t,t.reportSource&&this.setParameters(t.reportSource.parameters),this.printManager=new N,this.serviceClient=e,t.authenticationToken&&this.serviceClient.setAccessToken(t.authenticationToken)}get autoRunEnabled(){var e=!this.parameterValues||!("trv_AutoRun"in this.parameterValues)||this.parameterValues.trv_AutoRun;return!this.respectAutoRun||e}destroy(){this.printManager&&this.printManager.destroy()}setOptions(e){this.clearReportState(),this.clearClientId(),this.options=e,this.options.reportSource&&this.setParameters(this.options.reportSource.parameters)}setAuthenticationToken(e){this.serviceClient.setAccessToken(e)}init(){this.refreshReport(!0,"")}getServiceVersion(){return this.serviceClient.getServiceVersion()}getServiceConfiguration(){return this.serviceClient.getServiceConfiguration()}stopRendering(){this.serviceClient.deleteReportDocument(this.clientId,this.reportInstanceId,this.documentId).catch((e=>{this.handleRequestError(e)})).then((()=>{this.cancelLoad=!0,this.resetPageNumbers(),this.emit("renderingStopped")}))}refreshReport(e,t,i=!1){if(this.emit("loadedReportChange"),this.cancelLoad=!1,this.respectAutoRun=i||this.respectAutoRun,this.clientHasExpired&&(this.clientHasExpired=!1,this.clearClientId()),""==this.getReport())return void this.emit("noReport");let r=this.loadParameters();r.then((i=>{this.emit("parametersLoaded",i),this.processParameters(i,e,t)})),this.emit("reloadParameters",r)}processParameters(e,t,i){let r={},n=[],a=!1;for(let t of e)try{let e=Te.validate(t,t.value);r[t.id]=e}catch(e){a=!0,n.push(t)}a?this.missingOrInvalidParameters(n):(this.setParameters(r),this.autoRunEnabled?this.refreshReportCore(t,i):this.emitAsync("reportAutoRunOff"))}hasInvalidParameter(e){for(const t of e)try{Te.validate(t,t.value)}catch(e){return!0}return!1}refreshReportCore(e,t="",i=""){this.loadReport(e,t,i)}navigateToPage(e,t){this.emit("navigateToPage",e,t)}getReportDocumentId(){return this.documentId}setReportDocumentId(e){this.documentId=e}getReportPage(e){this.getPage(e).then(this.onPageReady.bind(this))}getPageData(e){return this.getPage(e)}setParameters(e){this.parameterValues=e}setParameter(e,t){this.parameterValues[e]=t}getReportSource(){var e;return new _e(null===(e=this.options.reportSource)||void 0===e?void 0:e.report,this.parameterValues)}setReportSource(e){this.options.reportSource=e,this.setParameters(this.options.reportSource.parameters),this.emit("reportSourceChanged",e)}previewReport(){this.emit("loadedReportChange"),this.respectAutoRun=!1,this.refreshReportCore(!1)}getClientId(){return this.clientId}getScale(){return this.options.scale}setScale(e,t=!1){e!==this.options.scale&&(this.options.scale=e,t||this.emit("scaleChanged",e))}getScaleMode(){return this.options.scaleMode}setScaleMode(e){e!==this.options.scaleMode&&(this.options.scaleMode=e,this.emit("scaleModeChanged",e))}getViewMode(){return this.options.viewMode}setViewMode(e){this.options.viewMode!==e&&(this.options.viewMode=e,this.options.reportSource&&this.emit("viewModeChanged",e))}getPageMode(){return this.options.pageMode}setPageMode(e){this.options.pageMode!==e&&(this.options.pageMode=e,this.options.reportSource&&this.emit("pageModeChanged",e))}getPrintMode(){return this.options.printMode}setPrintMode(e){this.options.printMode!==e&&(this.options.printMode=e,this.emit("printModeChanged",e))}getCurrentPageNumber(){return this.currentPageNumber}setCurrentPageNumber(e){this.currentPageNumber!==e&&(this.currentPageNumber=e,this.emit("currentPageChanged",e))}getPageCount(){return this.pageCount}applySearchColors(){this.emit("applySearchColors")}executeReportAction(e){let t=e.action;window.setTimeout((()=>{if(this.emit("interactiveActionExecuting",e),!e.cancel)if("navigateToReport"===t.Type){this.emit("serverActionStarted");let e=t.Value,i=this.fixDataContractJsonSerializer(e.ParameterValues);this.respectAutoRun=!0,this.emit("navigateToReport",{Report:e.Report,Parameters:i})}else if("navigateToBookmark"===t.Type){let e=this.getPageForBookmark(this.bookmarkNodes,t.Value),i=new l(t.Value,"bookmark");this.navigateToPage(e,i)}else if("sorting"===t.Type)this.execServerAction(t.Id);else if("toggleVisibility"===t.Type)this.execServerAction(t.Id);else if("navigateToUrl"===t.Type){let e=t.Value;window.open(e.Url,e.Target)}else t.Type}),0)}reportActionEnter(e){this.emit("interactiveActionEnter",e)}reportActionLeave(e){this.emit("interactiveActionLeave",e)}reportTooltipOpening(e){this.emit("toolTipOpening",e)}reportTooltipClosing(e){this.emit("toolTipClosing",e)}printReport(){return n(this,void 0,void 0,(function*(){let e=this.createDeviceInfo();e.ImmediatePrint=!0;let t=new fe(e);this.emit("printStarted",t),t.handled||(this.setUIState("PrintInProgress",!0),this.exportAsync("PDF",e).then((e=>{let t=this.serviceClient.getDocumentUrl(this.clientId,this.reportInstanceId,e);t+="?response-content-disposition="+(this.getCanUsePlugin()?"inline":"attachment");let i=new ve(t);this.emit("printDocumentReady",i),this.setUIState("PrintInProgress",!1),i.handled||this.printManager.print(t)})))}))}exportReport(e){return n(this,void 0,void 0,(function*(){let t=this.createDeviceInfo(),i=new c(t,e);if(yield this.emitAsync("exportStart",i),!i.isCancelled){let r=new be(t,e);if(this.emit("exportStarted",r),r.handled)return;this.setUIState("ExportInProgress",!0),this.exportAsync(e,i.deviceInfo).then((t=>n(this,void 0,void 0,(function*(){let i=this.serviceClient.getDocumentUrl(this.clientId,this.reportInstanceId,t);i+="?response-content-disposition=attachment";let r=new h(i,e,"_self");yield this.emitAsync("exportEnd",r),this.emit("exportDocumentReady",r),this.setUIState("ExportInProgress",!1),r.handled||window.open(i,r.windowOpenTarget)}))))}}))}sendReport(e){let t=this.createDeviceInfo(),i=new Pe(t,e.format);this.emit("sendEmailStarted",i),i.handled||this.exportAsync(e.format,t).then((i=>{let r=this.serviceClient.getDocumentUrl(this.clientId,this.reportInstanceId,i);r+="?response-content-disposition=attachment";let n=new Ee(e,t,r);this.emit("sendEmailDocumentReady",n),n.handled||this.sendDocumentAsync(i,e)}))}getSearchResults(e){return this.serviceClient.getSearchResults(this.clientId,this.reportInstanceId,this.documentId,e).catch(this.handleSearchRequestError.bind(this)).then((e=>e||[]))}createAIThread(){return this.serviceClient.createAIThread(this.clientId,this.reportInstanceId,this.getReport(),this.parameterValues).catch((e=>this.raiseError(e.exceptionMessage,!1))).then((e=>{if(this.threadId=(null==e?void 0:e.threadId)||"",e.consentMessage&&(e.consentMessage=r.default.sanitize(e.consentMessage,{USE_PROFILES:{html:!0}}),r.default.removed&&r.default.removed.length>0&&console.warn("The AI-Powered Insights consent message was sanitized as it contained potentially malicious HTML elements or attributes.")),e.predefinedPrompts)for(let t=0;t<e.predefinedPrompts.length;t++)e.predefinedPrompts[t]=r.default.sanitize(e.predefinedPrompts[t],{USE_PROFILES:{html:!0}}),r.default.removed&&r.default.removed.length>0&&console.warn("An AI-Powered Insights predefined prompt was sanitized as it contained potentially malicious HTML elements or attributes.");return e}))}getAIResponse(e){return this.serviceClient.getAIResponse(this.clientId,this.reportInstanceId,this.documentId,this.threadId,e).then((e=>e||""))}exportAsync(e,t){return this.initializeClient().then(this.registerInstance.bind(this)).then((()=>this.registerDocumentAsync(e,t,!1,this.documentId))).then((e=>n(this,void 0,void 0,(function*(){return yield this.getDocumentInfo(!1,e).catch((e=>this.raiseError(e))),e}))))}sendDocumentAsync(e,t){return this.serviceClient.sendDocument(this.clientId,this.reportInstanceId,e,t).catch((e=>{this.handleRequestError(e,he(this.options.messages.ReportViewer_ErrorSendingDocument,Y(this.getReport())))}))}loadParameters(e=void 0){return this.initializeClient().then(this.getParameters.bind(this,e))}loadReport(e,t,i){this.clearReportState();const r=this.getFormat(),n=this.createPreviewDeviceInfo();this.emitAsync("beforeLoadReport",{deviceInfo:n}).then((()=>this.initializeClient())).then(this.registerInstance.bind(this)).then((()=>this.registerDocumentAsync(r,n,e,t,i))).then((e=>(this.documentId=e,this.getDocumentInfo(!0,this.documentId)))).then(this.onReportLoadComplete.bind(this)).catch((e=>this.raiseError(e)))}initializeAndStartSentinel(){this.options.keepClientAlive&&this.clientId&&this.serviceClient.getClientsSessionTimeoutSeconds().then((e=>{this.keepClientAliveSentinel=new V(this.serviceClient,this.clientId,e),this.keepClientAliveSentinel.start()}))}stopSentinel(){null!=this.keepClientAliveSentinel&&this.keepClientAliveSentinel.stop()}setClientId(e){this.clientId=e||"",this.stopSentinel(),this.emit("clientIdChanged",this.clientId),this.initializeAndStartSentinel()}clearClientId(){this.clientId="",this.registerClientPromise=null,this.stopSentinel(),this.keepClientAliveSentinel=null,this.emit("clientIdChanged",this.clientId)}setReportInstanceId(e){this.reportInstanceId=e}clearReportInstanceId(){this.reportInstanceId="",this.registerInstancePromise=null}clearReportState(){this.cancelLoad=!1,this.documentId="",this.resetPageNumbers(),this.clearReportInstanceId()}resetPageNumbers(){this.pageCount=0,this.currentPageNumber=0}handleSearchRequestError(e){if(!oe(e,"System.ArgumentException"))throw this.handleRequestError(e,"",!0),null;this.throwPromiseError(e)}throwPromiseError(e){throw e.exceptionMessage?e.exceptionMessage:this.options.messages.ReportViewer_PromisesChainStopError}handleRequestError(e,t="",i=!1){se(e)&&this.onClientExpired();let r=ce(e.error)?"":e.error,n=this.formatRequestError(e,r,t);this.raiseError(n),i||this.throwPromiseError(e)}formatRequestError(e,t,i){let r=e.responseJSON,n="";if(r){if(le(e))return this.options.messages.ReportViewer_MissingOrInvalidParameter;n=Y(r.message);let t=Y(r.exceptionMessage||r.ExceptionMessage||r.error_description);t&&(n?n+=" "+t:n=t)}else n=Y(e.responseText);return(i||t)&&(n&&(n=" "+n),n=Y(i||t)+n),se(e)&&(n+="<br />"+this.options.messages.ReportViewer_ClientExpired),n}raiseError(e,t=!0){this.emit("error",e,t)}onClientExpired(){this.clientHasExpired=!0,this.emit("clientExpired")}initializeClient(){return this.registerClientPromise||(this.registerClientPromise=this.serviceClient.registerClient().catch((e=>{const t=he(this.options.messages.ReportViewer_ErrorServiceUrl,[this.serviceClient.getServiceUrl()]);this.handleRequestError(e,t)})).then(this.setClientId.bind(this)).catch(this.clearClientId.bind(this))),this.registerClientPromise}registerInstance(){return this.registerInstancePromise||(this.registerInstancePromise=this.serviceClient.createReportInstance(this.clientId,this.getReport(),this.parameterValues).then(this.setReportInstanceId.bind(this)).catch(this.clearReportInstanceId.bind(this))),this.registerInstancePromise}registerDocumentAsync(e,t,i,r="",a=""){return n(this,void 0,void 0,(function*(){return(yield this.serviceClient.createReportDocument(this.clientId,this.reportInstanceId,e,t,!i,r,a).catch((t=>{this.handleRequestError(t,he(this.options.messages.ReportViewer_ErrorCreatingReportDocument,Y(this.getReport()),Y(e)))})))||""}))}getFormat(){return this.options.viewMode===e.ViewMode.PrintPreview?"HTML5":"HTML5Interactive"}getCanUsePlugin(){switch(this.options.printMode){case e.PrintMode.ForcePDFFile:return!1;case e.PrintMode.ForcePDFPlugin:return!0;default:return this.printManager.getDirectPrintState()}}createPreviewDeviceInfo(){let e=this.createDeviceInfo();return e.ContentOnly=!0,e.UseSVG=!0,e}createDeviceInfo(){let e=new a;this.options.enableAccessibility&&(e.enableAccessibility=!0,e.contentTabIndex=this.getContentTabIndex());let t=this.getSearchInitiated(),i=this.options.searchMetadataOnDemand;return e.enableSearch=!i||t,e}getParameters(e){return this.serviceClient.getParameters(this.clientId,this.getReport(),e||this.parameterValues).catch((e=>{this.handleRequestError(e,this.options.messages.ReportViewer_UnableToGetReportParameters)}))}getReportParameters(){const e={},t=this.getProcessedParameterValues();for(let i in t){const r=t[i],n=this.parameterValues[i];r&&r.availableValues?r.multivalue?e[i]=Re(r,n,i):e[i]=Ie(r,n,i):e[i]=n}return e}setProcessedParameterValues(e){this.processedParameterValues=e}getProcessedParameterValues(){return this.processedParameterValues}getDocumentInfo(t,i){return t&&this.emit("beginLoadReport"),new Promise(((r,a)=>{let o=()=>n(this,void 0,void 0,(function*(){this.cancelLoad?a(this.options.messages.ReportViewer_RenderingCancelled):(yield this.registerInstancePromise,this.serviceClient.getDocumentInfo(this.clientId,this.reportInstanceId,i).then((i=>{i&&i.documentReady?r(i):(t&&(this.getPageMode()===e.PageMode.ContinuousScroll&&i.pageCount>this.pageCount&&this.emit("pageLoaded"),this.pageCount=i.pageCount,this.emit("reportLoadProgress",i)),window.setTimeout(o,500))})).catch((e=>{"InvalidDocumentException"!==e.responseJSON.exceptionType?this.handleRequestError(e,"",!0):console.warn("getDocumentInfo failed or was canceled by the user: "+e.exceptionMessage)})))}));o()}))}getPage(e){return new Promise((t=>{let i=()=>{this.serviceClient.getPage(this.clientId,this.reportInstanceId,this.documentId,e).then((e=>{e.pageReady?t(e):window.setTimeout(i,500)})).catch((e=>this.handleRequestError(e)))};i()}))}getPageForBookmark(e,t){if(e)for(let i=0,r=e.length;i<r;i++){let r=e[i];if(r.id===t)return r.page;let n=this.getPageForBookmark(r.items,t);if(n)return n}return 0}fixDataContractJsonSerializer(e){let t={};return Array.isArray(e)&&e.forEach((function(e){t[e.Key]=e.Value})),t}execServerAction(e){this.emit("serverActionStarted"),this.refreshReportCore(!1,this.documentId,e)}onReportLoadComplete(e){this.bookmarkNodes=e.bookmarkNodes,this.pageCount=e.pageCount,this.renderingExtensions=e.renderingExtensions,this.emitAsync("reportLoadComplete",e)}onPageReady(e){this.emit("pageReady",e)}getReport(){var e;return(null===(e=this.options.reportSource)||void 0===e?void 0:e.report)||""}getDocumentFormats(){return this.renderingExtensions?Promise.resolve(this.renderingExtensions):(this.documentFormatsPromise||(this.documentFormatsPromise=this.serviceClient.getDocumentFormats().catch((e=>{this.handleRequestError(e)}))),this.documentFormatsPromise)}setUIState(e,t){this.emit("setUIState",{operationName:e,inProgress:t})}missingOrInvalidParameters(e){let t=this.options.messages.ReportViewer_MissingOrInvalidParameter;e.forEach((e=>{t+=`\r\n${e.text} (${e.id})`})),this.raiseError(t),this.emit("missingOrInvalidParameters")}setSearchInitiated(e){this.searchInitiated=e}getSearchInitiated(){return this.searchInitiated}setAiPromptInitiated(e){this.aiPromptInitiated=e}getAiPromptInitiated(){return this.aiPromptInitiated}setContentTabIndex(e){this.contentTabIndex=e}getContentTabIndex(){return this.contentTabIndex}disposeSentinel(){this.stopSentinel(),this.keepClientAliveSentinel=null}getConfigurationInfo(){return this.configurationInfo}setConfigurationInfo(e){this.configurationInfo=e}isAiInsightsEnabled(){var e,t;return null!==(t=null===(e=this.configurationInfo.options.find((e=>"ai-insights"===e.name)))||void 0===e?void 0:e.isAvailable)&&void 0!==t&&t}shouldShowLicenseBanner(){var e;const t=null===(e=this.configurationInfo)||void 0===e?void 0:e.license;return!(null==t?void 0:t.isValid)&&"true"!==this.loadFromSessionStorage("hideBanner")}shouldShowLicenseOverlay(){var e,t;return!(null===(t=null===(e=this.configurationInfo)||void 0===e?void 0:e.license)||void 0===t?void 0:t.isValid)}saveToSessionStorage(e,t){sessionStorage.setItem(e,t)}loadFromSessionStorage(e){return sessionStorage.getItem(e)}removeFromSessionStorage(e){sessionStorage.removeItem(e)}clearSessionStorage(){sessionStorage.clear()}},e.ReportControllerOptions=class{constructor(e,t,i,r,n,a,o,s,l,c=!1,h=!1){this.keepClientAlive=!1,this.keepClientAlive=e,this.authenticationToken=t,this.reportSource=i,this.printMode=r,this.pageMode=n,this.viewMode=a,this.scaleMode=o,this.scale=s,this.messages=l,this.enableAccessibility=c,this.searchMetadataOnDemand=h}},e.ReportServerSettings=class{constructor(e,t,i){this.url=e,this.username=t,this.password=i}},e.ReportSourceOptions=_e,e.RequestError=d,e.SearchInfo=class{constructor(){this.searchToken="",this.matchCase=!1,this.matchWholeWord=!1,this.useRegularExpressions=!1}},e.SearchManager=class extends R{constructor(e,t){super(),this.searchResults=[],this.pendingHighlightItem=null,this.highlightedElements=[],this.currentHighlightedElement=null,this.isActive=!1,this.controller=t,this.pageContainer=te(e,".trv-page-container"),this.controller.on("applySearchColors",this.applySearchColors.bind(this)).on("pageReady",this.applySearchColors.bind(this))}search(e){this.isActive=!0,this.clearColoredItems(),this.searchResults=[],e.searchToken&&""!==e.searchToken?this.controller.getSearchResults(e).then(this.onSearchComplete.bind(this)):this.onSearchComplete([])}closeSearch(){this.isActive=!1,this.clearColoredItems(),this.searchResults=[]}highlightSearchItem(t){t&&(this.currentHighlightedElement&&(G(this.currentHighlightedElement,Fe),H(this.currentHighlightedElement,$e)),t.page===this.controller.getCurrentPageNumber()?this.highlightItem(t):this.controller.getPageMode()===e.PageMode.SinglePage?this.clearColoredItems():this.highlightItem(t),this.pendingHighlightItem=t,this.navigateToPage(t))}navigateToPage(e){this.controller.navigateToPage(e.page,new l(e.id,"search"))}colorPageElements(e){e&&0!==e.length&&(e.forEach((e=>{let t=te(this.pageContainer,"[data-search-id="+e.id+"]");t&&(H(t,$e),this.highlightedElements.push(t))})),this.highlightItem(this.pendingHighlightItem))}highlightItem(e){if(e){let t=this.highlightedElements.find((function(t){return t.dataset.searchId===e.id}));t&&(this.currentHighlightedElement=t,G(t,$e),H(t,Fe))}}clearColoredItems(){this.highlightedElements&&this.highlightedElements.length>0&&this.highlightedElements.forEach((e=>{G(e,$e)})),this.currentHighlightedElement&&G(this.currentHighlightedElement,Fe),this.highlightedElements=[],this.currentHighlightedElement=null}applySearchColors(){this.isActive&&this.colorPageElements(this.searchResults)}onSearchComplete(e){this.searchResults=e,this.emit("searchComplete",e),this.colorPageElements(e)}},e.SearchResult=class{constructor(){this.description="",this.id="",this.page=0}},e.ServiceClient=class{constructor(e){this.options=e}validateClientID(e){if(!e)throw"Invalid ClientId"}authenticatedGet(e){return this.login().then((function(t){return fetch(e,{headers:u(t)}).then(p)}))}authenticatedPost(e,t){return this.login().then((function(i){return m(e,t,i)}))}authenticatedDelete(e){return this.login().then((function(t){return fetch(e,{method:"DELETE",headers:u(t)}).then(p)}))}login(){return this.loginPromise||(this.loginPromise=this.createLoginPromise()),this.loginPromise}createLoginPromise(){let e=this.options.loginInfo;if(e&&e.url&&(e.username||e.password)){let t=`grant_type=password&username=${encodeURIComponent((null==e?void 0:e.username)||"")}&password=${encodeURIComponent((null==e?void 0:e.password)||"")}`;return m(e.url,t,"",!0).then((e=>e.access_token))}return Promise.resolve("")}get(e){return fetch(e).then((e=>e.text()))}setAccessToken(e){this.loginPromise=Promise.resolve(e)}registerClient(){return this.authenticatedPost(`${this.options.serviceUrl}/clients`,{timeStamp:Date.now()}).then((e=>e.clientId))}unregisterClient(e){return this.validateClientID(e),this.authenticatedDelete(`${this.options.serviceUrl}/clients/${e}`)}getParameters(e,t,i){return this.validateClientID(e),this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/parameters`,{report:t,parameterValues:i||{}}).then((e=>e))}createReportInstance(e,t,i){return this.validateClientID(e),this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/instances`,{report:t,parameterValues:i}).then((e=>e.instanceId))}deleteReportInstance(e,t){return this.validateClientID(e),this.authenticatedDelete(`${this.options.serviceUrl}/clients/${e}/instances/${t}`)}createReportDocument(e,t,i,r,n,a,o){return this.validateClientID(e),r.BasePath=this.options.serviceUrl,this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents`,{format:i,deviceInfo:r,useCache:n,baseDocumentID:a,actionID:o}).then((e=>e.documentId))}sendDocument(e,t,i,r){return this.validateClientID(e),this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}/send`,r)}deleteReportDocument(e,t,i){return this.validateClientID(e),this.authenticatedDelete(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}`)}getDocumentUrl(e,t,i){return`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}`}getDocumentInfo(e,t,i){return this.validateClientID(e),this.authenticatedGet(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}/info`).then((e=>e))}getPage(e,t,i,r){return this.validateClientID(e),this.authenticatedGet(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}/pages/${r}`).then((e=>{let t=e;return t.pageActions=JSON.parse(e.pageActions),t}))}getDocumentFormats(){return this.authenticatedGet(`${this.options.serviceUrl}/formats`).then((e=>e||[]))}getServiceVersion(){return this.authenticatedGet(`${this.options.serviceUrl}/version`).then((e=>e.toString()))}getServiceConfiguration(){return this.authenticatedGet(`${this.options.serviceUrl}/configuration`).then((e=>e))}getResource(e,t,i,r){return this.validateClientID(e),this.authenticatedGet(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}/resources/${r}`)}getSearchResults(e,t,i,r){return this.validateClientID(e),this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}/search`,r).then((function(e){return e||[]}))}createAIThread(e,t,i,r){return this.validateClientID(e),this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/instances/${t}/ai`,{report:i,parameterValues:r}).then((e=>e))}getAIResponse(e,t,i,r,n){return this.validateClientID(e),this.authenticatedPost(`${this.options.serviceUrl}/clients/${e}/instances/${t}/documents/${i}/ai/${r}/query`,{query:n}).then((function(e){return e||""}))}getServiceUrl(){return this.options.serviceUrl}keepClientAlive(e){return this.authenticatedPost(`${this.options.serviceUrl}/clients/keepAlive/${e}`,{})}getClientsSessionTimeoutSeconds(){return this.authenticatedGet(`${this.options.serviceUrl}/clients/sessionTimeout`).then((function(e){return e.clientSessionTimeout}))}},e.ServiceClientLoginInfo=class{constructor(e,t,i){this.url=e,this.username=t,this.password=i}},e.ServiceClientOptions=class{constructor(e,t=null){this.serviceUrl="",this.serviceUrl=e.replace(/\/+$/,""),this.loginInfo=t}},e.addClass=H,e.appendHtml=Q,e.createElement=z,e.debounce=ne,e.each=de,e.escapeHtml=Y,e.findElement=te,e.getColorAlphaValue=Z,e.getElementAttributeValue=ie,e.getElementScrollParent=re,e.getOffsetParent=q,e.hasClass=W,e.isArray=ue,e.isExceptionOfType=oe,e.isInternalServerError=ce,e.isInvalidClientException=se,e.isInvalidParameterException=le,e.isRgbColor=J,e.keepElementInView=function(e){if(!e)return;let t=re(e);if(!t)return;let i=e.offsetTop,r=i+e.offsetHeight,n=t.scrollTop+t.offsetHeight;i<t.scrollTop?t.scrollTop=i:r>n&&(t.scrollTop+=r-n)},e.parseToLocalDate=ge,e.prependHtml=ee,e.removeClass=G,e.reportSourcesAreEqual=function(e){const t=e.firstReportSource,i=e.secondReportSource;if(t&&i&&t.report===i.report){let e="";t.parameters&&(e=JSON.stringify(t.parameters));let r="";return i.parameters&&(r=JSON.stringify(i.parameters)),e===r}return!1},e.scaleElement=K,e.stringFormat=he,e.throttle=ae,e.toPixel=j,e.toRgbColor=X,e.tryParseFloat=me,e.tryParseInt=pe,Object.defineProperty(e,"__esModule",{value:!0})}(t,n())}(0,r.exports);var a=r.exports,o=/{(\w+?)}/g,s={DELETE:46,BACKSPACE:8,TAB:9,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36};function l(){if(window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1){var e=Object.keys(s),t=e.length;return function(i){for(var r=0;r<t;r++)if(s[e[r]]==i)return!0}}return function(e){return!1}}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function h(e,t){return p(u(e,t),t)}function d(e,t,i){return e.replace(new RegExp(t,"g"),i)}function u(e,t){return void 0===t&&(t="s"),e.replace(new RegExp("^["+t+"]+"),"")}function p(e,t){return void 0===t&&(t="s"),e.replace(new RegExp("["+t+"]+$"),"")}function m(e,t){var i=Array.isArray(t);return e.replace(o,(function(e,r){return t[i?parseInt(r):r]}))}function g(e){return $("<div>").text(e).html()}function f(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function v(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function b(e,t){if(e instanceof Date&&t instanceof Date){if(e.getTime()!==t.getTime())return!1}else if(e!==t)return!1;return!0}function P(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.length!==t.length)return!1;for(var i=e.length-1;i>=0;i--)if(!b(e[i],t[i]))return!1;return!0}function E(e){var t,i,r,n="DrawingFactoryUnavailableException";return i=n,r="Telerik.Drawing.Contract."+n,(t=e)&&t.exceptionType&&S(t.exceptionType,i,r)}function S(e,t,i){return e&&(e===i||e.endsWith(t))}function w(e){try{return JSON.parse(e,(function(e,t){if(e&&t){var i=e.charAt(0);if(i===i.toUpperCase())this[i.toLowerCase()+e.slice(1)]=t}return t}))}catch(e){return null}}function C(e){return!(!e||!e.responseText)&&w(e.responseText)}function y(e){return e.filter((function(e,t,i){return i.lastIndexOf(e)===t}))}function A(e){var t=window.console;t&&t.error&&t.error(e)}function T(e){if(e&&e.length<6){var t=1,i=e.split("");for("#"!==i[0]&&(t=0);t<i.length;t++)i[t]=i[t]+i[t];e=i.join("")}var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?parseInt(r[1],16)+", "+parseInt(r[2],16)+", "+parseInt(r[3],16):null}function I(e){return!!e&&e.indexOf(",")>-1}const R=Object.freeze(Object.defineProperty({__proto__:null,isSpecialKey:l,rectangle:function e(t,i,r,n){return{left:t,top:i,width:r,height:n,right:function(){return t+r},bottom:function(){return i+n},union:function(r){var n=Math.min(t,r.left),a=Math.min(i,r.top);return e(n,a,Math.max(this.right(),r.right())-n,Math.max(this.bottom(),r.bottom())-a)}}},generateGuidString:c,trim:h,replaceAll:d,lTrim:u,rTrim:p,stringFormat:m,escapeHtml:g,adjustTimezone:f,unadjustTimezone:v,areEqual:b,areEqualArrays:P,isApplicationException:function(e){return E(C(e))},isApplicationExceptionInstance:E,exceptionTypeNamesMatch:S,parseJSON:w,getExceptionInstance:C,filterUniqueLastOccurrence:y,logError:A,toRgbColor:T,isRgbColor:I,getColorAlphaValue:function(e){if("transparent"===e.toLowerCase())return 0;if(!I(e))return 1;-1!==e.indexOf("#")&&(e=T(e));var t=e.split(",").map((function(e){return e.trim()}));return 4===t.length?parseFloat((parseFloat(t[3].replace(/[()]/g,""))/255).toFixed(2)):1},tryParseInt:a.tryParseInt,tryParseFloat:a.tryParseFloat,parseToLocalDate:a.parseToLocalDate,reportSourcesAreEqual:a.reportSourcesAreEqual},Symbol.toStringTag,{value:"Module"}));function _(e){return parseInt(e,10)||0}const M=Object.freeze(Object.defineProperty({__proto__:null,getMargins:function(e){var t=$(e);return{left:_(t.css("marginLeft")),right:_(t.css("marginRight")),top:_(t.css("marginTop")),bottom:_(t.css("marginBottom"))}},getPadding:function(e){var t=$(e);return{left:_(t.css("paddingLeft")),right:_(t.css("paddingRight")),top:_(t.css("paddingTop")),bottom:_(t.css("paddingBottom"))}},getBorderWidth:function(e){var t=$(e);return{left:_(t.css("borderLeftWidth")),right:_(t.css("borderRightWidth")),top:_(t.css("borderTopWidth")),bottom:_(t.css("borderBottomWidth"))}},scale:function(e,t,i,r,n){r=r||0,n=n||0;var a=m("scale({0}, {1})",[t=t||1,i=i||1]),o=m("{0} {1}",[r,n]);$(e).css("transform",a).css("transform-origin",o)}},Symbol.toStringTag,{value:"Module"}));var D={};function L(e){var t,i,r,n={CONFIRM_KEY:13,CONTENT_AREA_KEY:67,DOCUMENT_MAP_AREA_KEY:68,MENU_AREA_KEY:77,PARAMETERS_AREA_KEY:80};if(e=$.extend({},D,e),!(t=e.controller))throw"No controller (telerikReporting.ReportViewerController) has been specified.";function a(){i||(!function(){(i={})[n.DOCUMENT_MAP_AREA_KEY]=$("div[data-role=telerik_ReportViewer_DocumentMapArea] div[data-role=treeview]"),i[n.MENU_AREA_KEY]=$("div[data-role=telerik_ReportViewer_Toolbar]"),i[n.CONTENT_AREA_KEY]=o();var e=$("div[data-role=telerik_ReportViewer_ParametersArea] .trv-parameters-area-content .trv-parameters-wrapper");e&&(i[n.PARAMETERS_AREA_KEY]=e,function(e){if(0===e.length)return;var t=e.parent("div[data-role=telerik_ReportViewer_ParametersArea]");if(!l(t))return;Array.from(e.children()).forEach((e=>{$(e).on("keydown",(e=>{e.which==n.CONFIRM_KEY&&(t.find("button.trv-parameters-area-preview-button").focus(),e.preventDefault())}))}))}(e))}(),$(document.body).off("keydown",s),$(document.body).on("keydown",s))}function o(){return $("div[data-role=telerik_ReportViewer_PagesArea]")}function s(e){if(i&&e.altKey&&e.ctrlKey){var t=i[e.which];if(t&&l(t.parent())){var n="k-focus";r&&r.removeClass(n),t.addClass(n),t.focus(),r=t,e.preventDefault()}}}function l(e){return e&&!(e.hasClass("k-collapsed")||e.hasClass("k-hidden"))}return t.onAsync("reportLoadComplete",(async()=>{a();var e=o();e.length>0&&e.focus()})).on("pageReady",((e,t)=>{!function(e){e&&(a(),function(e){if(e){var t=e.find("div [data-reporting-action]");!t.length>0||Array.from(t).forEach((e=>{var t=$(e);t.on("keydown",(e=>{e.which==n.CONFIRM_KEY&&t.trigger("click")}))}))}}(i[n.CONTENT_AREA_KEY]))}(t)})).on("error",((e,t)=>{var i;0!==(i=$("div.trv-pages-area div.trv-error-message")).length&&(i.attr("tabIndex",0),i.focus()),window.setTimeout(a,500)})),{getKeyMap:function(){return n},setKeyMap:function(e){n=e,i=void 0}}}const k={viewerInstances:[]};class N{static bind(e,...t){const i=t[0].commands,r=t[1];N.attachCommands(e,i,r);var n=e.find('[data-role^="telerik_ReportViewer_"]');Array.from(n).forEach((e=>{var i=$(e),r=$.fn[i.attr("data-role")];"function"==typeof r&&r.apply(i,t)}))}static attachCommands(e,t,i){var r='[data-command^="telerik_ReportViewer_"]',n="[data-target-report-viewer]"+r;e.on("click",r,(function(e){var i=$(e.currentTarget).attr("data-command");if(i){var r=i.substring(21),n=t[r];n&&n.getEnabled()&&n.exec($(e.currentTarget).attr("data-command-parameter")),e.preventDefault()}})),k.CommandHandlerAttached||($(document.body).on("click",n,(function(e){var t=$(e.currentTarget),i=t.attr("data-command"),r=t.attr("data-target-report-viewer");if(i&&r){var n=i.substring(21),a=$(r).data("telerik_ReportViewer").commands[n];a.getEnabled()&&a.exec($(e.currentTarget).attr("data-command-parameter")),e.preventDefault()}})),k.CommandHandlerAttached=!0),Object.entries(t).forEach((([t,r])=>{!function(e,t,i,r){if(t){var n='[data-command="telerik_ReportViewer_'+e+'"]',a='[data-target-report-viewer="'+i.selector+'"]'+n,o=r.find(n),s=$(a);$(t).on("enabledChanged",(e=>{(t.getEnabled()?$.fn.removeClass:$.fn.addClass).call(o.parent("li"),"k-disabled"),(t.getEnabled()?$.fn.removeClass:$.fn.addClass).call(s,i.disabledButtonClass)})).on("checkedChanged",(e=>{var r=o.parent("li");(t.getChecked()?$.fn.addClass:$.fn.removeClass).call(r,function(e){return e.hasClass("trv-menu-toggleable")?"k-selected !k-bg-primary":"k-selected"}(r)),(t.getChecked()?$.fn.addClass:$.fn.removeClass).call(s,i.checkedButtonClass)}))}}(t,r,i,e)}))}}class x{_enabled;_checked;_fn;getEnabled(){return this._enabled}setEnabled(e){const t=Boolean(e);return this._enabled!==t&&(this._enabled=t),$(this).trigger("enabledChanged",this._enabled),this}getChecked(){return this._checked}setChecked(e){const t=Boolean(e);return this._checked!==t&&(this._checked=t),$(this).trigger("checkedChanged",this._checked),this}constructor(e){this._enabled=!0,this._checked=!1,this._fn=e}exec(...e){"function"==typeof this._fn&&this._fn.apply(this,e)}}var V={};V[a.ScaleMode.FitPage]=a.ScaleMode.FitPageWidth,V[a.ScaleMode.FitPageWidth]=a.ScaleMode.Specific,V[a.ScaleMode.Specific]=a.ScaleMode.FitPage;var O=[.1,.25,.5,.75,1,1.5,2,4,8];function F(e){var t=e.controller;if(!t)throw"No options.controller.";var i=e.notificationService;if(!i)throw"No options.notificationService.";var r=e.history;if(!r)throw"No options.history.";return{historyBack:new x((()=>{r.back()})),historyForward:new x((()=>{r.forward()})),stopRendering:new x((()=>{t.stopRendering()})),goToPrevPage:new x((()=>{t.navigateToPage(t.getCurrentPageNumber()-1)})),goToNextPage:new x((()=>{t.navigateToPage(t.getCurrentPageNumber()+1)})),goToFirstPage:new x((()=>{t.navigateToPage(1)})),goToLastPage:new x((()=>{t.navigateToPage(t.getPageCount())})),goToPage:new x((e=>{if(!isNaN(e)){var i=t.getPageCount();return e>i?e=i:e<1&&(e=1),t.navigateToPage(e),e}})),refresh:new x((()=>{t.refreshReport(!0,"",!1)})),export:new x((e=>{e&&t.exportReport(e)})),print:new x((()=>{t.printReport()})),pageMode:new x((()=>{t.setPageMode(t.getPageMode()===a.PageMode.SinglePage?a.PageMode.ContinuousScroll:a.PageMode.SinglePage),t.refreshReportCore(!1,t.getReportDocumentId())})),togglePrintPreview:new x((()=>{t.setViewMode(t.getViewMode()===a.ViewMode.PrintPreview?a.ViewMode.Interactive:a.ViewMode.PrintPreview),t.refreshReportCore(!1,t.getReportDocumentId())})),toggleDocumentMap:new x((()=>{var e;i.setDocumentMapVisible({visible:(e={},i.getDocumentMapState(e),!Boolean(e.visible))})})),toggleParametersArea:new x((()=>{var e;i.setParametersAreaVisible({visible:(e={},i.getParametersAreaState(e),!Boolean(e.visible))})})),zoom:new x((e=>{t.setScaleMode(a.ScaleMode.Specific),t.setScale(e)})),zoomIn:new x((()=>{n(1)})),zoomOut:new x((()=>{n(-1)})),toggleZoomMode:new x((e=>{var i=t.getScaleMode(),r=V[i];t.setScaleMode(r),r===a.ScaleMode.Specific&&t.setScale(1)})),toggleSearchDialog:new x((()=>{i.setSearchDialogVisible({visible:!Boolean(t.getSearchInitiated())})})),toggleSendEmailDialog:new x((()=>{var e;i.setSendEmailDialogVisible({visible:(e={},i.getSendEmailDialogState(e),!Boolean(e.visible))})})),toggleAiPromptDialog:new x((()=>{i.setAiPromptDialogVisible({visible:!Boolean(t.getAiPromptInitiated())})}))};function n(e){var i=function(e,t){for(var i=-1,r=O.length,n=0;n<r;n++){var a=O[n];if(e<a){i=n-.5;break}if(e===a){i=n;break}}i+=t,i=t>=0?Math.round(i-.49):Math.round(i+.49);i<0?i=0:i>r-1&&(i=r-1);return O[i]}(t.getScale(),e);t.setScaleMode(a.ScaleMode.Specific),t.setScale(i)}}const B={INTERACTIVE:"INTERACTIVE",PRINT_PREVIEW:"PRINT_PREVIEW"},U={AUTO_SELECT:"AUTO_SELECT",FORCE_PDF_PLUGIN:"FORCE_PDF_PLUGIN",FORCE_PDF_FILE:"FORCE_PDF_FILE"},z={SINGLE_PAGE:"SINGLE_PAGE",CONTINUOUS_SCROLL:"CONTINUOUS_SCROLL"},H={FIT_PAGE_WIDTH:"FIT_PAGE_WIDTH",FIT_PAGE:"FIT_PAGE",SPECIFIC:"SPECIFIC"},G={INTEGER:"System.Int64",FLOAT:"System.Double",STRING:"System.String",DATETIME:"System.DateTime",BOOLEAN:"System.Boolean"},W={COMBO_BOX:"COMBO_BOX",LIST_VIEW:"LIST_VIEW"},q={RIGHT:"RIGHT",LEFT:"LEFT",TOP:"TOP",BOTTOM:"BOTTOM"},j={RIGHT:"RIGHT",LEFT:"LEFT"},K={EXPORT_BEGIN:"EXPORT_BEGIN",EXPORT_END:"EXPORT_END",PRINT_BEGIN:"PRINT_BEGIN",PRINT_END:"PRINT_END",RENDERING_BEGIN:"RENDERING_BEGIN",RENDERING_END:"RENDERING_END",PAGE_READY:"PAGE_READY",ERROR:"ERROR",UPDATE_UI:"UPDATE_UI",INTERACTIVE_ACTION_EXECUTING:"INTERACTIVE_ACTION_EXECUTING",INTERACTIVE_ACTION_ENTER:"INTERACTIVE_ACTION_ENTER",INTERACTIVE_ACTION_LEAVE:"INTERACTIVE_ACTION_LEAVE",VIEWER_TOOLTIP_OPENING:"VIEWER_TOOLTIP_OPENING",SEND_EMAIL_BEGIN:"SEND_EMAIL_BEGIN",SEND_EMAIL_END:"SEND_EMAIL_END",PARAMETERS_LOADED:"PARAMETERS_LOADED"};function Y(e){var t=e.controller;if(!t)throw"No controller (telerikReporting.reportViewerController) has been specified.";var i=e.settings,r=i.getHistory()||{records:[],position:-1};function n(){var e=r.records;return e.length>0?e[r.position]:null}function o(){i.setHistory(r)}function s(e){!function(){var e=r.records.length-1;for(;e>=0&&!0===r.records[e].temp;)r.records.splice(e,1),r.position>=e&&r.position--,e--}();var i,s,l,c=n(),h=t.getReportSource(),d={firstReportSource:c?.reportSource,secondReportSource:h};c&&a.reportSourcesAreEqual(d)||(i={reportSource:h,pageNumber:1,temp:e},s=r.records,l=r.position,(s=Array.prototype.slice.call(s,0,l+1)).push(i),r.records=s,r.position=s.length-1,o())}function l(e,i){t.setReportDocumentId(e.reportDocumentId),t.setViewMode(e.viewMode),t.setReportSource(e.reportSource),t.refreshReport(!1,e.reportDocumentId,i),t.navigateToPage(e.pageNumber)}function c(e){var t=r.position,i=r.records.length,n=t+e;return 0<=n&&n<i}function h(e){var t=r.position,i=r.records.length,a=t+e;if(a<0?a=0:a>=i&&(a=i-1),a!=t){var s=n(),c=s.reportSource?s.reportSource.report:"";r.position=a,o();var h=n();l(h,c!==(h.reportSource?h.reportSource.report:""))}}return t.on("loadedReportChange",(()=>{s(!0)})).on("currentPageChanged",(()=>{var e;(e=n())&&(e.pageNumber=t.getCurrentPageNumber(),e.viewMode=t.getViewMode(),e.reportDocumentId=t.getReportDocumentId(),o())})).onAsync("reportLoadComplete",(async()=>{s(!1)})).on("clientExpired",(()=>{for(var e=r.records,t=0;t<e.length;t++)e[t].reportDocumentId=null})),{back:()=>{h(-1)},forward:()=>{h(1)},canMoveBack:()=>c(-1),canMoveForward:()=>c(1),loadCurrent:()=>{var e=n();return e&&l(e,!1),Boolean(e)}}}window.telerikReportViewer||={},window.telerikReportViewer.sr||={controllerNotInitialized:"Controller is not initialized.",noReportInstance:"No report instance.",missingTemplate:"!obsolete resource!",noReport:"No report.",noReportDocument:"No report document.",missingOrInvalidParameter:"There are missing or invalid parameter values. Please input valid data for the following parameters:\n",invalidParameter:"Please input a valid value.",invalidDateTimeValue:"Please input a valid date.",parameterIsEmpty:"Parameter value cannot be empty.",cannotValidateType:"Cannot validate parameter of type {type}.",loadingFormats:"Loading...",loadingReport:"Loading report...",loadingParameters:"Loading parameters...",autoRunDisabled:"Please validate the report parameter values and press Preview to generate the report.",preparingDownload:"Preparing document to download. Please wait...",preparingPrint:"Preparing document to print. Please wait...",errorLoadingTemplates:"Error loading the report viewer's templates. (templateUrl = '{0}').",errorServiceUrl:"Cannot access the Reporting REST service. (serviceUrl = '{0}'). Make sure the service address is correct and enable CORS if needed. (https://enable-cors.org)",errorServiceVersion:"The version of the Report Viewer '{1}' does not match the version of the Reporting REST Service '{0}'. Please make sure both are running same version.",loadingReportPagesInProgress:"{0} pages loaded so far...",loadedReportPagesComplete:"Done. Total {0} pages loaded.",noPageToDisplay:"No page to display.",errorDeletingReportInstance:"Error deleting report instance: '{0}'.",errorRegisteringViewer:"Error registering the viewer with the service.",noServiceClient:"No serviceClient has been specified for this controller.",errorRegisteringClientInstance:"Error registering client instance.",errorCreatingReportInstance:"Error creating report instance (Report = '{0}').",errorCreatingReportDocument:"Error creating report document (Report = '{0}'; Format = '{1}').",unableToGetReportParameters:"Unable to get report parameters.",errorObtainingAuthenticationToken:"Error obtaining authentication token.",clientExpired:"Click 'Refresh' to restore client session.",promisesChainStopError:"Error shown. Throwing promises chain stop error.",renderingCancelled:"Report processing was canceled.",tryReportPreview:"The report may now be previewed.",parameterEditorSelectNone:"clear selection",parameterEditorSelectAll:"select all",parametersAreaPreviewButton:"Preview",menuNavigateBackwardText:"Navigate Backward",menuNavigateBackwardTitle:"Navigate Backward",menuNavigateForwardText:"Navigate Forward",menuNavigateForwardTitle:"Navigate Forward",menuStopRenderingText:"Stop Rendering",menuStopRenderingTitle:"Stop Rendering",menuRefreshText:"Refresh",menuRefreshTitle:"Refresh",menuFirstPageText:"First Page",menuFirstPageTitle:"First Page",menuLastPageText:"Last Page",menuLastPageTitle:"Last Page",menuPreviousPageTitle:"Previous Page",menuNextPageTitle:"Next Page",menuPageNumberTitle:"Page Number Selector",menuPageText:"Page",menuPageOfText:"of",menuDocumentMapTitle:"Toggle Document Map",menuParametersAreaTitle:"Toggle Parameters Area",menuZoomInTitle:"Zoom In",menuZoomOutTitle:"Zoom Out",menuPageStateTitle:"Toggle FullPage/PageWidth",menuPrintText:"Print...",menuContinuousScrollText:"Toggle Continuous Scrolling",menuSendMailText:"Send an email",menuPrintTitle:"Print",menuContinuousScrollTitle:"Toggle Continuous Scrolling",menuSendMailTitle:"Send an email",menuExportText:"Export",menuExportTitle:"Export",menuPrintPreviewText:"Toggle Print Preview",menuPrintPreviewTitle:"Toggle Print Preview",menuSearchText:"Search",menuSearchTitle:"Toggle Search",menuAiPromptTitle:"Toggle AI Prompt",menuSideMenuTitle:"Toggle Side Menu",sendEmailFromLabel:"From:",sendEmailToLabel:"To:",sendEmailCCLabel:"CC:",sendEmailSubjectLabel:"Subject:",sendEmailFormatLabel:"Format:",sendEmailSendLabel:"Send",sendEmailCancelLabel:"Cancel",ariaLabelPageNumberSelector:"Page number selector. Showing page {0} of {1}.",ariaLabelPageNumberEditor:"Page number editor",ariaLabelExpandable:"Expandable",ariaLabelSelected:"Selected",ariaLabelParameter:"parameter",ariaLabelErrorMessage:"Error message",ariaLabelParameterInfo:"Contains {0} options",ariaLabelMultiSelect:"Multiselect",ariaLabelMultiValue:"Multivalue",ariaLabelSingleValue:"Single value",ariaLabelParameterDateTime:"DateTime",ariaLabelParameterString:"String",ariaLabelParameterNumerical:"Numerical",ariaLabelParameterBoolean:"Boolean",ariaLabelParametersAreaPreviewButton:"Preview the report",ariaLabelMainMenu:"Main menu",ariaLabelCompactMenu:"Compact menu",ariaLabelSideMenu:"Side menu",ariaLabelDocumentMap:"Document map area",ariaLabelDocumentMapSplitter:"Document map area splitbar.",ariaLabelParametersAreaSplitter:"Parameters area splitbar.",ariaLabelPagesArea:"Report contents area",ariaLabelSearchDialogArea:"Search area",ariaLabelAiPromptDialogArea:"AI prompt area",ariaLabelSendEmailDialogArea:"Send email area",ariaLabelSearchDialogStop:"Stop search",ariaLabelSearchDialogOptions:"Search options",ariaLabelSearchDialogNavigateUp:"Navigate up",ariaLabelSearchDialogNavigateDown:"Navigate down",ariaLabelSearchDialogMatchCase:"Match case",ariaLabelSearchDialogMatchWholeWord:"Match whole word",ariaLabelSearchDialogUseRegex:"Use regex",ariaLabelMenuNavigateBackward:"Navigate backward",ariaLabelMenuNavigateForward:"Navigate forward",ariaLabelMenuStopRendering:"Stop rendering",ariaLabelMenuRefresh:"Refresh",ariaLabelMenuFirstPage:"First page",ariaLabelMenuLastPage:"Last page",ariaLabelMenuPreviousPage:"Previous page",ariaLabelMenuNextPage:"Next page",ariaLabelMenuPageNumber:"Page number selector",ariaLabelMenuDocumentMap:"Toggle document map",ariaLabelMenuParametersArea:"Toggle parameters area",ariaLabelMenuZoomIn:"Zoom in",ariaLabelMenuZoomOut:"Zoom out",ariaLabelMenuPageState:"Toggle FullPage/PageWidth",ariaLabelMenuPrint:"Print",ariaLabelMenuContinuousScroll:"Continuous scrolling",ariaLabelMenuSendMail:"Send an email",ariaLabelMenuExport:"Export",ariaLabelMenuPrintPreview:"Toggle print preview",ariaLabelMenuSearch:"Search in report contents",ariaLabelMenuSideMenu:"Toggle side menu",ariaLabelSendEmailFrom:"From email address",ariaLabelSendEmailTo:"Recipient email address",ariaLabelSendEmailCC:"Carbon Copy email address",ariaLabelSendEmailSubject:"Email subject:",ariaLabelSendEmailFormat:"Report format:",ariaLabelSendEmailSend:"Send email",ariaLabelSendEmailCancel:"Cancel sending email",searchDialogTitle:"Search in report contents",searchDialogSearchInProgress:"searching...",searchDialogNoResultsLabel:"No results",searchDialogResultsFormatLabel:"Result {0} of {1}",searchDialogStopTitle:"Stop Search",searchDialogNavigateUpTitle:"Navigate Up",searchDialogNavigateDownTitle:"Navigate Down",searchDialogMatchCaseTitle:"Match Case",searchDialogMatchWholeWordTitle:"Match Whole Word",searchDialogUseRegexTitle:"Use Regex",searchDialogCaptionText:"Find",searchDialogPageText:"page",sendEmailDialogTitle:"Send Email",sendEmailValidationEmailRequired:"Email field is required",sendEmailValidationEmailFormat:"Email format is not valid",sendEmailValidationSingleEmail:"The field accepts a single email address only",sendEmailValidationFormatRequired:"Format field is required",errorSendingDocument:"Error sending report document (Report = '{0}').",aiPromptDialogConsentTitle:"Before you start with AI",aiPromptDialogConsentAccept:"Consent",aiPromptDialogConsentReject:"Cancel",aiPromptDialogTextAreaPlaceholder:"Enter your prompt",aiPromptDialogNoPredefinedAndCustomPromptsPlaceholder:"Custom prompts are disabled and there are no predefined prompts configured. Please allow custom prompts or add predefined prompts to use the AI feature.",aiPromptDialogNoCustomPromptsPlaceholder:"Custom prompts are disabled, please select one of the predefined suggestions below"};var X=X||{};const J=(window.telerikReportViewer||{}).sr||{},Z=$.extend({},X,J);var Q,ee={MultiSelect:(e,t)=>Boolean(e.availableValues)&&e.multivalue&&(!t||!t.multiSelect||t.multiSelect!==W.COMBO_BOX),MultiSelectCombo:(e,t)=>Boolean(e.availableValues)&&e.multivalue&&t&&t.multiSelect&&t.multiSelect===W.COMBO_BOX,SingleSelect:(e,t)=>Boolean(e.availableValues)&&!e.multivalue&&(!t||!t.singleSelect||t.singleSelect!==W.COMBO_BOX),SingleSelectCombo:(e,t)=>Boolean(e.availableValues)&&!e.multivalue&&t&&t.singleSelect&&t.singleSelect===W.COMBO_BOX,MultiValue:e=>Boolean(e.multivalue),DateTime:e=>e.type===G.DATETIME,String:e=>e.type===G.STRING,Number:e=>{switch(e.type){case G.INTEGER:case G.FLOAT:return!0;default:return!1}},Boolean:e=>e.type===G.BOOLEAN,Default:e=>!0},te={formatValue:e=>{var t="";return e&&[].concat(e).forEach((e=>{t.length>0&&(t+="\n"),t+=e})),t},parseValues:e=>(""+e).split("\n")};function ie(e){function t(t){return!!l(t.keyCode)||(i=$(e).val()+String.fromCharCode(t.charCode),/^(\-|\+)?([0-9]*)$/.test(i));var i}function i(e){}return $(e).on("keypress",t).on("paste",i),{dispose:()=>{!function(e){$(e).off("keypress",t).off("paste",i)}(e)}}}function re(e){function t(t){return!!l(t.keyCode)||(i=$(e).val()+String.fromCharCode(t.charCode),/^(\-|\+)?([0-9]*(\.[0-9]*)?)$/.test(i));var i}function i(e){}return $(e).on("keypress",t).on("paste",i),{dispose:()=>{!function(e){$(e).off("keypress",t).off("paste",i)}(e)}}}function ne(e,t,i){(e?$.fn.addClass:$.fn.removeClass).call(i,t)}function ae(e,t){ne(!t,"k-disabled",e)}function oe(e,t,i,r,n){r||(r="");var a=m("{0}. {1} {2}. {3}",[i,t,Z.ariaLabelParameter,r]);e.attr("aria-label",a),ce(e,n)}var se=0;function le(e){if(!Q){var t=$(".trv-parameters-area-content");if(t.length>0){var i=t.attr("tabIndex");i&&(Q=a.tryParseInt(i))}Q&&!isNaN(Q)||(Q=300)}var r=e.closest(".trv-parameter-value"),n=r.find(".trv-select-all"),o=r.find(".trv-select-none"),s=e.closest(".k-widget").find(".k-input"),l=s&&s.length;n&&n.length&&n.attr("tabindex",Q+ ++se),o&&o.length&&o.attr("tabindex",Q+ ++se),l?s.attr("tabindex",Q+ ++se):e.attr("tabindex",Q+ ++se)}function ce(e,t){var i=m(" {0}:",[Z.ariaLabelErrorMessage]),r=e.attr("aria-label");if(r){var n=r.indexOf(i);n>-1&&(r=r.substring(0,n)),t&&""!==t?(e.attr("aria-required",!0),e.attr("aria-invalid",!0),r+=i+t):e.removeAttr("aria-invalid"),e.attr("aria-label",r)}}function he(e){return kendo.version>="2017.3.1018"||e}var de=[{match:ee.MultiSelect,createEditor:(e,t)=>{var i=$(e),r=!0;i.html(t.templates["trv-parameter-editor-available-values-multiselect"]);var n,o,s,l,c=i.find(".trv-list"),h=i.find(".trv-select-all"),d=i.find(".trv-select-none"),u=t.parameterChanged;function p(e){l&&(function(e){var t=c.find(".trv-listviewitem");Array.from(t).forEach((t=>{var i=$(t),r=e.filter(i).length>0;i.attr("aria-selected",r)}))}(e),function(e){var t=o.availableValues,i=$.map(e,(e=>t[$(e).index()].value));g();var r=!o.autoRefresh&&!o.childParameters;s=window.setTimeout((()=>{P(o.value,i)||u(o,i),s=null}),r?0:1e3)}(e))}function g(){s&&window.clearTimeout(s)}function f(){return $(n.element).find(".k-selected")}function v(e){if(r){var t=$(e.target),i=n.select();t.hasClass("k-selected")?i.splice($.inArray(t[0],i),1):i.push(t),n.clearSelection(),n.select(i),n.trigger("change")}}function E(e){p(f())}function S(e){if(r&&32===e.which){var t=n.element.find(".k-focus");t.length>0&&(t.toggleClass("k-selected"),p(f()),e.preventDefault())}}function w(e){!function(e){Array.isArray(e)||(e=[e]);var t=c.find(".trv-listviewitem");$.each(o.availableValues,((i,r)=>{var n,o,s=!1;$.each(e,((e,t)=>{var i=r.value;return t instanceof Date&&(i=a.parseToLocalDate(r.value)),!(s=b(t,i))})),n=$(t[i]),ne(o=s,"k-selected",n),n.attr("aria-selected",o)}))}(e),p(f())}return h.length>0&&(h.text(Z[h.text()]),h=new kendo.ui.Button(h,{size:"small",click:e=>{e.preventDefault(),r&&w(o.availableValues.map((e=>e.value)))}})),d.length>0&&(d.text(Z[d.text()]),d=new kendo.ui.Button(d,{size:"small",click:e=>{e.preventDefault(),r&&w([])}})),{beginEdit:e=>{l=!1,n&&(n.element.off("touch click",".trv-listviewitem",v),n.element.off("keydown",S)),o=e;try{n=c.kendoListView({template:kendo.template('<div class="trv-listviewitem" style="cursor: pointer">${name}</div>'),dataSource:{data:o.availableValues},selectable:"MULTIPLE",navigatable:he(t.enableAccessibility),change:E}).data("kendoListView")}catch(e){throw console.error("Instantiation of Kendo ListView as MultiSelect parameter editor threw an exception",e),e}le(c),w(o.value),n.element.off().on("touch click",".trv-listviewitem",v),n.element.on("keydown",S),l=!0},enable:e=>{ae(c,r=e)},clearPendingChange:g,addAccessibility:e=>{var t=m(Z.ariaLabelParameterInfo,[e.availableValues.length]);oe(c,Z.ariaLabelMultiSelect,e.text,t,e.Error),c.attr("aria-multiselectable","true");var i=c.find(".trv-listviewitem");Array.from(i).forEach((e=>{$(e).attr("aria-label",e.innerText)}))},setAccessibilityErrorState:e=>{ce(c,e.Error)},destroy:()=>{n.destroy()}}}},{match:ee.MultiSelectCombo,createEditor:(e,t)=>{var i,r,n,a,o,s,l=$(e),c=!0,h=t.parameterChanged,d=!0;function u(e){!function(e){p();var t=!s.autoRefresh&&!s.childParameters;o=window.setTimeout((()=>{P(s.value,e)||h(s,e),o=null}),t?0:1e3)}(e)}function p(){o&&window.clearTimeout(o)}function g(){d&&u(a.value())}return l.html(t.templates["trv-parameter-editor-available-values-multiselect-combo"]),i=l.find(".trv-combo"),(n=l.find(".trv-select-all")).length>0&&(n.text(Z[n.text()]),n=new kendo.ui.Button(n,{size:"small",click:e=>{if(e.preventDefault(),c){var t=$.map(s.availableValues,(e=>e.value));a.value(t),a.trigger("change")}}})),(r=l.find(".trv-select-none")).length>0&&(r.text(Z[r.text()]),r=new kendo.ui.Button(r,{size:"small",click:e=>{e.preventDefault(),a.value([]),a.trigger("change")}})),{beginEdit:e=>{a&&a.unbind("change",g),s=e;try{a=i.kendoMultiSelect({itemTemplate:'<div class="trv-editoritem">${name}</div>',dataSource:s.availableValues,dataTextField:"name",dataValueField:"value",value:s.value,filter:"contains",autoClose:!1,open:()=>{d=!1},close:e=>{d=!0,g()},autoWidth:!0,clearButton:!1}).data("kendoMultiSelect")}catch(e){throw console.error("Instantiation of Kendo MultiSelect as MultiSelectCombo parameter editor threw an exception",e),e}le(i),a.bind("change",g)},enable:e=>{c=e,a.enable(e)},clearPendingChange:p,addAccessibility:e=>{var t=a.input,i=m(Z.ariaLabelParameterInfo,[e.availableValues.length]);oe(t,Z.ariaLabelMultiSelect,e.text,i,e.Error);var r=a.items();Array.from(r).forEach((e=>{$(e).attr("aria-label",e.innerText)}))},setAccessibilityErrorState:e=>{ce(i,e.Error)},destroy:()=>{a.destroy()}}}},{match:ee.SingleSelect,createEditor:(e,t)=>{var i=$(e),r=!0;i.html(t.templates["trv-parameter-editor-available-values"]);var n,o,s=i.find(".trv-list"),l=i.find(".trv-select-none"),c=t.parameterChanged;function h(e){!function(e){var t=o.availableValues,i=$.map(e,(e=>t[$(e).index()].value));Array.isArray(i)&&(i=i[0]);c(o,i)}(e)}function d(){h(n.select())}function u(e){var t,i;le(e),t=o.value,i=s.find(".trv-listviewitem"),$.each(o.availableValues,((e,r)=>{var o=r.value;return t instanceof Date&&(o=a.parseToLocalDate(r.value)),!b(t,o)||(n.select(i[e]),!1)})),n.bind("change",d)}return l.length>0&&(l.text(Z[l.text()]),l=new kendo.ui.Button(l,{size:"small",click:e=>{e.preventDefault(),n.clearSelection(),n.trigger("change")}})),{beginEdit:e=>{n&&n.unbind("change",d),o=e;try{n=s.kendoListView({template:'<div class="trv-listviewitem">${name}</div>',dataSource:{data:o.availableValues},selectable:!0,navigatable:he(t.enableAccessibility)}).data("kendoListView")}catch(e){throw console.error("Instantiation of Kendo ListView as SingleSelect parameter editor threw an exception",e),e}u(s)},enable:e=>{ae(s,r=e),r?(n.bind("change",d),s.addClass("k-selectable")):(n.unbind("change",d),s.removeClass("k-selectable"))},addAccessibility:e=>{var t=m(Z.ariaLabelParameterInfo,[e.availableValues.length]);oe(s,Z.ariaLabelSingleValue,e.text,t,e.Error);var i=s.find(".trv-listviewitem");Array.from(i).forEach((e=>{$(e).attr("aria-label",e.innerText)}))},setAccessibilityErrorState:e=>{ce(s,e.Error)},destroy:()=>{n.destroy()}}}},{match:ee.SingleSelectCombo,createEditor:(e,t)=>{var i,r,n,a,o=$(e),s=t.parameterChanged;function l(e,t){!function(e,t){var i=t||"";!t&&e>=0&&(i=a.availableValues[e].value);s(a,i)}(e,t)}function c(e){l(n.select(),e.sender.value())}return o.html(t.templates["trv-parameter-editor-available-values-combo"]),i=o.find(".trv-combo"),(r=o.find(".trv-select-none")).length>0&&(r.text(Z[r.text()]),r=new kendo.ui.Button(r,{size:"small",click:e=>{e.preventDefault(),n.value(""),n.trigger("change")}})),{beginEdit:e=>{n&&n.unbind("change",c),a=e;try{n=i.kendoComboBox({template:'<div class="trv-editoritem">${name}</div>',dataSource:a.availableValues,dataTextField:"name",dataValueField:"value",value:a.value,filter:"contains",suggest:!0,clearButton:!1}).data("kendoComboBox")}catch(e){throw console.error("Instantiation of Kendo ComboBox as SingleSelectCombo parameter editor threw an exception",e),e}le(i),n.bind("change",c)},enable:e=>{n.enable(e)},addAccessibility:e=>{var t=n.input,i=m(Z.ariaLabelParameterInfo,[e.availableValues.length]);oe(t,Z.ariaLabelSingleValue,e.text,i,e.Error);var r=n.items();Array.from(r).forEach((e=>{$(e).attr("aria-label",e.innerText)}))},setAccessibilityErrorState:e=>{ce(i,e.Error)},destroy:()=>{n.destroy()}}}},{match:ee.MultiValue,createEditor:(e,t)=>{var i,r=$(e);r.html(t.templates["trv-parameter-editor-multivalue"]);var n=r.find("textarea").on("change",(e=>{t.parameterChanged&&t.parameterChanged(i,te.parseValues(e.currentTarget.value))}));return{beginEdit:e=>{var t;i=e,t=e.value,i.value=t,n.val(te.formatValue(t)),le(n)},enable:e=>{ae(n,e),n.prop("disabled",!e)},addAccessibility:e=>{oe(n,Z.ariaLabelMultiValue,e.text,null,e.Error)},setAccessibilityErrorState:e=>{ce(n,e.Error)}}}},{match:ee.DateTime,createEditor:(e,t)=>{var i,r=$(e);r.html(t.templates["trv-parameter-editor-datetime"]);try{var n=r.find("input[type=datetime]").kendoDatePicker({change:e=>{var r=t.parameterChanged;if(r){var n=e.sender.value();null!==n&&(n=f(n)),r(i,n)}}}),a=n.data("kendoDatePicker")}catch(e){throw console.error("Instantiation of Kendo DatePicker as DateTime parameter editor threw an exception",e),e}return{beginEdit:e=>{i=e,function(e){i.value=e;var t=null;try{e&&(t=v(e))}catch(e){t=null}a.value(t)}(e.value),le(n)},enable:e=>{a.enable(e),ae(n,e)},addAccessibility:e=>{oe(n,Z.ariaLabelParameterDateTime,e.text,null,e.Error),n.attr("aria-live","assertive")},setAccessibilityErrorState:e=>{ce(n,e.Error)},destroy:()=>{a.destroy()}}}},{match:ee.String,createEditor:(e,t)=>{var i,r=$(e);r.html(t.templates["trv-parameter-editor-text"]);var n=r.find('input[type="text"]').change((()=>{t.parameterChanged&&t.parameterChanged(i,n.val())}));return{beginEdit:e=>{var t;i=e,t=e.value,i.value=t,n.val(t),le(n)},enable:e=>{n.prop("disabled",!e),ae(n,e)},addAccessibility:e=>{oe(n,Z.ariaLabelParameterString,e.text,null,e.Error),n.attr("aria-live","assertive")},setAccessibilityErrorState:e=>{ce(n,e.Error)}}}},{match:ee.Number,createEditor:(e,t)=>{var i,r,n=$(e);n.html(t.templates["trv-parameter-editor-number"]);var a=n.find("input[type=number]").on("change",(()=>{t.parameterChanged&&t.parameterChanged(i,a.val())}));return{beginEdit:e=>{r&&r.dispose(),i=e,a.val(i.value),r=i.type===G.INTEGER?ie(a):re(a),le(a)},enable:e=>{a.prop("disabled",!e),ae(a,e)},addAccessibility:e=>{oe(a,Z.ariaLabelParameterNumerical,e.text,null,e.Error),a.attr("aria-live","assertive")},setAccessibilityErrorState:e=>{ce(a,e.Error)}}}},{match:ee.Boolean,createEditor:(e,t)=>{var i,r=$(e);r.html(t.templates["trv-parameter-editor-boolean"]);var n=r.find("input[type=checkbox]").on("change",(e=>{t.parameterChanged&&t.parameterChanged(i,e.currentTarget.checked)}));return{beginEdit:e=>{var t;i=e,t=e.value,i.value=t,n[0].checked=!0===t,le(n)},enable:e=>{ae(n,e),n.attr("disabled",!e)},addAccessibility:e=>{oe(n,Z.ariaLabelParameterBoolean,e.text,null,e.Error),n.attr("aria-live","assertive")},setAccessibilityErrorState:e=>{ce(n,e.Error)}}}},{match:ee.Default,createEditor:(e,t)=>{var i=$(e);return i.html('<div class="trv-parameter-editor-generic"></div>'),{beginEdit:e=>{i.find(".trv-parameter-editor-generic").text(e.Error?"(error)":e.value)},enable:e=>{}}}}],ue=function(){var e={};function t(e,t,i,r){var n=[].concat(t).map((t=>function(e,t,i){if(e.availableValues){if(!Array.from(e.availableValues).some((e=>i(t,e.value)))){if(e.allowNull&&!t)return t;throw Z.invalidParameter}}return t}(e,i(t),r)));if(e.multivalue){if(null==t||0==t.length){if(e.allowNull)return t;throw Z.invalidParameter}return n}return n[0]}function i(e,t){return e.allowNull&&-1!=[null,"",void 0].indexOf(t)}return e[G.STRING]={validate:(e,i)=>t(e,i,(t=>{if(!t){if(e.allowNull)return null;if(e.allowBlank)return"";throw Z.parameterIsEmpty}return t}),((e,t)=>e==t))},e[G.FLOAT]={validate:(e,r)=>t(e,r,(t=>{var r=a.tryParseFloat(t);if(isNaN(r)){if(i(e,t))return null;throw Z.parameterIsEmpty}return r}),((e,t)=>a.tryParseFloat(e)==a.tryParseFloat(t)))},e[G.INTEGER]={validate:(e,r)=>t(e,r,(t=>{var r=a.tryParseInt(t);if(isNaN(r)){if(i(e,t))return null;throw Z.parameterIsEmpty}return r}),((e,t)=>a.tryParseInt(e)==a.tryParseFloat(t)))},e[G.DATETIME]={validate:(e,i)=>t(e,i,(t=>{if(e.allowNull&&(null===t||""===t||void 0===t))return null;if(!isNaN(Date.parse(t)))return e.availableValues?t:a.parseToLocalDate(t);throw Z.invalidDateTimeValue}),((e,t)=>(e=a.parseToLocalDate(e),t=a.parseToLocalDate(t),e.getTime()==t.getTime())))},e[G.BOOLEAN]={validate:(e,r)=>t(e,r,(t=>{if(-1!=["true","false"].indexOf(String(t).toLowerCase()))return Boolean(t);if(i(e,t))return null;throw Z.parameterIsEmpty}),((e,t)=>Boolean(e)==Boolean(t)))},{validate:(t,i)=>{var r=e[t.type];if(!r)throw m(Z.cannotValidateType,t);return r.validate(t,i)}}}();function pe(e,t,i){var r,n=!!e.querySelectorAll&&e.querySelectorAll(".trv-menu-small")[0],a={small:{documentMapVisible:!1,parametersAreaVisible:!1,onDocumentMapVisibleChanged:(e,t)=>{t.visible&&i.setParametersAreaVisible({visible:!1})},onParameterAreaVisibleChanged:(e,t)=>{t.visible&&i.setDocumentMapVisible({visible:!1})},onBeforeLoadReport:()=>{i.setParametersAreaVisible({visible:!1}),i.setDocumentMapVisible({visible:!1})},onNavigateToPage:()=>{i.setParametersAreaVisible({visible:!1}),i.setDocumentMapVisible({visible:!1})}},large:{documentMapVisible:!0,parametersAreaVisible:!0}};function o(e){var t,i=p();if(i!==r){var n=a[r],o=a[i];r=i,e&&e.call(void 0,n,o),g((t=o).documentMapVisible),f(t.parametersAreaVisible)}}function s(e,t){u("onDocumentMapVisibleChanged",arguments)}function l(e,t){u("onParameterAreaVisibleChanged",arguments)}function c(){u("onNavigateToPage",arguments)}function h(){o(((e,t)=>{m(e)}))}function d(){o(null)}function u(e,t){var i=a[r],n=i[e];"function"==typeof n&&n.apply(i,t)}function p(){var e=$(window).width()/parseFloat($("body").css("font-size"));return n&&e<=40.5?"small":"large"}function m(e){e.documentMapVisible=g(),e.parametersAreaVisible=f()}function g(){if(0===arguments.length){var e={};return i.getDocumentMapState(e),e.visible}return i.setDocumentMapVisible({visible:Boolean(arguments[0])}),this}function f(){if(0===arguments.length){var e={};return i.getParametersAreaState(e),e.visible}return i.setParametersAreaVisible({visible:Boolean(arguments[0])}),this}return r=p(),m(a.large),{attach:function(){window.addEventListener("resize",h),t.onAsync("beforeLoadReport",(async()=>function(){u("onBeforeLoadReport",arguments)}())).on("navigateToPage",c).onAsync("reportLoadComplete",(async()=>function(){u("onReportLoadComplete",arguments)}())),i.setDocumentMapVisible(s),i.setParametersAreaVisible(l),i.cssLoaded(d)},dispose:function(){window.removeEventListener("resize",h)}}}function me(e){var t={ExportInProgress:1,PrintInProgress:2,RenderInProgress:4};function i(e){return!!(c&e)}function r(e,t){t?c|=e:c&=~e}var n,o=e.controller,s=e.notificationService,l=e.history,c=0,h=e.commands;if(!o)throw"No controller (telerikReporting.ReportViewerController) has been specified.";if(!s)throw"No notificationService (telerikReporting.NotificationService) has been specified.";function d(){n||(n=!0,window.setTimeout((()=>{try{e=o.getReportSource(),r=o.getPageCount(),c=o.getCurrentPageNumber(),d=e&&e.report,p=(u=d&&r>0)&&c<r,m=u&&c>1,g=u&&c,y={},s.getDocumentMapState(y),f=y,v=function(){var e={};return s.getParametersAreaState(e),e}(),b=function(){var e={};return s.getSendEmailDialogState(e),e}(),P=o.getSearchInitiated(),E=o.getAiPromptInitiated(),S=i(t.RenderInProgress),w=i(t.PrintInProgress),C=i(t.ExportInProgress),h.goToFirstPage.setEnabled(m),h.goToPrevPage.setEnabled(m),h.stopRendering.setEnabled(d&&S),h.goToLastPage.setEnabled(p),h.goToNextPage.setEnabled(p),h.goToPage.setEnabled(u),h.print.setEnabled(u&&!S&&!w),h.export.setEnabled(u&&!S&&!C),h.refresh.setEnabled(d),h.historyBack.setEnabled(l&&l.canMoveBack()),h.historyForward.setEnabled(l&&l.canMoveForward()),h.toggleDocumentMap.setEnabled(d&&f.enabled),h.toggleDocumentMap.setChecked(f.enabled&&f.visible),h.toggleParametersArea.setEnabled(d&&v.enabled),h.toggleParametersArea.setChecked(v.enabled&&v.visible),h.togglePrintPreview.setEnabled(u).setChecked(o.getViewMode()==a.ViewMode.PrintPreview),h.pageMode.setEnabled(u).setChecked(o.getPageMode()==a.PageMode.ContinuousScroll),h.zoom.setEnabled(g),h.zoomIn.setEnabled(g),h.zoomOut.setEnabled(g),h.toggleZoomMode.setEnabled(g).setChecked(o.getScaleMode()==a.ScaleMode.FitPage||o.getScaleMode()==a.ScaleMode.FitPageWidth),h.toggleSearchDialog.setEnabled(u).setChecked(P),h.toggleSendEmailDialog.setEnabled(u).setChecked(b.visible),h.toggleAiPromptDialog.setEnabled(u&&!S).setChecked(E),s.updateUI(null),s.pageNumberChange(c),s.pageCountChange(r)}finally{n=!1}var e,r,c,d,u,p,m,g,f,v,b,P,E,S,w,C,y}),10))}s.setParametersAreaVisible(d),s.setDocumentMapVisible(d),s.updateUIInternal(d),s.setSearchDialogVisible(d),s.setSendEmailDialogVisible(d),o.on("scaleModeChanged",(e=>{h.toggleZoomMode.setChecked(e==a.ScaleMode.FitPage||e===a.ScaleMode.FitPageWidth)})).on("currentPageChanged",d).onAsync("beforeLoadReport",(async()=>{r(t.RenderInProgress,!0),d()})).on("reportLoadProgress",d).onAsync("reportLoadComplete",(async()=>{r(t.RenderInProgress,!1),d()})).on("reportSourceChanged",d).on("viewModeChanged",d).on("pageModeChanged",d).on("setUIState",(e=>{r(t[e.operationName],e.inProgress),d()})).on("error",(()=>{r(t.ExportInProgress,!1),r(t.PrintInProgress,!1),r(t.RenderInProgress,!1),d()})).on("renderingStopped",(()=>{r(t.RenderInProgress,!1),d()})),d()}var ge={};class fe extends EventTarget{_events;_eventsCount;constructor(){super(),this._events={},this._eventsCount=0}addListener(e,t){if("function"!=typeof t)throw new TypeError("listener must be a function");function i(e){t.call(this,e,...e.detail)}return this._events[e]||(this._events[e]=[]),i.listener=t,this._events[e].push(i),this._eventsCount++,this.addEventListener(e,i.bind(this)),this}on(e,t){return this.addListener(e,t)}trigger(e,...t){if(!this._events[e])return;const i=new CustomEvent(e,{detail:t,cancelable:!0});return this.dispatchEvent(i)}emit(e,...t){return this.trigger(e,...t)}removeListener(e,t){return this._events[e]?(this._events[e]=this._events[e].filter((i=>i.listener!==t||(this.removeEventListener(e,i),!1))),0===this._events[e].length&&(delete this._events[e],this._eventsCount--),this):this}removeAllListeners(e){return void 0===e?(Object.keys(this._events).forEach((e=>{this.removeAllListeners(e)})),this):(this._events[e]&&(this._events[e].forEach((t=>{this.removeEventListener(e,t)})),delete this._events[e],this._eventsCount--),this)}off(e,t){return void 0===e?this.removeAllListeners():void 0===t?this.removeAllListeners(e):this.removeListener(e,t)}}var ve={},be="pa.parametersReady",Pe="pa.Error";class Ee{options;viewerOptions;element;$element;eventEmitter;controller;notificationService;parameters;editors;parameterEditors;initialParameterValues;recentParameterValues;processedParameterValues;_parametersContainer;_parametersWrapper;$errorMessage;$previewButton;parameterContainerTemplate;parametersAreaVisible;parametersAreaNecessary;enableAccessibility;loadingCount;initialized;constructor(e,t,i){if(this.options=$.extend({},ve,t,i),this.element=e,this.eventEmitter=new fe,this.editors={},this.controller=this.options.controller,!this.controller)throw"No controller (telerikReporting.reportViewerController) has been specified.";if(this.notificationService=t.notificationService,!this.notificationService)throw"No notificationService (telerikReporting.NotificationService) has been specified.";this.parameterEditors=de,this.options.parameterEditors&&this.options.parameterEditors.length>0&&(this.parameterEditors=[].concat(this.options.parameterEditors,de)),this.recentParameterValues,this.parameters,this.initialParameterValues,this.processedParameterValues=void 0,this.$element=$(this.element),this._parametersContainer=this.element?.querySelector(".trv-parameters-area-content"),this._parametersWrapper=this.element?.querySelector(".trv-parameters-wrapper"),this.$errorMessage=this.$element.find(".trv-error-message"),this.$previewButton=this.$element.find(".trv-parameters-area-preview-button"),this.$previewButton.text(Z[this.$previewButton.text()]),this.$previewButton.attr("aria-label",Z[this.$previewButton.attr("aria-label")]),this.$previewButton.on("click",(e=>{e.preventDefault(),this.allParametersValid()&&this.applyParameters()})),this.parameterContainerTemplate=this.options.templates["trv-parameter"],this.parametersAreaVisible=!1!==this.options.parametersAreaVisible,this.enableAccessibility=this.options.enableAccessibility,this.loadingCount=0,this.parametersAreaNecessary=!1,this.initialized=!1,this.init()}init(){this.initialized||(this._attachEvents(),this.replaceStringResources(this.$element))}replaceStringResources(e){var t=e.find(".trv-parameters-area-preview-button");t&&(t.attr("aria-label",Z[t.attr("aria-label")]),t.text(Z[t.text()]))}toggleElementDisplay(e,t){e.style.display=t?"none":""}createParameterContainer(){return $(this.parameterContainerTemplate)}createParameterUI(e){var t=this.createParameterContainer(),i=t.find(".trv-parameter-value"),r=t.find(".trv-parameter-title"),n=t.find(".trv-parameter-error"),a=t.find(".trv-parameter-error-message"),o=t.find(".trv-parameter-use-default input"),s=this.options.parameters&&this.options.parameters.editors?this.options.parameters.editors:null,l=this.selectParameterEditorFactory(e,s),c=g(e.text),h=!e.isVisible;h&&(c+=" [<b>hidden</b>]"),r.html(c).attr("title",c),a.text(e.Error),(e.Error?$.fn.show:$.fn.hide).call(n);var d=l.createEditor(i,{templates:this.options.templates,parameterChanged:(e,t)=>{var i=document.querySelector(".trv-pages-area .trv-error-message ul li."+e.name);try{t=ue.validate(e,t),n.hide(),i&&this.toggleElementDisplay(i,!0),this.onParameterChanged(e,t)}catch(t){i&&this.toggleElementDisplay(i,!1),e.Error=t,e.value=[],a.text(t),n.show(),this.enablePreviewButton(!1)}finally{this.setAccessibilityErrorState(e)}},enableAccessibility:this.enableAccessibility});(this.editors[e.id]=d,d.beginEdit(e),this.enableAccessibility&&!h&&d.addAccessibility(e),o.length>0)&&(o.on("click",(t=>{var i=$(t.currentTarget).is(":checked");i?(delete this.recentParameterValues[e.id],delete this.initialParameterValues[e.id],this.invalidateChildParameters(e),this.updateParameters(this.onLoadParametersSuccess.bind(this))):(this.recentParameterValues[e.id]=e.value,this.initialParameterValues[e.id]=e.value),d.enable(!i),this.trigger(be,this.recentParameterValues)})),null!==this.initialParameterValues?e.id in this.initialParameterValues||(o.prop("checked",!0),d.enable(!1)):h&&(o.prop("checked",!0),d.enable(!1)));return t}setAccessibilityErrorState(e){var t=this.editors[e.id];t&&this.enableAccessibility&&t.setAccessibilityErrorState(e)}enablePreviewButton(e){e?(this.$previewButton.prop("disabled",!1),this.$previewButton.removeClass("k-disabled")):(this.$previewButton.prop("disabled",!0),this.$previewButton.addClass("k-disabled"))}selectParameterEditorFactory(e,t){return Array.from(this.parameterEditors).find((i=>i.match(e,t)))}showError(e){this.$errorMessage.text(e),(e?$.fn.addClass:$.fn.removeClass).call(this.$element,"trv-error")}showPreviewButton(e){(this.allParametersAutoRefresh(e)&&this.controller.autoRunEnabled?$.fn.removeClass:$.fn.addClass).call(this.$element,"preview")}allParametersAutoRefresh(e){return!e||Array.from(e).every((e=>!e.isVisible||e.autoRefresh))}allParametersValid(){return Array.from(this.parameters).every((e=>!e.Error))}clearEditors(){Object.entries(this.editors).forEach((([e,t])=>{"function"==typeof t.destroy&&t.destroy()})),this.editors={}}fill(e){var t;this.recentParameterValues={},this.processedParameterValues={},this.parameters=e||[],this.clearEditors();var i=$("<div></div>");Array.from(this.parameters).forEach((e=>{try{e.value=ue.validate(e,e.value)}catch(t){e.Error=e.Error||t}!Boolean(e.Error)?this.recentParameterValues[e.id]=e.value:e.Error=Z.invalidParameter,e.availableValues?this.processedParameterValues[e.id]={valueMember:e.value,displayMember:e.label,availableValues:e.availableValues,multivalue:e.multivalue}:this.processedParameterValues[e.id]=e.value,(e.isVisible||this.options.showHiddenParameters)&&(t=this.createParameterUI(e))&&i.append(t)})),void 0!==this.initialParameterValues&&(null===this.initialParameterValues?(this.initialParameterValues={},Array.from(this.parameters).forEach((e=>{e.isVisible?this.initialParameterValues[e.id]=e.value:delete this.recentParameterValues[e.id]}))):Array.from(this.parameters).forEach((e=>{e.id in this.initialParameterValues||delete this.recentParameterValues[e.id]}))),this._parametersWrapper&&(kendo.destroy(this._parametersWrapper),this._parametersWrapper.innerHTML="",this.parameters.length>0&&(this._parametersWrapper.append(...i.children().get()),this.enableAccessibility&&this._parametersWrapper.setAttribute("aria-label","Parameters area. Contains "+this.parameters.length+" parameters."))),this.showPreviewButton(this.parameters);var r=this.allParametersValid();this.enablePreviewButton(r),this.applyProcessedParameters()}applyParameters(){this.controller.setParameters($.extend({},this.recentParameterValues)),this.controller.previewReport(!1)}applyProcessedParameters(){this.controller.setProcessedParameterValues($.extend({},this.processedParameterValues))}allParametersValidForAutoRefresh(){for(var e=!0,t=this.parameters.length-1;e&&t>=0;t--){var i=this.parameters[t];e=i.id in this.recentParameterValues&&(Boolean(i.autoRefresh)||!i.isVisible)}return e}tryRefreshReport(){this.trigger(be,this.recentParameterValues),this.allParametersValidForAutoRefresh()&&this.controller.autoRunEnabled&&this.applyParameters()}invalidateChildParameters(e){e.childParameters&&Array.from(e.childParameters).forEach((e=>{var t=this.getParameterById(e);t&&this.invalidateChildParameters(t),delete this.recentParameterValues[e],this.resetPendingParameterChange(e)}))}resetPendingParameterChange(e){if(this.editors){var t=this.editors[e];t&&"function"==typeof t.clearPendingChange&&t.clearPendingChange()}}onParameterChanged(e,t){if(delete e.Error,e.value=t,this.recentParameterValues[e.id]=t,void 0!==this.initialParameterValues?e.id in this.initialParameterValues&&(this.recentParameterValues[e.id]=t):this.recentParameterValues[e.id]=t,this.invalidateChildParameters(e),e.childParameters)this.updateParameters(this.tryRefreshReport.bind(this));else{var i=this.allParametersValid();if(this.enablePreviewButton(i),i){var r=document.querySelector(".trv-pages-area .trv-error-message");this.$previewButton.is(":visible")&&r&&(r.textContent=Z.tryReportPreview),this.tryRefreshReport()}}}getParameterById(e){if(this.parameters)for(var t=0;t<this.parameters.length;t++){var i=this.parameters[t];if(i.id===e)return i}return null}setParametersAreaVisibility(e){this.controller.setParametersAreaVisible({visible:e})}hasVisibleParameters(e){return(e||[]).some((e=>e.isVisible))}beginLoad(){this.loadingCount++,this.$element.addClass("trv-loading")}endLoad(){this.loadingCount>0&&0==--this.loadingCount&&this.$element.removeClass("trv-loading")}onLoadParametersComplete(e,t){this.showParametersAreaIfNecessary(e),this.fill(e),this.showError(""),this.parametersAreaNecessary&&this.parametersAreaVisible&&(this.showParametersArea(!0),this.enableAccessibility&&this.setSplitbarAccessibilityAttributes()),this.notificationService.updateUIInternal(),"function"==typeof t&&t(),this.endLoad()}showParametersAreaIfNecessary(e){this.parametersAreaNecessary=this.hasVisibleParameters(e)||!this.controller.autoRunEnabled,this.showParametersArea(this.parametersAreaVisible&&this.parametersAreaNecessary)}updateParameters(e){this.acceptParameters(this.controller.loadParameters(this.recentParameterValues),e)}acceptParameters(e,t){this.beginLoad(),e.then((e=>{this.onLoadParametersComplete(e,t)})).catch((e=>{this.endLoad(),this.clear(),this.$element.hasClass("k-hidden")||this.showError(e),this.trigger(Pe,e)}))}onLoadParametersSuccess(){null===this.initialParameterValues&&(this.initialParameterValues=$.extend({},this.recentParameterValues)),this.trigger(be,this.recentParameterValues)}showParametersArea(e){var t=$("#"+this.options.viewerSelector+"-parameters-splitter").getKendoSplitter();if(t){var i=this.$element.prev(".k-splitbar");this.options.parametersAreaPosition!==q.TOP&&this.options.parametersAreaPosition!==q.LEFT||(i=this.$element.next(".k-splitbar")),(this.parametersAreaNecessary?$.fn.removeClass:$.fn.addClass).call(i,"k-hidden"),t.toggle(".trv-parameters-area",e)}}setSplitbarAccessibilityAttributes(){var e=this.$element.prev(),t=this.$element.find(".trv-parameters-area-content").attr("tabIndex");this.options.parametersAreaPosition!==q.TOP&&this.options.parametersAreaPosition!==q.LEFT||(e=this.$element.next()),e.attr("aria-label",Z.ariaLabelParametersAreaSplitter),e.attr("tabIndex",t)}_attachEvents(){this.controller.on("reloadParameters",(e=>{this.showError(),this._parametersWrapper&&(kendo.destroy(this._parametersWrapper),this._parametersWrapper.innerHTML=""),this.acceptParameters(e,this.onLoadParametersSuccess.bind(this))})).onAsync("beforeLoadReport",(async()=>{this.loadingCount=0,this.beginLoad()})).onAsync("reportLoadComplete",(async e=>{this.showParametersAreaIfNecessary(this.parameters),this.showPreviewButton(this.parameters)})).on("error",(()=>this.endLoad())).on("pageReady",(()=>this.endLoad())),this.notificationService.getParametersAreaState(((e,t)=>{var i=!1;this.parameters&&(i=this.hasVisibleParameters(this.parameters)||!this.controller.autoRunEnabled),t.enabled=i,t.visible=this.parametersAreaVisible})).setParametersAreaVisible(((e,t)=>{this.parametersAreaVisible=t.visible,this.showParametersArea(t.visible&&(this.hasVisibleParameters(this.parameters)||!this.controller.autoRunEnabled))}))}clear(){this.fill([])}setParameters(e){this.initialParameterValues=null===e?null:$.extend({},e)}on(e,t){return this.eventEmitter.on(e,t),this}trigger(e,...t){return this.eventEmitter.trigger(e,...t)}}class Se{element;$element;options;constructor(e,t={}){this.element=e,this.$element=$(e),this.options=t,Object.defineProperty(this.element,"__COMPONENT__",{get:()=>this})}}var we={};const Ce={button:class extends Se{icon;click;component;constructor(e,t){super(e,t),this.options.icon=e.dataset.icon,this.options.fillMode=e.dataset.fillMode,this.component=new kendo.ui.Button(e,this.options),this._initCommand()}_initCommand(){if(!this.options.command)return;const e=this.options.command;this.component.setOptions({click:t=>{t.preventDefault(),e.exec()}}),$(e).on("enabledChanged",((e,t)=>{this.component.enable(t)}))}},"toggle-button":class extends Se{icon;click;component;constructor(e,t){super(e,t),this.options.icon=e.dataset.icon,this.options.fillMode=e.dataset.fillMode,this.component=new kendo.ui.Button(e,this.options),this._initCommand()}_initCommand(){if(!this.options.command)return;const e=this.options.command;this.component.setOptions({click:t=>{t.preventDefault(),e.setChecked(!e.getChecked())}}),$(e).on("enabledChanged",((e,t)=>{this.component.enable(t)})),$(e).on("checkedChanged",((e,t)=>{t?this.component.element.addClass("k-selected"):this.component.element.removeClass("k-selected")}))}}};function ye(e){Ae(e,"title"),Ae(e,"aria-label")}function Ae(e,t){e&&e.attr(t,Z[e.attr(t)])}var Te={};function Ie(e){if(e){var t=e.find(".trv-replace-string"),i=e.find("[aria-label]").add(e),r=e.find("[title]"),n=e.find("[data-required-msg]"),a=e.find("[data-email-msg]");t.length&&Array.from(t).forEach((e=>{var t;(t=$(e))&&t.text(Z[t.text()])})),i.length&&Array.from(i).forEach((e=>{Re($(e),"aria-label")})),r.length&&Array.from(r).forEach((e=>{Re($(e),"title")})),n.length&&Array.from(n).forEach((e=>{Re($(e),"data-required-msg")})),a.length&&Array.from(a).forEach((e=>{Re($(e),"data-email-msg")}))}}function Re(e,t){e&&e.attr(t,Z[e.attr(t)])}class _e{_events;constructor(){this._events={}}resolveEvent(e){var t=this._events[e];return t||(this._events[e]=t=new Me(e)),t}on(e,t){this.resolveEvent(e).on(t)}trigger(e,t){this.resolveEvent(e).trigger(t)}}class Me{_callbacks;_eventName;constructor(e){this._callbacks=[],this._eventName=e}on(e){this._callbacks.push(e)}trigger(e){const t=this._eventName;this._callbacks.forEach((function(i){i.apply(null,[t,...e])}))}}class De{_eventEmitter;constructor(){this._eventEmitter=new _e}eventFactory(e,t){var i=function(e){var t;return e&&e.length&&(t=e[0]),"function"==typeof t?t:null}(t);return i?this._eventEmitter.on(e,i):this._eventEmitter.trigger(e,t),this}Events={GET_DOCUMENT_MAP_STATE:"trv.GET_DOCUMENT_MAP_STATE",SET_DOCUMENT_MAP_VISIBLE:"trv.SET_DOCUMENT_MAP_VISIBLE",GET_PARAMETER_AREA_STATE:"trv.GET_PARAMETER_AREA_STATE",SET_PARAMETER_AREA_VISIBLE:"trv.SET_PARAMETER_AREA_VISIBLE",SET_TOGGLE_SIDE_MENU:"trv.SET_TOGGLE_SIDE_MENU",GET_TOGGLE_SIDE_MENU:"trv.GET_TOGGLE_SIDE_MENU",UPDATE_UI:"trv.UPDATE_UI",CSS_LOADED:"trv.CSS_LOADED",UPDATE_UI_INTERNAL:"trv.UPDATE_UI_INTERNAL",PAGE_NUMBER:"trv.PAGE_NUMBER",PAGE_COUNT:"trv.PAGE_COUNT",GET_SEARCH_DIALOG_STATE:"trv.GET_SEARCH_DIALOG_STATE",GET_SEND_EMAIL_DIALOG_STATE:"trv.GET_SEND_EMAIL_DIALOG_STATE",SET_SEARCH_DIALOG_VISIBLE:"trv.SET_SEARCH_DIALOG_VISIBLE",SET_SEND_EMAIL_DIALOG_VISIBLE:"trv.SET_SEND_EMAIL_DIALOG_VISIBLE",SET_AI_PROMPT_DIALOG_VISIBLE:"trv.SET_AI_PROMPT_DIALOG_VISIBLE"};on(){const e=this._eventEmitter;e.on.apply(e,arguments)}getDocumentMapState(){return this.eventFactory(this.Events.GET_DOCUMENT_MAP_STATE,arguments)}setDocumentMapVisible(){return this.eventFactory(this.Events.SET_DOCUMENT_MAP_VISIBLE,arguments)}getParametersAreaState(){return this.eventFactory(this.Events.GET_PARAMETER_AREA_STATE,arguments)}setParametersAreaVisible(){return this.eventFactory(this.Events.SET_PARAMETER_AREA_VISIBLE,arguments)}cssLoaded(){return this.eventFactory(this.Events.CSS_LOADED,arguments)}updateUI(){return this.eventFactory(this.Events.UPDATE_UI,arguments)}updateUIInternal(){return this.eventFactory(this.Events.UPDATE_UI_INTERNAL,arguments)}pageNumberChange(){return this.eventFactory(this.Events.PAGE_NUMBER,arguments)}pageCountChange(){return this.eventFactory(this.Events.PAGE_COUNT,arguments)}getSendEmailDialogState(){return this.eventFactory(this.Events.GET_SEND_EMAIL_DIALOG_STATE,arguments)}setSearchDialogVisible(){return this.eventFactory(this.Events.SET_SEARCH_DIALOG_VISIBLE,arguments)}setSendEmailDialogVisible(){return this.eventFactory(this.Events.SET_SEND_EMAIL_DIALOG_VISIBLE,arguments)}setAiPromptDialogVisible(){return this.eventFactory(this.Events.SET_AI_PROMPT_DIALOG_VISIBLE,arguments)}}class Le{_data={};get length(){return Object.keys(this._data).length}constructor(){this._data={}}getItem(e){return this._data[e]||null}setItem(e,t){this._data[e]=t}removeItem(e){delete this._data[e]}key(e){return Object.keys(this._data)[e]||null}clear(){this._data={}}}const ke=(Ne={},{load:(e,t,i)=>{var r=Ne[e];return r||(Ne[e]=r=i.get(e).then((e=>{var i={},r=[],n=p(t,"\\/")+"/";e=d(e,"{service}/",n),e=d(e,"{service}",n);var a=$("<div></div>").html(e);return Array.from(a.find("template")).forEach((e=>{var t=$(e);i[t.attr("id")]=h(t.html(),"\n \t")})),Array.from(a.find("link")).forEach((e=>{r.push(h(e.outerHTML,"\n \t"))})),r=y(r),{templates:i,styleSheets:r}}))),r}});var Ne;class xe{_id;_storage;_defaults;constructor(e,t,i){this._id=e,this._storage=t,this._defaults=i||{}}formatKey(e){return this._id+"_"+e}getItem(e){var t=this._storage.getItem(this.formatKey(e));if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=null}return null!=t?t:this._defaults[e]}setItem(e,t){var i=this.formatKey(e);this._storage.setItem(i,JSON.stringify(t))}getViewMode(){return this.getItem("viewMode")}setViewMode(e){this.setItem("viewMode",e)}getPageMode(){return this.getItem("pageMode")}setPageMode(e){this.setItem("pageMode",e)}getPrintMode(){return this.getItem("printMode")}setPrintMode(e){this.setItem("printMode",e)}getScale(){return this.getItem("scale")}setScale(e){this.setItem("scale",e)}getScaleMode(){return this.getItem("scaleMode")}setScaleMode(e){this.setItem("scaleMode",e)}getDocumentMapVisible(){return this.getItem("documentMapVisible")}setDocumentMapVisible(e){this.setItem("documentMapVisible",e)}getParametersAreaVisible(){return this.getItem("parametersAreaVisible")}setParametersAreaVisible(e){this.setItem("parametersAreaVisible",e)}getHistory(){return this.getItem("history")}setHistory(e){this.setItem("history",e)}getClientId(){return this.getItem("clientId")}setClientId(e){this.setItem("clientId",e)}getReportSource(){return this.getItem("reportSource")}setReportSource(e){this.setItem("reportSource",e)}getPageNumber(){return this.getItem("pageNumber")}setPageNumber(e){this.setItem("pageNumber",e)}getEnableAccessibility(){return this.getItem("enableAccessibility")}setEnableAccessibility(e){this.setItem("enableAccessibility",e)}getAccessibilityKeyMap(){return this.getItem("accessibilityKeyMap")}setAccessibilityKeyMap(e){this.setItem("accessibilityKeyMap",e)}getSearchMetadataOnDemand(){return this.getItem("searchMetadataOnDemand")}setSearchMetadataOnDemand(e){this.setItem("searchMetadataOnDemand",e)}getKeepClientAlive(){return this.getItem("keepClientAlive")}setKeepClientAlive(e){this.setItem("keepClientAlive",e)}}class Ve extends Se{cmd;_numeric;constructor(e,t){super(e,t),this.cmd=this.options.commands.goToPage,this._numeric=new kendo.ui.NumericTextBox(this.element,{format:"0",decimals:0,min:0,spinners:!1,change:this._onChange.bind(this),spin:this._onChange.bind(this)}),this._numeric._text[0].dataset.role="telerik_ReportViewer_PageNumberInput",this._numeric.element[0].dataset.role="",this._numeric.wrapper[0].classList.add("trv-toolbar-numeric"),this._numeric._text[0].setAttribute("aria-label",Z.ariaLabelPageNumberEditor),this.options.controller.onAsync("reportLoadComplete",(async e=>{this._numeric.max(e.pageCount),this._numeric.min(Math.min(1,e.pageCount)),this._numeric.value(Math.min(1,e.pageCount))})).on("loadedReportChange",(()=>{this._numeric.min(0),this._numeric.max(0),this._numeric.value(0)})).on("renderingStopped",(()=>{this._numeric.min(0),this._numeric.max(0),this._numeric.value(0)})),this.options.notificationService.pageNumberChange(((e,t)=>{var i=t,r=this.options.controller.getPageCount();this.element.parentElement.setAttribute("aria-label",m(Z.ariaLabelPageNumberSelector,[i,r])),this._numeric.value(t)}))}_onChange(e,t){var i=this._numeric.value(),r=a.tryParseInt(i);isNaN(r)||this.cmd.exec(r)}_onSpin(e,t){return this._onChange(e,t)}}class Oe extends Se{constructor(e,t){super(e,t),t.notificationService.pageCountChange(((e,t)=>{this.$element.text(t)}))}}function $e(e,t){var i,r;function n(e,i){var r=t[e];"function"==typeof r&&r(i)}!function(e){if("function"==typeof $.fn.kendoTouch)try{$(e).on("mousedown",(()=>{r=!0})).on("mouseup",(()=>{r=!1})).kendoTouch({multiTouch:!0,enableSwipe:!0,swipe:e=>{r||function(e){n("swipe",e)}(e)},gesturestart:e=>{r||function(e){i=kendo.touchDelta(e.touches[0],e.touches[1]).distance}(e)},gestureend:e=>{},gesturechange:e=>{r||function(e){var t=kendo.touchDelta(e.touches[0],e.touches[1]).distance;(function(e){n("pinch",e)})({distance:t,lastDistance:i}),i=t}(e)},doubletap:e=>{r||function(e){n("doubletap",e)}(e)},touchstart:e=>{r||n("touchstart")}})}catch(e){throw console.error("Instantiation of Kendo Touch threw an exception",e),e}}(e)}const Fe="title",Be="aria-label",Ue="data-command",ze="data-command-parameter",He="export-dropdown",Ge='[data-role="telerik_ReportViewer_PageNumberInput"]',We='[data-role="telerik_ReportViewer_PageCountLabel"]',qe="button",je="buttonGroup",Ke="toggle-button",Ye="dropDownButton",Xe="menu-button",Je="separator",Ze="custom-element";var Qe={};function et(e){if(e){var t=e.find(".trv-replace-string"),i=e.find("[aria-label]").add(e),r=e.find("[title]");t.length&&Array.from(t).forEach((e=>{var t;(t=$(e))&&t.text(Z[t.text()])})),i.length&&Array.from(i).forEach((e=>{tt($(e),"aria-label")})),r.length&&Array.from(r).forEach((e=>{tt($(e),"title")}))}}function tt(e,t){e&&e.attr(t,Z[e.attr(t)])}var it,rt={[a.ViewMode.Interactive]:B.INTERACTIVE,[a.ViewMode.PrintPreview]:B.PRINT_PREVIEW},nt={[B.INTERACTIVE]:a.ViewMode.Interactive,[B.PRINT_PREVIEW]:a.ViewMode.PrintPreview},at={[a.PageMode.SinglePage]:z.SINGLE_PAGE,[a.PageMode.ContinuousScroll]:z.CONTINUOUS_SCROLL},ot={[z.SINGLE_PAGE]:a.PageMode.SinglePage,[z.CONTINUOUS_SCROLL]:a.PageMode.ContinuousScroll},st={[a.ScaleMode.FitPageWidth]:H.FIT_PAGE_WIDTH,[a.ScaleMode.FitPage]:H.FIT_PAGE,[a.ScaleMode.Specific]:H.SPECIFIC},lt={[H.FIT_PAGE_WIDTH]:a.ScaleMode.FitPageWidth,[H.FIT_PAGE]:a.ScaleMode.FitPage,[H.SPECIFIC]:a.ScaleMode.Specific},ct={[a.PrintMode.AutoSelect]:U.AUTO_SELECT,[a.PrintMode.ForcePDFPlugin]:U.FORCE_PDF_PLUGIN,[a.PrintMode.ForcePDFFile]:U.FORCE_PDF_FILE},ht={[U.AUTO_SELECT]:a.PrintMode.AutoSelect,[U.FORCE_PDF_PLUGIN]:a.PrintMode.ForcePDFPlugin,[U.FORCE_PDF_FILE]:a.PrintMode.ForcePDFFile},dt=(it={},Object.keys(Z).forEach((e=>{let t=e.charAt(0).toUpperCase();it[`ReportViewer_${t}${e.slice(1)}`]=Z[e]})),it);function ut(e,t){var i=t.serviceUrl,r="";t.reportServer&&(r=p(t.reportServer.url,"\\/"),i=r+"/api/reports");var n,o,s,l,h=$(e),d={},u=t.id||"#"+h.attr("id"),f={},v={},b={},P={},S={},w={},C="";if(t.viewerSelector="reportViewer-"+c(),h.attr("data-selector",t.viewerSelector),function(e){if(!e)return h.text("The report viewer configuration options are not initialized."),!1;if(e.reportServer){if(!e.reportServer.url)return h.text("The report server URL is not specified."),!1}else if(!e.serviceUrl)return h.text("The serviceUrl is not specified."),!1;return!0}(t)){var y,T="19.2.25.1001";if(t=$.extend({},function(e,t){return{id:null,serviceUrl:null,templateUrl:p(e,"\\/")+"/resources/templates/telerikReportViewerTemplate-"+t+".html/",reportSource:null,reportServer:null,authenticationToken:null,sendEmail:null,scale:1,scaleMode:H.SPECIFIC,viewMode:B.INTERACTIVE,pageMode:z.CONTINUOUS_SCROLL,parametersAreaPosition:q.RIGHT,documentMapAreaPosition:j.LEFT,parameters:{editors:{multiSelect:W.LIST_VIEW,singleSelect:W.LIST_VIEW}},persistSession:!1,parameterEditors:[],disabledButtonClass:null,checkedButtonClass:null,parametersAreaVisible:!0,documentMapVisible:!0,enableAccessibility:!1,searchMetadataOnDemand:!1,initialPageAreaImageUrl:null,keepClientAlive:!0,webDesignerPreview:!1,serverPreview:!1}}(i,T),t),f=new xe(u,t.persistSession?window.sessionStorage:new Le,{scale:t.scale,scaleMode:t.scaleMode,printMode:t.printMode?t.printMode:t.directPrint,enableAccessibility:t.enableAccessibility,searchMetadataOnDemand:t.searchMetadataOnDemand,sendEmail:t.sendEmail,parametersAreaPosition:t.parametersAreaPosition,documentMapAreaPosition:t.documentMapAreaPosition,keepClientAlive:t.keepClientAlive,webDesignerPreview:t.webDesignerPreview,serverPreview:t.serverPreview}),v=new De,t.reportServer){var I=(C=p(t.reportServer.url,"\\/"))+"/api/reports",R=C+"/Token",_=new a.ServiceClientLoginInfo(R,t.reportServer.username,t.reportServer.password);w=new a.ServiceClientOptions(I,_)}else w=new a.ServiceClientOptions(t.serviceUrl);if(o=new a.ServiceClient(w),l=new Y({controller:b=new a.ReportController(o,new a.ReportControllerOptions(t.keepClientAlive,t.authenticationToken,t.reportSource,ht[t.printMode],ot[t.pageMode],nt[t.viewMode],lt[t.scaleMode],t.scale,dt,t.enableAccessibility,t.searchMetadataOnDemand)),settings:f}),P=new F({controller:b,notificationService:v,history:l}),new me({controller:b,notificationService:v,history:l,commands:P}),S={stringResources:Z,refreshReport:e=>(0===arguments.length&&(e=!0),b.refreshReport(e,"",!0),S),reportSource:e=>e||null===e?(b.setReportSource(e),b.refreshReport(!1,"",!0),S):b.getReportSource(),clearReportSource:()=>(b.setReportSource(new a.ReportSourceOptions),S),viewMode:e=>e?(b.setViewMode(nt[e]),S):rt[b.getViewMode()],pageMode:e=>e?(b.setPageMode(ot[e]),S):at[b.getPageMode()],printMode:e=>e?(b.setPrintMode(ht[e]),S):ct[b.getPrintMode()],scale:e=>e?(b.setScale(e.scale),b.setScaleMode(lt[e.scaleMode]),S):{scale:b.getScale(),scaleMode:st[b.getScaleMode()]},currentPage:()=>b.getCurrentPageNumber(),pageCount:()=>b.getPageCount(),parametersAreaVisible:e=>{v.setParametersAreaVisible({visible:e})},getReportParameters:()=>b.getReportParameters(),isReportAutoRun:()=>b.autoRunEnabled,authenticationToken:e=>(e&&b.setAuthenticationToken(e),S),bind:(e,t)=>{M(e,t,!0)},unbind:(e,t)=>{M(e,t,!1)},accessibilityKeyMap:e=>{if(n)return e?(n.setKeyMap(e),S):n.getKeyMap()},commands:P,dispose:()=>{V(),b.disposeSentinel(),b.destroy(),s&&s.dispose()}},!window.Promise)throw"The current browser does not support the Promise feature which is required for using the Report Viewer.";return function(e){if(window.kendo)return Promise.resolve();var t=p(i,"\\/")+"/resources/js/telerikReportViewer.kendo-"+e+".min.js/";return fetch(t).then((e=>e.ok?e.text():Promise.reject({error:"Failed to fetch data - status code "+e.status}))).then((e=>{const t=document.createElement("script");t.textContent=e,document.head.appendChild(t)})).catch((e=>{A("Kendo could not be loaded automatically. Make sure 'options.serviceUrl' / 'options.reportServer.url' is correct and accessible. The error is: "+e.error)}))}(y=T).then((()=>{S.authenticationToken(t.authenticationToken),b.getServiceConfiguration().catch((e=>{var t=E(e)?e.exceptionMessage:m(Z.errorServiceUrl,[g(i)]);return h.text(t),Promise.reject(t)})).then((e=>{if(b.setConfigurationInfo(e),e.version!==y){var r=m(Z.errorServiceVersion,[e.version,y]);return h.text(r),Promise.reject(r)}ke.load(t.templateUrl,i,o).catch((()=>{var e=m(Z.errorLoadingTemplates,[g(t.templateUrl)]);return h.text(e),Promise.reject(e)})).then((e=>(d=e.templates,function(e){if(!e)return Promise.resolve();var t=$("head"),i=t.find("link").map(((e,t)=>t.outerHTML)).toArray(),r=[];return Array.from(e).forEach((e=>{-1===i.indexOf(e)&&r.push(new Promise(((i,r)=>{var n=$(e);n.on("load",i),n.on("onerror",(()=>{A("error loading stylesheet "+e),i()})),t.append(n)})))})),Promise.all(r).then(v.cssLoaded.bind(v))}(e.styleSheets)))).then(x)})).catch((e=>{$(S).trigger({type:K.ERROR,data:{sender:S}},e)}))})),S}function M(e,t,i){"function"==typeof t?i?$(S).on(e,{sender:S},t):$(S).off(e,t):t||i||$(S).off(e)}function D(){var i,r,o,l,c,u,p,m,g,E;h.html(d["trv-report-viewer"]),N.bind(h,{controller:b,notificationService:v,commands:P,templates:d},t),new a.ContentArea(h[0],b,dt,{enableAccessibility:t.enableAccessibility,initialPageAreaImageUrl:t.initialPageAreaImageUrl}),(s=new pe(e,b,v)).attach(),$e(i=h.find(".trv-page-container"),{swipe:function(e){var t=b.getCurrentPageNumber();r&&"left"===e.direction?t<b.getPageCount()&&b.navigateToPage(t+1):o&&"right"===e.direction&&t>1&&b.navigateToPage(t-1)},pinch:function(e){var t=b.getScale(),i=e.distance/e.lastDistance;b.setScaleMode(a.ScaleMode.Specific),b.setScale(t*i)},doubletap:function(){P.toggleZoomMode.exec()},touchstart:function(){var e=i.find(".trv-page-wrapper")[0];o=0===e.scrollLeft,r=e.scrollWidth-e.offsetWidth===e.scrollLeft}}),function(){var e={max:"500px",min:"50px",size:"300",collapsible:!0,scrollable:!1},i=h.find(".trv-parameters-area"),r=[{}],n={max:"500px",min:"50px",size:"300",collapsible:!0,collapsed:!0,scrollable:!1},a=h.find(".trv-document-map"),o=[{}],s="horizontal";t.documentMapAreaPosition===j.RIGHT?(a.insertAfter(h.find(".trv-pages-area")),o.push(n)):o.unshift(n);t.parametersAreaPosition!==q.TOP&&t.parametersAreaPosition!==q.BOTTOM||(s="vertical",i.addClass("-vertical"),e.size="130px");t.parametersAreaPosition===q.LEFT||t.parametersAreaPosition===q.TOP?(i.insertBefore(h.find(".trv-document-map-splitter")),r.unshift(e)):r.push(e);try{h.find(".trv-document-map-splitter").attr("id",t.viewerSelector+"-document-map-splitter").kendoSplitter({panes:o,expand:e=>{k(e.pane,!0)},collapse:e=>{k(e.pane,!1)},resize:e=>{}}).data("kendoSplitter")}catch(e){throw console.error("Instantiation of Kendo Splitter as Document Map splitter threw an exception",e),e}try{h.find(".trv-parameters-splitter").attr("id",t.viewerSelector+"-parameters-splitter").kendoSplitter({panes:r,orientation:s,expand:e=>{k(e.pane,!0)},collapse:e=>{k(e.pane,!1)},resize:e=>{}}).data("kendoSplitter")}catch(e){throw console.error("Instantiation of Kendo Splitter as Parameters area splitter threw an exception",e),e}}(),function(){const e={[K.EXPORT_BEGIN]:"exportStarted",[K.EXPORT_END]:"exportDocumentReady",[K.PRINT_BEGIN]:"printStarted",[K.PRINT_END]:"printDocumentReady",[K.SEND_EMAIL_BEGIN]:"sendEmailStarted",[K.SEND_EMAIL_END]:"sendEmailDocumentReady",[K.PAGE_READY]:"pageReady",[K.ERROR]:"error",[K.INTERACTIVE_ACTION_EXECUTING]:"interactiveActionExecuting",[K.INTERACTIVE_ACTION_ENTER]:"interactiveActionEnter",[K.INTERACTIVE_ACTION_LEAVE]:"interactiveActionLeave",[K.PARAMETERS_LOADED]:"parametersLoaded"};var t={[K.RENDERING_BEGIN]:"beforeLoadReport",[K.RENDERING_END]:"reportLoadComplete"},i=$(S);const r=e=>async t=>{i.trigger({type:e,data:{sender:S}},t)};for(let t in e){let i=e[t];b.on(i,(e=>{t===K.PAGE_READY&&(e.pageActions=JSON.stringify(e.pageActions)),r(t)(e)}))}for(let e in t){let i=t[e];b.onAsync(i,r(e))}var n;v.on(v.Events.UPDATE_UI,(n=i,function(e,t){n.trigger({type:K.UPDATE_UI,data:e.data},t)}))}(),M(K.EXPORT_BEGIN,t.exportBegin,!0),M(K.EXPORT_END,t.exportEnd,!0),M(K.PRINT_BEGIN,t.printBegin,!0),M(K.PRINT_END,t.printEnd,!0),M(K.SEND_EMAIL_BEGIN,t.sendEmailBegin,!0),M(K.SEND_EMAIL_END,t.sendEmailEnd,!0),M(K.RENDERING_BEGIN,t.renderingBegin,!0),M(K.RENDERING_END,t.renderingEnd,!0),M(K.PAGE_READY,t.pageReady,!0),M(K.ERROR,t.error,!0),M(K.UPDATE_UI,t.updateUi,!0),M(K.INTERACTIVE_ACTION_EXECUTING,t.interactiveActionExecuting,!0),M(K.INTERACTIVE_ACTION_ENTER,t.interactiveActionEnter,!0),M(K.INTERACTIVE_ACTION_LEAVE,t.interactiveActionLeave,!0),M(K.VIEWER_TOOLTIP_OPENING,t.viewerToolTipOpening,!0),M(K.PARAMETERS_LOADED,t.parametersLoaded,!0),l=f.getViewMode(),c=f.getPageMode(),u=f.getPrintMode(),p=f.getScale(),m=f.getScaleMode(),g=f.getDocumentMapVisible(),E=f.getParametersAreaVisible(),f.getAccessibilityKeyMap(),b.setViewMode(nt[l||t.viewMode]),b.setPageMode(ot[c||t.pageMode]),b.setPrintMode(ht[u||t.printMode]),b.setScaleMode(lt[m||t.scaleMode]),b.setScale(p||t.scale),v.setDocumentMapVisible({visible:g||t.documentMapVisible}),v.setParametersAreaVisible({visible:E||t.parametersAreaVisible}),b.on("viewModeChanged",(()=>{f.setViewMode(rt[b.getViewMode()])})).on("pageModeChanged",(()=>{f.setPageMode(at[b.getPageMode()])})).on("printModeChanged",(()=>{f.setPrintMode(ct[b.getPrintMode()])})).on("scaleModeChanged",(e=>{f.setScaleMode(st[e])})).on("scaleChanged",(e=>{f.setScale(e)})).on("clientIdChanged",(e=>{f.setClientId(e)})).on("currentPageChanged",(e=>{f.setPageNumber(e)})).on("reportSourceChanged",(e=>{f.setReportSource(e)})),v.setDocumentMapVisible((()=>{var e={};v.getDocumentMapState(e),f.setDocumentMapVisible(e.visible)})),v.setParametersAreaVisible((()=>{var e={};v.getParametersAreaState(e),f.setParametersAreaVisible(e.visible)})),function(e){if(e.enableAccessibility){n=new L({controller:b,notificationService:v,templates:d});var t=e.accessibilityKeyMap;t&&n.setKeyMap(t),b.setContentTabIndex(function(){var e="div.trv-pages-area";try{var t=h.find(e);if(0===t.length)throw"Selector "+e+" did not return a result.";return parseInt(t.attr("tabindex"))}catch(e){return console&&console.log(e),0}}())}}(t)}function k(e,t){switch($(e).attr("data-id")){case"trv-document-map":v.setDocumentMapVisible({visible:t});break;case"trv-parameters-area":v.setParametersAreaVisible({visible:t})}}function x(){var e=!1;if(D(),!t.webDesignerPreview&&!t.serverPreview){if(b.shouldShowLicenseBanner()){$(".trv-content-wrapper")?.prepend('<span class="trv-license-banner"></span>');const e=$(".trv-license-banner").kendoNotification({appendTo:".trv-license-banner",hideOnClick:!1,autoHideAfter:0,button:!0,hide:()=>{b.saveToSessionStorage("hideBanner","true")}}).data("kendoNotification"),t=b.getConfigurationInfo()?.license;e.show(`<span class='trv-license-message'>${t?.title||t?.message} ${t?.actionMessage}</span>\n                                    <a class='trv-license-link' target='_blank' href='${t?.actionLink}'>\n                                        <span class='k-icon k-i-question-circle'></span>\n                                    </a>`,"warning")}b.shouldShowLicenseOverlay()&&$(".trv-content-wrapper")?.prepend('<div class="trv-license-overlay"></div>')}b.onAsync("reportLoadComplete",(async()=>{!1===t.documentMapVisible&&v.setDocumentMapVisible({visible:!1})})).on("navigateToReport",(e=>{b.setReportSource({report:e.Report,parameters:e.Parameters}),b.refreshReport(!1)})).on("toolTipOpening",(e=>{!function(e){var t=$(e.element),i={element:e.element,toolTip:{title:e.title,text:e.text},cancel:!1};if(V(),$(S).trigger({type:K.VIEWER_TOOLTIP_OPENING},i),i.cancel)return;var r=function(e){var t=d["trv-pages-area-kendo-tooltip"],i=$(t),r=i.find(".trv-pages-area-kendo-tooltip-title"),n=i.find(".trv-pages-area-kendo-tooltip-text");return r.text(e.toolTip.title),n.text(e.toolTip.text),i.clone().wrap("<p>").parent().html()}(i),n=e.element.viewportElement,a=function(e,t){var i=e.data("kendoTooltip");if(!i)try{i=e.kendoTooltip({content:t,autohide:!0,callout:!0,position:"top"}).data("kendoTooltip")}catch(e){throw console.error("Instantiation of Kendo Tooltip threw an exception",e),e}return i}(t,r);S._tooltipShowTimeout=setTimeout((()=>{var i,r,o,s;a.show(t),n&&"svg"===n.nodeName&&(i=a,o=(r=e).pageX,s=r.pageY,i.popup.element.parent().css({left:o+10,top:s+5}))}),100)}(e)})).on("toolTipClosing",(e=>{!function(e){var t=$(e.element),i=t.data("kendoTooltip");V(),i&&i.hide()}(e)}));var i=f.getReportSource();if(void 0!==i){b.setReportSource(i);var r=f.getPageNumber();void 0!==r&&b.navigateToPage(r),e=!0}else t.viewMode&&b.setViewMode(nt[t.viewMode]),t.pageMode&&b.setPageMode(ot[t.pageMode]),t.reportSource&&(b.setReportSource(t.reportSource),e=!0);"function"==typeof t.ready&&t.ready.call(S),e&&b.refreshReport(!1,"",!0)}function V(){S._tooltipShowTimeout&&(clearTimeout(S._tooltipShowTimeout),S._tooltipShowTimeout=null)}}var pt="telerik_ReportViewer";$.fn[pt]=function(e){return this.selector&&!e.selector&&(e.selector=this.selector),this.each((function(){$.data(this,pt)||$.data(this,pt,new ut(this,e))}))};return[{name:"telerik_ReportViewer_DocumentMapArea",constructor:class{options;viewerOptions;controller;notificationService;$element;$documentMap;documentMapVisible;enableAccessibility;currentReport;documentMapNecessary;constructor(e,t,i){if(this.element=e,this.options=$.extend({},ge,t,i),this.controller=this.options.controller,!this.controller)throw"No controller (telerikReporting.reportViewerController) has been specified.";if(this.notificationService=this.options.notificationService,!this.notificationService)throw"No notificationService (telerikReporting.NotificationService) has been specified.";this.$element=$(this.element),this.$documentMap,this.documentMapVisible=!1!==this.options.documentMapVisible,this.enableAccessibility=this.options.enableAccessibility,this.currentReport=null,this.documentMapNecessary=!1,this.init()}init(){this.$documentMap=$('<div id="'+this.options.viewerSelector+'-documentMap" data-role="treeview"></div>'),this.$documentMap.appendTo(this.element),this._attachEvents(),this.replaceStringResources(this.$element)}onTreeViewSelectionChanged(e){var t=e.sender.dataItem(e.node),i=t.page,r=t.id;this.controller.navigateToPage(i,{type:"bookmark",id:r})}onTreeViewNodeExpand(e){this.enableAccessibility&&window.setTimeout((()=>{this.setNodeAccessibilityAttributes(e.node)}),100)}setNodeAccessibilityAttributes(e){var t=$(e).find("li");Array.from(t).forEach((e=>{var t=$(e);t.attr("aria-label",t[0].innerText)}))}resetReportAndClearItems(){this.documentMapNecessary=!1,this.showDocumentMap(!1);const e=this.controller.getReportSource().report,t=this.currentReport!==e||!this.isVisible();this.currentReport=e,t&&this.clearDocumentMap()}clearDocumentMap(){this.displayDocumentMap([])}displayDocumentMap(e){var t=e&&!$.isEmptyObject(e),i=this.$documentMap.data("kendoTreeView");if(!i)try{this.$documentMap.kendoTreeView({dataTextField:"text",select:this.onTreeViewSelectionChanged.bind(this)}),i=this.$documentMap.data("kendoTreeView")}catch(e){throw console.error("Instantiation of Kendo TreeView as Document Map threw an exception",e),e}i.setDataSource(e),this.enableAccessibility&&this.setAccessibilityAttributes(i),this.showDocumentMap(t)}setAccessibilityAttributes(e){e.bind("expand",this.onTreeViewNodeExpand.bind(this)),e.element.attr("aria-label",Z.ariaLabelDocumentMap);var t=e.element.find("ul");Array.from(t).forEach((e=>{this.setNodeAccessibilityAttributes(e)})),this.documentMapNecessary&&this.setSplitbarAccessibilityAttributes()}setSplitbarAccessibilityAttributes(){var e=this.$element.next();this.options.documentMapAreaPosition===j.RIGHT&&(e=this.$element.prev()),e.attr("aria-label",Z.ariaLabelDocumentMapSplitter)}isVisible(){var e={};return this.notificationService.getDocumentMapState(e),e.visible}beginLoad(){this.$element.addClass("trv-loading")}endLoad(){this.$element.removeClass("trv-loading")}showDocumentMap(e){var t=$("#"+this.options.viewerSelector+"-document-map-splitter").getKendoSplitter(),i=this.$element.next(".k-splitbar");this.options.documentMapAreaPosition===j.RIGHT&&(i=this.$element.prev(".k-splitbar")),t&&((this.documentMapNecessary?$.fn.removeClass:$.fn.addClass).call(i,"k-hidden"),t.toggle(".trv-document-map",e))}_attachEvents(){this.controller.on("beforeLoadParameters",(()=>{this.resetReportAndClearItems()})).on("beginLoadReport",(()=>{this.beginLoad()})).onAsync("reportLoadComplete",(async e=>{e.documentMapAvailable?(this.documentMapNecessary=!0,this.displayDocumentMap(e.documentMapNodes),this.notificationService.setDocumentMapVisible({enabled:!0,visible:this.documentMapVisible})):(this.documentMapNecessary=!1,this.showDocumentMap(this.documentMapNecessary)),this.endLoad()})).on("error",(()=>{this.endLoad(),this.clearDocumentMap()})).on("renderingStopped",(()=>{this.documentMapNecessary=!1,this.showDocumentMap(!1)})),this.notificationService.setDocumentMapVisible(((e,t)=>{this.documentMapVisible=t.visible,this.showDocumentMap(this.documentMapVisible&&this.documentMapNecessary)})).getDocumentMapState(((e,t)=>{t.enabled=this.documentMapNecessary,t.visible=this.documentMapVisible}))}replaceStringResources(e){var t=e.find(".trv-document-map-overlay");t&&t.attr("aria-label",Z[t.attr("aria-label")])}}},{name:"telerik_ReportViewer_ParametersArea",constructor:Ee},{name:"telerik_ReportViewer_SearchDialog",constructor:class{constructor(e,t,i){if(this.options=$.extend({},we,t),this.viewerOptions=i,this.element=e,this.$element=$(e),this.reportViewerWrapper=$(`[data-selector='${this.viewerOptions.viewerSelector}']`),this.viewer=this.reportViewerWrapper.data("telerik_ReportViewer"),this.controller=this.options.controller,this.notificationService=this.options.notificationService,this.initialized=!1,this.kendoSearchDialog,this.kendoComboBox,this.resultsLabel,this.kendoListView,this.commands,this.searchManager,this.mruList=[],this.inputComboRebinding,this.searchMetadataRequested,this.searchMetadataLoaded,this.windowLocation,this.lastSearch="",!this.controller)throw"No controller (telerikReporting.ReportViewerController) has been specified.";if(!this.notificationService)throw"No notificationService (telerikReporting.NotificationService) has been specified.";this.pagesAreaContainer=this.reportViewerWrapper.find('[data-id="trv-pages-area"]'),this.searchManager=new a.SearchManager(this.pagesAreaContainer[0],this.controller),this.searchManager.on("searchComplete",this.updateResultsUI.bind(this)),this.init()}init(){this.initialized||(!function(e){if(e){var t=e.find(".trv-search-dialog-search-options"),i=e.find("button[data-command='telerik_ReportViewer_searchDialog_StopSearch']"),r=e.find("button[data-command='telerik_ReportViewer_searchDialog_MatchCase']"),n=e.find("button[data-command='telerik_ReportViewer_searchDialog_MatchWholeWord']"),a=e.find("button[data-command='telerik_ReportViewer_searchDialog_UseRegex']"),o=e.find("button[data-command='telerik_ReportViewer_searchDialog_NavigateUp']"),s=e.find("button[data-command='telerik_ReportViewer_searchDialog_NavigateDown']");Ae(e,"aria-label"),Ae(t,"aria-label"),ye(i),ye(r),ye(n),ye(a),ye(o),ye(s)}}(this.$element),this._initDialog(),this._initSearchbox(),this._initResultsArea(),this._attachCommands(),this._attachEvents(),this.updateResultsUI(null),this.initialized=!0)}_attachEvents(){this.controller.on("beginLoadReport",this.closeAndClear.bind(this)).on("viewModeChanged",this.closeAndClear.bind(this)),this.notificationService.setSearchDialogVisible(((e,t)=>{this.toggleSearchDialog(t.visible)})).setSendEmailDialogVisible(((e,t)=>{t.visible&&this.controller.getSearchInitiated()&&this.close()})),$(window).on("resize",(()=>{this.kendoSearchDialog&&this.kendoSearchDialog.options.visible&&(this.storeDialogPosition(),this.adjustDialogPosition())}))}closeAndClear(){this.searchMetadataRequested||(this.close(),this.searchMetadataLoaded=!1)}toggleSearchDialog(e){if((this.controller.setSearchInitiated(e),e)&&(this.viewerOptions.searchMetadataOnDemand&&!this.searchMetadataLoaded))return this.searchMetadataRequested=!0,this.controller.onAsync("reportLoadComplete",(async()=>{this.searchMetadataRequested&&(this.open(),this.searchMetadataRequested=!1)})),void this.controller.refreshReport(!0);this.toggle(e)}open(){this.toggle(!0)}close(){this.toggle(!1)}toggle(e){this.controller.setSearchInitiated(e),e?(this.searchMetadataLoaded=!0,this.kendoSearchDialog.open()):(this.searchManager.closeSearch(),this.kendoSearchDialog&&this.kendoSearchDialog.options.visible&&this.kendoSearchDialog.close())}_initSearchbox(){this.kendoComboBox=new kendo.ui.ComboBox(this.element.querySelector(".trv-search-dialog-input-box"),{placeholder:Z.searchDialogCaptionText,dataTextField:"value",dataValueField:"value",dataSource:this.mruList,contentElement:"",change:this.kendoComboBoxSelect.bind(this),ignoreCase:!1,filtering:this.onInputFiltering.bind(this),filter:"startswith",delay:1e3,open:e=>{this.inputComboRebinding&&e.preventDefault()},select:this.processComboBoxEvent.bind(this)})}_initDialog(){this.kendoSearchDialog=new kendo.ui.Window(this.element,{title:Z.searchDialogTitle,visible:!1,height:390,width:310,minWidth:310,minHeight:390,maxHeight:700,scrollable:!1,close:e=>{this.storeDialogPosition(),this.kendoComboBox.value(""),this.updateResultsUI(null),this.toggleErrorLabel(!1,null),this.lastSearch=""},open:e=>{this.adjustDialogPosition()},deactivate:e=>{this.notificationService.setSearchDialogVisible({visible:!1})},activate:e=>{this.kendoComboBox.input.focus()}}),this.kendoSearchDialog.element.removeClass("trv-search-dialog k-hidden"),this.kendoSearchDialog.wrapper.addClass("trv-search-dialog")}storeDialogPosition(){this.windowLocation=this.kendoSearchDialog.wrapper.offset()}adjustDialogPosition(){var e=$(window).innerWidth(),t=$(window).innerHeight(),i=this.kendoSearchDialog.wrapper.outerWidth(!0),r=this.kendoSearchDialog.wrapper.outerHeight(!0),n=10;if(this.windowLocation){var a=this.windowLocation.left,o=this.windowLocation.top,s=o+r;a+i>e-n&&(a=Math.max(n,e-i-n),this.kendoSearchDialog.setOptions({position:{left:a}})),s>t-n&&(o=Math.max(n,t-r-n),this.kendoSearchDialog.setOptions({position:{top:o}}))}else{var l=this.pagesAreaContainer[0].getBoundingClientRect();this.kendoSearchDialog.setOptions({position:{top:l.top+n+window.scrollY,left:l.right-i-n-10}})}}processComboBoxEvent(e){if(window.event||window.event.type){var t=window.event;"keydown"===t.type&&(e.preventDefault(),40===t.keyCode&&this.moveListSelection(1),38===t.keyCode&&this.moveListSelection(-1))}}_attachCommands(){this.commands={searchDialog_MatchCase:new x,searchDialog_MatchWholeWord:new x,searchDialog_UseRegex:new x,searchDialog_StopSearch:new x((()=>{this.stopSearch()})),searchDialog_NavigateUp:new x((()=>{this.moveListSelection(-1)})),searchDialog_NavigateDown:new x((()=>{this.moveListSelection(1)}))},Object.keys(this.commands).forEach((e=>{const t=this.element.querySelector(`button[data-command='telerik_ReportViewer_${e}']`),i=Ce[t?.dataset?.role],r=this.commands[e];if(i)return new i(t,{command:r})})),$(this.commands.searchDialog_MatchCase).on("checkedChanged",((e,t)=>{this.searchForCurrentToken()})),$(this.commands.searchDialog_MatchWholeWord).on("checkedChanged",((e,t)=>{this.searchForCurrentToken()})),$(this.commands.searchDialog_UseRegex).on("checkedChanged",((e,t)=>{this.searchForCurrentToken()}))}_initResultsArea(){this.resultsLabel=this.element.querySelector(".trv-search-dialog-results-label"),this.resultsLabel.innerText=Z.searchDialogNoResultsLabel,this.kendoListView=new kendo.ui.ListView(this.element.querySelector(".trv-search-dialog-results-area"),{selectable:!0,navigatable:!0,dataSource:[],contentElement:"",template:`\n                <div class="k-list-item !k-align-items-start">\n                    <span class="k-list-item-text">#: description #</span>\n                    <span class="k-flex"></span>\n                    <span class="k-flex-none">${Z.searchDialogPageText} #:page#</span>\n                </div>\n            `.trim(),change:e=>{var t=e.sender,i=t.select().index(),r=t.dataSource.view(),n=r[i];this.onSelectedItem(n),this.updateUI(i,r.length)}}),this.kendoListView.element.addClass("k-list k-list-md")}stopSearch(){this.setStopButtonEnabledState(!1)}setStopButtonEnabledState(e){this.commands.searchDialog_StopSearch.setEnabled(e)}onInputFiltering(e){e.preventDefault(),e.filter&&e.filter.value!==this.lastSearch&&(this.lastSearch=e.filter.value,this.searchForToken(this.lastSearch))}kendoComboBoxSelect(e){var t=e.sender.value();t&&this.lastSearch!==t&&(this.lastSearch=t,this.searchForToken(this.lastSearch))}searchForCurrentToken(){this.kendoComboBox&&this.searchForToken(this.kendoComboBox.value())}searchForToken(e){this.onSearchStarted(),this.addToMRU(e),this.searchManager.search({searchToken:e,matchCase:this.commands.searchDialog_MatchCase.getChecked(),matchWholeWord:this.commands.searchDialog_MatchWholeWord.getChecked(),useRegularExpressions:this.commands.searchDialog_UseRegex.getChecked()})}onSearchStarted(){this.resultsLabel.innerText=Z.searchDialogSearchInProgress,this.setStopButtonEnabledState(!0),this.toggleErrorLabel(!1,null)}updateResultsUI(e,t){this.setStopButtonEnabledState(!1),t&&this.toggleErrorLabel(!0,t),this.kendoListView.dataSource.data(e||[]),e&&e.length>0?(this.kendoListView.select(this.kendoListView.content.children().first()),this.kendoListView.trigger("change")):this.updateUI(-1,0)}addToMRU(e){if(e&&""!==e){var t=this.mruList.filter((t=>t.value===e));t&&t.length>0||(this.mruList.unshift({value:e}),this.mruList.length>10&&this.mruList.pop(),this.inputComboRebinding=!0,this.kendoComboBox.dataSource.data(this.mruList),this.kendoComboBox.select((t=>t.value===e)),this.inputComboRebinding=!1)}}onSelectedItem(e){this.searchManager.highlightSearchItem(e)}updateUI(e,t){var i=0===t?Z.searchDialogNoResultsLabel:m(Z.searchDialogResultsFormatLabel,[e+1,t]);this.resultsLabel.innerText=i;var r=e>0,n=e<t-1;this.commands.searchDialog_NavigateUp.setEnabled(r),this.commands.searchDialog_NavigateDown.setEnabled(n)}moveListSelection(e){var t=this.kendoListView.select();if(t){var i=this.kendoListView.select().trigger("change").index(),r=this.kendoListView.dataSource.view(),n=Math.min(r.length-1,Math.max(0,i+e));if(n!==i){var a=r[n],o=this.kendoListView.element.find('[data-uid="'+a.uid+'"]');o&&(this.kendoListView.select(o),this.kendoListView.trigger("change"),this.scrollIfNeeded(o[0],this.kendoListView.element[0]))}}else t=this.kendoListView.element.children().first(),this.kendoListView.select(t),this.kendoListView.trigger("change")}scrollIfNeeded(e,t){if(e.offsetTop-e.clientHeight<t.scrollTop)e.scrollIntoView();else{var i=e.offsetTop+e.offsetHeight;i>t.scrollTop+t.offsetHeight&&(t.scrollTop=i-t.offsetHeight)}}toggleErrorLabel(e,t){var i=this.$element.find("i[data-role='telerik_ReportViewer_SearchDialog_Error']");i&&0!==i.length?e?(i[0].title=t,i.show()):i.hide():console.log(t)}}},{name:"telerik_ReportViewer_SendEmail",constructor:class{constructor(e,t,i){if(this.options=$.extend({},Te,t),this.viewerOptions=i,this.element=e,this.$element=$(e),this.viewerElement=$(`[data-selector='${this.viewerOptions.viewerSelector}']`),this.viewer=this.viewerElement.data("telerik_ReportViewer"),this.controller=this.options.controller,this.notificationService=t.notificationService,this.initialized=!1,this.dialogVisible=!1,this.kendoSendEmailDialog,this.inputFrom,this.inputTo,this.inputCC,this.inputSubject,this.docFormat,this.docFormatEl,this.bodyEditorEl,this.bodyEditor,this.docFormatList,this.optionsCommandSet,this.windowLocation,!this.controller)throw"No controller (telerikReporting.ReportViewerController) has been specified.";if(!this.notificationService)throw"No notificationService (telerikReporting.NotificationService) has been specified.";this.viewerOptions.sendEmail&&this.viewerOptions.sendEmail.enabled?this.init():this.viewerElement.find("[data-command='toggleSendEmailDialog']").addClass("send-email-hidden")}init(){this.initialized||(Ie(this.$element),this.controller.getDocumentFormats().then((e=>{this.docFormatList=e,this.docFormat?.setDataSource(this.docFormatList),this.viewerOptions?.sendEmail&&this.viewerOptions?.sendEmail.format&&(this.docFormat?.value(this.viewerOptions.sendEmail.format),this.docFormat?.trigger("change"))})),this._initDialog(),this._initInputFields(),this._attachCommands(),this._attachEvents(),this.initialized=!0)}_attachEvents(){this.controller.on("beginLoadReport",this.close.bind(this)).on("viewModeChanged",this.close.bind(this)),this.notificationService.getSendEmailDialogState(((e,t)=>{t.visible=this.dialogVisible})).setSendEmailDialogVisible(((e,t)=>{!0===t.visible?this.open():this.close()})).setSearchDialogVisible(((e,t)=>{t.visible&&this.dialogVisible&&this.close()})),$(window).on("resize",(()=>{this.kendoSendEmailDialog&&this.kendoSendEmailDialog.options.visible&&(this.storeDialogPosition(),this.adjustDialogPosition())}))}open(){this.dialogVisible=!0,this.kendoSendEmailDialog.open()}close(){this.dialogVisible=!1,this.kendoSendEmailDialog&&this.kendoSendEmailDialog.options.visible&&this.kendoSendEmailDialog.close()}getBody(){return this.bodyEditor?this.bodyEditor.value():""}_initDialog(){this.kendoSendEmailDialog=new kendo.ui.Window(this.element,{title:Z.sendEmailDialogTitle,visible:!1,width:800,minWidth:350,minHeight:350,modal:!0,close:()=>{this.storeDialogPosition(),this.kendoValidator.reset()},open:()=>{this.adjustDialogPosition()},deactivate:()=>{this.notificationService.setSendEmailDialogVisible({visible:!1})},activate:()=>{this.inputFrom.focus(),setTimeout((()=>{this.setValidation()}),250)}}),this.kendoSendEmailDialog.element.removeClass("trv-send-email-dialog k-hidden"),this.kendoSendEmailDialog.wrapper.addClass("trv-send-email-dialog")}_initInputFields(){const e=this.viewerOptions.viewerSelector;this.setAttrs(),this.inputFrom=new kendo.ui.TextBox(this.element.querySelector(`[name="${e}-from"]`),{}),this.inputTo=new kendo.ui.TextBox(this.element.querySelector(`[name="${e}-to"]`),{}),this.inputCC=new kendo.ui.TextBox(this.element.querySelector(`[name="${e}-cc"]`),{}),this.inputSubject=new kendo.ui.TextBox(this.element.querySelector(`[name="${e}-subject"]`),{}),this.docFormat=new kendo.ui.ComboBox(this.element.querySelector(`[name="${e}-format"]`),{dataTextField:"localizedName",dataValueField:"name",dataSource:this.docFormatList||[],filter:"startswith",dataBound:e=>{e.sender.select(0),e.sender.trigger("change")}}),this.bodyEditor=new kendo.ui.Editor(this.element.querySelector(`[name="${e}-emailBody"]`),{tools:["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","indent","outdent","createLink","unlink","cleanFormatting","formatting","fontName","fontSize","foreColor","backColor","subscript","superscript"]}),this.setDefaultValues(this.viewerOptions.sendEmail),this.kendoValidator=new kendo.ui.Validator(this.element.querySelector(".trv-send-email-fields"),{})}setAttrs(){const e=this.viewerOptions.viewerSelector;Array.from(this.element.querySelectorAll(".trv-send-email-field input, .trv-send-email-field textarea")).forEach((t=>{var i=t.getAttribute("name");null!==i&&(t.setAttribute("id",`${e}-${i}`),t.setAttribute("name",`${e}-${i}`))})),Array.from(this.element.querySelectorAll(".trv-send-email-label label")).forEach((t=>{var i=t.getAttribute("for");null!==i&&t.setAttribute("for",`${e}-${i}`)}))}storeDialogPosition(){var e=this.kendoSendEmailDialog.element.parent(".k-window");this.windowLocation=e.offset()}adjustDialogPosition(){var e=$(window).innerWidth(),t=$(window).innerHeight(),i=this.kendoSendEmailDialog.wrapper.outerWidth(!0),r=this.kendoSendEmailDialog.wrapper.outerHeight(!0),n=10;if(this.windowLocation){var a=this.windowLocation.left,o=this.windowLocation.top,s=o+r;a+i>e-n&&(a=Math.max(n,e-i-n),this.kendoSendEmailDialog.setOptions({position:{left:a}})),s>t-n&&(o=Math.max(n,t-r-n),this.kendoSendEmailDialog.setOptions({position:{top:o}}))}else this.kendoSendEmailDialog.center()}_attachCommands(){this.optionsCommandSet={sendEmail_Cancel:new x((()=>{this.close()})),sendEmail_Send:new x((()=>{this.sendingEmail()}))},N.attachCommands(this.$element.find(".trv-send-email-actions"),this.optionsCommandSet,this.viewerOptions)}sendingEmail(e,t){var i={from:this.inputFrom.value(),to:this.inputTo.value(),cc:this.inputCC.value(),subject:this.inputSubject.value(),format:this.docFormat.value(),body:this.getBody(),deviceInfo:{}};this.validateFields()&&(this.controller.sendReport(i),this.close())}setValidation(){this.inputFrom.element.off("blur").on("blur",(()=>{this.isEmpty(this.inputFrom)||this.isValidEmail(this.inputFrom,!1)})),this.inputTo.element.off("blur").on("blur",(()=>{this.isEmpty(this.inputTo)||this.isValidEmail(this.inputTo,!0)})),this.inputCC.element.off("blur").on("blur",(()=>{this.inputCC.value().toString().length?this.isValidEmail(this.inputCC,!0):this.hideError(this.inputCC.element)}))}validateFields(){var e=!this.isEmpty(this.inputFrom)&&this.isValidEmail(this.inputFrom,!1),t=!this.isEmpty(this.inputTo)&&this.isValidEmail(this.inputTo,!0),i=this.isEmpty(this.inputCC)||this.isValidEmail(this.inputCC,!0),r=this.docFormat.value().length>0;return r||this.showError(this.docFormat.element,"data-required-msg"),e&&t&&i&&r}setDefaultValues(e){this.inputFrom.value(e&&e.from||""),this.inputTo.value(e&&e.to||""),this.inputCC.value(e&&e.cc||""),this.inputSubject.value(e&&e.subject||""),this.bodyEditor.value(e&&e.body||"")}isEmpty(e){var t=e.element;return e.value().length?(this.hideError(t),!1):(this.showError(t,"data-required-msg"),!0)}showError(e,t){var i=Z[e.attr(t)];$('[data-for="'+e.attr("name")+'"]').addClass("-visible").text(i)}hideError(e){$('[data-for="'+e.attr("name")+'"]').removeClass("-visible")}isValidEmail(e,t){var i=e.value(),r=e.element;if(t){for(var n=i.split(/[\s,;]+/),a=0;a<n.length;a++)if(!this._validateEmail(n[a].trim(),r))return!1;return!0}return this._validateEmail(i,r)}_validateEmail(e,t){return e.indexOf(",")>-1||e.indexOf(";")>-1?(this.showError(t,"data-single-email-msg"),!1):!!/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)||(this.showError(t,"data-email-msg"),!1)}}},{name:"telerik_ReportViewer_LinkButton",constructor:class extends Se{cmd;constructor(e,t){super(e,t);var i=this.$element.attr("data-command");i&&(this.cmd=this.options.commands[i]),this.cmd&&(this.$element.on("click",(e=>{this.cmd.getEnabled()?this.cmd.exec($(e.currentTarget).attr("data-command-parameter")):e.preventDefault()})),$(this.cmd).on("enabledChanged",(e=>{(this.cmd.getEnabled()?$.fn.removeClass:$.fn.addClass).call(this.$element,"disabled")})).on("checkedChanged",(e=>{(this.cmd.getChecked()?$.fn.addClass:$.fn.removeClass).call(this.$element,"checked")})))}}},{name:"telerik_ReportViewer_PageNumberInput",constructor:Ve},{name:"telerik_ReportViewer_PageCountLabel",constructor:Oe},{name:"telerik_ReportViewer_Toolbar",constructor:class{_options;_element;$element;_kendoToolbar;_neverOverflowToolBarButtons=["goToPrevPage","goToNextPage"];constructor(e,t,i){this._element=e,this._options=t,this.$element=$(this._element),void 0===this._kendoToolbar&&this.initKendoToolbar(),this._options.controller.on("beginLoadReport",(()=>{const e=this.$element.find(`#${He}`).data("kendoDropDownButton");e?.enable(!1)})).onAsync("reportLoadComplete",(async()=>{void 0===i.renderingExtensions?this._options.controller.getDocumentFormats().then((e=>{this.updateExportDropdownItems(e)})).catch((e=>{this._options.controller.trigger("error",{message:e})})):this.updateExportDropdownItems(i.renderingExtensions)}))}initKendoToolbar(){!function(e){if(!e)return;const t=e.find(".trv-replace-string");t&&t.length>0&&Array.from(t).forEach((e=>{const t=$(e),i=Z[t.text()];t&&i&&t.text(i)}))}(this.$element);const e=Array.from(this._element.children),t=[];e.forEach((e=>t.push(this.createToolbarItem(e)))),this.$element.empty(),this._kendoToolbar=this.$element.kendoToolBar({items:t,click:e=>{this.executeCommand(e)},toggle:e=>{this.executeCommand(e)}}).data("kendoToolBar");const i=this.$element.find(Ge).get(0);i&&new Ve(i,this._options);const r=this.$element.find(We).get(0);r&&new Oe(r,this._options)}createToolbarItem(e){const t=(e.dataset?.command||"").replace("telerik_ReportViewer_","");if("toggleAiPromptDialog"===t&&!this._options.controller.isAiInsightsEnabled())return;const i=e.id,r=e.dataset?.role,n=e.dataset?.icon,a=e.dataset?.overflow,o=Z[e.title]||e.title||"",s=Z[e.ariaLabel]||e.ariaLabel||"",l=e.dataset?.commandParameter,c=this._options.commands[t];switch(r){case Je:return{type:Je,overflow:a||"auto"};case Ze:return e.title=o,e.ariaLabel=s,{template:e.outerHTML};case Xe:return{id:i,type:Ye,icon:n,enable:!1,showArrowButton:!0,overflow:"never",fillMode:"flat",menuButtons:[{text:"Loading...",enabled:!1}]};case je:const h=Array.from(e.children),d=[];return h.forEach((e=>{e.dataset?.role===qe||e.dataset?.role===Ke?d.push(this.createToolbarItem(e)):console.warn("The data-role attribute of element nested inside a buttonGroup is missing or not supported. Only 'button' or 'toggle-button' data-role is allowed.")})),{type:je,buttons:d,fillMode:"flat",overflow:a||"auto"};case qe:case Ke:return $(c).on("enabledChanged",((e,i)=>{this._kendoToolbar.enable($(`button[${Ue}="${t}"]`),i)})).on("checkedChanged",((e,i)=>{this._kendoToolbar.toggle($(`button[${Ue}="${t}"]`),i)})),{id:i,type:qe,text:o,icon:n,attributes:{[Ue]:t,[ze]:l,[Be]:s,[Fe]:o},fillMode:"flat",togglable:r===Ke,overflow:a||"auto",showText:"overflow"};default:return console.error(`The data-role attribute is missing or not supported: ${r}`),{}}}executeCommand(e){const t=e.target.get(0)?.dataset.command||"",i=e.target.get(0)?.dataset.commandParameter||"";if(!t)return;const r=this._options.commands[t];r?r.exec(i):console.error(`The provided data-command attribute is not present within the commands collection: ${t}`)}updateExportDropdownItems(e){const t=this.$element.find(`#${He}`).data("kendoDropDownButton");if(!t)return;if(!(e&&e.length>0))return void console.warn("No extensions found - the export dropdown button will remain disabled.");const i=[];e.forEach((e=>i.push({id:e.name,text:e.localizedName,attributes:{[Ue]:"export",[ze]:e.name}})));const r=t.options;r.items=i,t.setOptions(r),t.enable(!0)}}},{name:"telerik_ReportViewer_AiPromptDialog",constructor:class{constructor(e,t,i){if(this.options=$.extend({},Qe,t),this.viewerOptions=i,this.controller=this.options.controller,!this.controller)throw"No controller (telerikReporting.ReportViewerController) has been specified.";if(this.notificationService=this.options.notificationService,!this.notificationService)throw"No notificationService (telerikReporting.NotificationService) has been specified.";this.element=e,this.$element=$(e),this.kendoAiConsentDialog,this.kendoAiPromptDialog,this.kendoAiPrompt,this.kendoAiPromtDialogLocation,this.reportViewerWrapper=$(`[data-selector='${this.viewerOptions.viewerSelector}']`),this.pagesAreaContainer=this.reportViewerWrapper.find('[data-id="trv-pages-area"]'),this.aiPromptDialogInitialized=!1,this.aiPromptInitialized=!1,this.requireConsent=!1,this.allowCustomPrompts=!0,this.predefinedPrompts=[],this.init()}init(){this.aiPromptDialogInitialized||(et(this.$element),this._initAiConsentDialog(),this._attachAiConsentDialogCommands(),this._initAiPromptDialog(),this._attachEvents(),this.aiPromptDialogInitialized=!0)}_attachEvents(){this.controller.on("beginLoadReport",this.close.bind(this)).on("viewModeChanged",this.close.bind(this)),this.notificationService.setAiPromptDialogVisible(((e,t)=>{this.toggleAiPromptDialog(t.visible)})).setSendEmailDialogVisible(((e,t)=>{t.visible&&this.controller.getAiPromptInitiated()&&this.close()})),$(window).on("resize",(()=>{this.kendoAiPromptDialog&&this.kendoAiPromptDialog.options.visible&&(this.storeDialogPosition(),this.adjustDialogPosition(this.kendoAiPromptDialog))}))}_attachAiConsentDialogCommands(){const e={aiConsent_Cancel:new x((()=>{this.kendoAiConsentDialog.close(),this.notificationService.setAiPromptDialogVisible({visible:!1})})),aiConsent_Accept:new x((()=>{this.kendoAiConsentDialog.close(),this.controller.saveToSessionStorage("trvAiConsent","true"),this.controller.setAiPromptInitiated(!0),this.kendoAiPromptDialog&&(this._initAiPrompt(this.predefinedPrompts),this.kendoAiPromptDialog.open())}))};N.attachCommands(this.kendoAiConsentDialog.element.find(".trv-ai-consent-actions"),e,this.viewerOptions)}_initAiConsentDialog(){const e=this.element.querySelector(".trv-ai-consent-dialog");e?(this.kendoAiConsentDialog=new kendo.ui.Window(e,{title:Z.aiPromptDialogConsentTitle||"",width:500,minWidth:400,minHeight:106,maxHeight:800,resizable:!1,scrollable:!0,open:e=>{this.adjustDialogPosition(this.kendoAiConsentDialog)}}),this.kendoAiConsentDialog.element.removeClass("trv-ai-consent-dialog k-hidden"),this.kendoAiConsentDialog.wrapper.addClass("trv-ai-consent-dialog")):console.warn('Failed to initialize AI consent dialog due to missing element with class "trv-ai-consent-dialog".')}_initAiPromptDialog(){const e=this.element.querySelector(".trv-ai-prompt-dialog");e?(this.kendoAiPromptDialog=new kendo.ui.Window(e,{title:!1,visible:!1,draggable:{dragHandle:".k-prompt-header"},height:"fit-content",width:500,minWidth:400,maxHeight:800,scrollable:!0,close:e=>{this.storeDialogPosition()},open:e=>{this.adjustDialogPosition(this.kendoAiPromptDialog)},deactivate:e=>{this.notificationService.setAiPromptDialogVisible({visible:!1})}}),this.kendoAiPromptDialog.element.removeClass("trv-ai-prompt-dialog k-hidden"),this.kendoAiPromptDialog.wrapper.addClass("trv-ai-prompt-dialog")):console.warn('Failed to initialize AI prompt dialog due to missing element with class "trv-ai-prompt-dialog".')}_initAiPrompt(e){if(this.aiPromptInitialized)return this.kendoAiPrompt.setOptions({promptSuggestions:e}),void this.kendoAiPrompt.activeView(this.kendoAiPrompt.activeView());const t=this.kendoAiPromptDialog?.element?.find("#trv-ai-prompt");if(!t)return void console.warn('Failed to initialize AI prompt dialog due to missing element with id "trv-ai-prompt".');const i=this;this.kendoAiPrompt=new kendo.ui.AIPrompt(t,{activeView:0,promptRequest:function(e){e.prompt?i.controller.getAIResponse(e.prompt).then((t=>{this.addPromptOutput(i.createPromptOutputFromResponse(t,e)),this.activeView(1)})).catch((t=>{this.addPromptOutput(i.createPromptOutputFromResponse(t?._responseJSON?.exceptionMessage||t?._responseJSON?.ExceptionMessage,e)),this.activeView(1)})):this.activeView(0)},toolbarItems:[{type:"spacer"},{type:"button",icon:"x",fillMode:"flat",themeColor:"primary",click:e=>{this.close()}}],promptSuggestions:e,views:[{type:"prompt",messages:{promptPlaceholder:"Enter your prompt"}},{type:"output"}]}),this.disableAiPromptTextArea(e&&e.length>0);const r=this.kendoAiPrompt.element.find(".k-prompt-header .k-toolbar").data("kendoToolBar");r&&r.bind("toggle",(t=>{"Ask AI"===t.target.text()&&this.disableAiPromptTextArea(e&&e.length>0)})),this.aiPromptInitialized=!0}disableAiPromptTextArea(e){if(this.allowCustomPrompts)return;let t=Z.aiPromptDialogTextAreaPlaceholder;const i=this.kendoAiPrompt.element.find(".k-prompt-content .k-prompt-view textarea");if(e)t=Z.aiPromptDialogNoCustomPromptsPlaceholder||"";else{const e=this.kendoAiPrompt.element.find(".k-prompt-footer .k-actions");e&&e.addClass("k-disabled"),t=Z.aiPromptDialogNoPredefinedAndCustomPromptsPlaceholder||""}i&&i.attr("placeholder",t)&&i.addClass("k-disabled")}storeDialogPosition(){this.kendoAiPromtDialogLocation=this.kendoAiPromptDialog.wrapper.offset()}adjustDialogPosition(e){var t=$(window).innerWidth(),i=$(window).innerHeight(),r=e.wrapper.outerWidth(!0),n=e.wrapper.outerHeight(!0),a=10;if(this.kendoAiPromtDialogLocation){var o=this.kendoAiPromtDialogLocation.left,s=this.kendoAiPromtDialogLocation.top,l=s+n;o+r>t-a&&(o=Math.max(a,t-r-a),e.setOptions({position:{left:o}})),l>i-a&&(s=Math.max(a,i-n-a),this.kendoAiPromptDialog.setOptions({position:{top:s}}))}else{var c=this.pagesAreaContainer[0].getBoundingClientRect();e.setOptions({position:{top:c.top+a+window.scrollY,left:c.right-r-a-10}})}}toggleAiPromptDialog(e){e?this.open():this.close()}open(){this.controller.createAIThread().then((e=>{if(this.predefinedPrompts=e?.predefinedPrompts,this.allowCustomPrompts=e?.allowCustomPrompts,this.kendoAiConsentDialog&&e.requireConsent&&"true"!==this.controller.loadFromSessionStorage("trvAiConsent"))return $(".trv-ai-consent-content").html(e?.consentMessage),void this.kendoAiConsentDialog.open();this.kendoAiPromptDialog&&(this.controller.setAiPromptInitiated(!0),this._initAiPrompt(this.predefinedPrompts),this.kendoAiPromptDialog.open())}))}close(){this.controller.setAiPromptInitiated(!1),this.kendoAiConsentDialog&&this.kendoAiConsentDialog.close(),this.kendoAiPromptDialog&&this.kendoAiPromptDialog.options.visible&&this.kendoAiPromptDialog.close()}createPromptOutputFromResponse(e,t){return{id:kendo.guid(),output:e,prompt:t.prompt,isRetry:t.isRetry}}}}].forEach((e=>{$.fn[e.name]=function(t,i){return this.each((function(){$.data(this,e.name)||$.data(this,e.name,new e.constructor(this,t,i))}))}})),e.Accessibility=L,e.Binder=N,e.CommandSet=F,e.DocumentMapAreaPositions=j,e.Events=K,e.GlobalSettings=k,e.HistoryManager=Y,e.MemStorage=Le,e.PageModes=z,e.ParameterEditorTypes=W,e.ParameterEditors=de,e.ParameterTypes=G,e.ParameterValidators=ue,e.ParametersArea=Ee,e.ParametersAreaPositions=q,e.PerspectiveManager=pe,e.PrintModes=U,e.ReportViewer=ut,e.ReportViewerController=function(e){return new a.ReportController(e?.serviceClient,e?.settings)},e.ReportViewerNotificationService=function(){return new De},e.ReportViewerServiceClient=function(e){return new a.ServiceClient(e)},e.ReportViewerSettings=xe,e.ScaleModes=H,e.TouchBehavior=$e,e.UIController=me,e.ViewModes=B,e.domUtils=M,e.parameterEditorsMatch=ee,e.utils=R,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),e}({});
